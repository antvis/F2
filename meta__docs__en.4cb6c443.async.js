"use strict";(self.webpackChunk_antv_f2_site=self.webpackChunk_antv_f2_site||[]).push([[9706],{67817:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(7253);var t={}},87349:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(35474);var t={}},24464:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(91060);var t={}},48237:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(95219);var t={}},78669:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(23265);var t={}},55021:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(19421);var t={}},77063:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(63911);var t={}},31340:function(a,e,n){n.r(e),n.d(e,{demos:function(){return t}});n(60736),n(70252);var t={}},69936:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(7253);const t=[{value:"F2 provides a set of top-level APIs for handling JSX elements, component references, and children manipulation. These APIs are re-exported from ",paraId:0},{value:"@antv/f-engine",paraId:0},{value:" through ",paraId:0},{value:"@antv/f2",paraId:0},{value:".",paraId:0},{value:"/**\n * Children utility object for handling children elements\n */\ninterface Children {\n  /**\n   * Map over children array\n   * @param children - Child element or array of child elements\n   * @param callback - Callback function receiving each child\n   * @returns Processed children array\n   */\n  map<T = any>(\n    children: T | T[] | null,\n    callback: (child: T | null) => any\n  ): any;\n\n  /**\n   * Clone and return a new React Element\n   * @param element - Element to clone\n   * @param props - New props to merge\n   * @returns New element\n   */\n  cloneElement(element: any, props: any): any;\n\n  /**\n   * Convert children to an array\n   * @param element - Child element or array of child elements\n   * @returns Array of child elements\n   */\n  toArray<T = any>(element: T | T[] | null): T[] | null;\n\n  /**\n   * Compare two elements\n   * @param nextElement - New element\n   * @param lastElement - Old element\n   * @param callback - Comparison callback\n   */\n  compare<T = any>(\n    nextElement: T | T[] | null,\n    lastElement: T | T[] | null,\n    callback: (next: T | T[] | null, last: T | T[] | null) => any\n  ): any;\n}\n\n/**\n * Create an element reference\n * @param T - Type of the referenced object\n * @returns Reference object with current property\n */\ndeclare function createRef<T = any>(): {\n  current: T;\n};\n\n/**\n * Create JSX element\n * @param type - Element type (component constructor or tag name)\n * @param props - Element properties\n * @param children - Child elements\n * @returns JSX element\n */\ndeclare function jsx(\n  type: ElementType,\n  props: any,\n  ...children: any[]\n): JSX.Element;\n\n/**\n * createElement is an alias for jsx, both are functionally identical\n */\ndeclare function createElement(\n  type: ElementType,\n  props: any,\n  ...children: any[]\n): JSX.Element;\n",paraId:1,tocIndex:0},{value:"Component",paraId:2,tocIndex:1},{value:": Component base class",paraId:3,tocIndex:1},{value:"Canvas",paraId:4,tocIndex:1},{value:": Canvas component",paraId:3,tocIndex:1},{value:"Timeline",paraId:5,tocIndex:1},{value:": Timeline component",paraId:3,tocIndex:1},{value:"Chart",paraId:6,tocIndex:1},{value:": Chart component",paraId:3,tocIndex:1},{value:"Provides a collection of methods for handling ",paraId:7,tocIndex:2},{value:"this.props.children",paraId:7,tocIndex:2},{value:".",paraId:7,tocIndex:2},{value:"Similar to ",paraId:8,tocIndex:3},{value:"Array.map",paraId:8,tocIndex:3},{value:", iterates over children and returns a new array.",paraId:8,tocIndex:3},{value:"Children.map<T = any>(\n  children: T | T[] | null,\n  callback: (child: T | null) => any\n): any\n",paraId:9,tocIndex:4},{value:"Parameter",paraId:10,tocIndex:5},{value:"Type",paraId:10,tocIndex:5},{value:"Description",paraId:10,tocIndex:5},{value:"children",paraId:10,tocIndex:5},{value:"T | T[] | null",paraId:10,tocIndex:5},{value:"Child element or array of child elements to iterate",paraId:10,tocIndex:5},{value:"callback",paraId:10,tocIndex:5},{value:"(child: T | null) => any",paraId:10,tocIndex:5},{value:"Callback function to execute on each child",paraId:10,tocIndex:5},{value:"Processed children array.",paraId:11,tocIndex:6},{value:"Clone an element and merge new props.",paraId:12,tocIndex:7},{value:"Children.cloneElement(element: any, props: any): any\n",paraId:13,tocIndex:8},{value:"Parameter",paraId:14,tocIndex:9},{value:"Type",paraId:14,tocIndex:9},{value:"Description",paraId:14,tocIndex:9},{value:"element",paraId:14,tocIndex:9},{value:"any",paraId:14,tocIndex:9},{value:"Element to clone",paraId:14,tocIndex:9},{value:"props",paraId:14,tocIndex:9},{value:"any",paraId:14,tocIndex:9},{value:"New props object to merge",paraId:14,tocIndex:9},{value:"New element object.",paraId:15,tocIndex:10},{value:"Convert children to array format.",paraId:16,tocIndex:11},{value:"Children.toArray<T = any>(element: T | T[] | null): T[] | null\n",paraId:17,tocIndex:12},{value:"Parameter",paraId:18,tocIndex:13},{value:"Type",paraId:18,tocIndex:13},{value:"Description",paraId:18,tocIndex:13},{value:"element",paraId:18,tocIndex:13},{value:"T | T[] | null",paraId:18,tocIndex:13},{value:"Child element or array of child elements to convert",paraId:18,tocIndex:13},{value:"Array of child elements, or ",paraId:19,tocIndex:14},{value:"null",paraId:19,tocIndex:14},{value:" if input is ",paraId:19,tocIndex:14},{value:"null",paraId:19,tocIndex:14},{value:".",paraId:19,tocIndex:14},{value:"Compare if two elements are equal.",paraId:20,tocIndex:15},{value:"Children.compare<T = any>(\n  nextElement: T | T[] | null,\n  lastElement: T | T[] | null,\n  callback: (next: T | T[] | null, last: T | T[] | null) => any\n): any\n",paraId:21,tocIndex:16},{value:"Parameter",paraId:22,tocIndex:17},{value:"Type",paraId:22,tocIndex:17},{value:"Description",paraId:22,tocIndex:17},{value:"nextElement",paraId:22,tocIndex:17},{value:"T | T[] | null",paraId:22,tocIndex:17},{value:"New element or array of elements",paraId:22,tocIndex:17},{value:"lastElement",paraId:22,tocIndex:17},{value:"T | T[] | null",paraId:22,tocIndex:17},{value:"Old element or array of elements",paraId:22,tocIndex:17},{value:"callback",paraId:22,tocIndex:17},{value:"(next, last) => any",paraId:22,tocIndex:17},{value:"Comparison callback function receiving both new and old elements",paraId:22,tocIndex:17},{value:"The result of the callback function execution.",paraId:23,tocIndex:18},{value:"Provides methods to create JSX elements. ",paraId:24,tocIndex:19},{value:"createElement(type, props, ...children)",paraId:24,tocIndex:19},{value:" and ",paraId:24,tocIndex:19},{value:"jsx(type, props, ...children)",paraId:24,tocIndex:19},{value:" are functionally identical, with ",paraId:24,tocIndex:19},{value:"createElement",paraId:24,tocIndex:19},{value:" being an alias for ",paraId:24,tocIndex:19},{value:"jsx",paraId:24,tocIndex:19},{value:".",paraId:24,tocIndex:19},{value:"declare function jsx(\n  type: ElementType,\n  props: any,\n  ...children: any[]\n): JSX.Element;\n",paraId:25,tocIndex:20},{value:"Parameter",paraId:26,tocIndex:21},{value:"Type",paraId:26,tocIndex:21},{value:"Description",paraId:26,tocIndex:21},{value:"type",paraId:26,tocIndex:21},{value:"ElementType",paraId:26,tocIndex:21},{value:"Element type (component constructor or tag name)",paraId:26,tocIndex:21},{value:"props",paraId:26,tocIndex:21},{value:"any",paraId:26,tocIndex:21},{value:"Element properties object",paraId:26,tocIndex:21},{value:"children",paraId:26,tocIndex:21},{value:"any[]",paraId:26,tocIndex:21},{value:"List of child elements (variadic)",paraId:26,tocIndex:21},{value:"JSX element object.",paraId:27,tocIndex:22},{value:"Provides a method to create a reference (ref). Returns an object with a ",paraId:28,tocIndex:23},{value:"current",paraId:28,tocIndex:23},{value:" property for accessing component instances or DOM elements.",paraId:28,tocIndex:23},{value:"declare function createRef<T = any>(): {\n  current: T;\n};\n",paraId:29,tocIndex:24},{value:"Object with ",paraId:30,tocIndex:25},{value:"current",paraId:30,tocIndex:25},{value:" property, initially ",paraId:30,tocIndex:25},{value:"null",paraId:30,tocIndex:25},{value:".",paraId:30,tocIndex:25},{value:"import { Children } from '@antv/f2';\n\nfunction ParentComponent({ children }) {\n  return (\n    <group>\n      {Children.map(children, (child) => {\n        // Process each child element\n        return child\n      })}\n    </group>\n  )\n}\n",paraId:31,tocIndex:27},{value:"import { Children } from '@antv/f2';\n\nfunction enhanceChildren(children) {\n  return Children.map(children, (child) => {\n    // Add extra props to each child\n    return Children.cloneElement(child, {\n      extraProp: 'value',\n      onClick: handleClick\n    })\n  })\n}\n",paraId:32,tocIndex:28},{value:"import { Children } from '@antv/f2';\n\nfunction analyzeChildren(children) {\n  // Convert children to array for array operations\n  const childrenArray = Children.toArray(children)\n  const count = childrenArray.length\n\n  return <text>Total {count} children</text>\n}\n",paraId:33,tocIndex:29},{value:'import { Chart, createRef } from \'@antv/f2\';\n\nfunction MyComponent() {\n  const chartRef = createRef()\n\n  const handleClick = () => {\n    // Access chart instance via ref\n    const chart = chartRef.current\n    console.log(chart.getLayout())\n  }\n\n  return (\n    <Chart ref={chartRef} data={data}>\n      <Interval x="genre" y="sold" />\n    </Chart>\n  )\n}\n',paraId:34,tocIndex:30},{value:"import { createElement, Chart, Interval } from '@antv/f2';\n\n// Dynamically create chart element\nconst chartElement = createElement(\n  Chart,\n  { data: myData },\n  createElement(Interval, { x: 'genre', y: 'sold' })\n)\n\n// Use in render\n<Canvas context={context}>\n  {chartElement}\n</Canvas>\n",paraId:35,tocIndex:31},{value:"import { createElement, Chart, Interval, Line } from '@antv/f2';\n\nfunction createChart(type, data) {\n  const geometryProps = {\n    x: 'date',\n    y: 'value'\n  }\n\n  const Geometry = type === 'line' ? Line : Interval\n\n  return createElement(\n    Chart,\n    { data },\n    createElement(Geometry, geometryProps)\n  )\n}\n",paraId:36,tocIndex:32},{value:"import { Children } from '@antv/f2';\n\nfunction shouldComponentUpdate(nextProps) {\n  let shouldUpdate = false\n\n  Children.compare(\n    nextProps.children,\n    this.props.children,\n    (next, last) => {\n      if (next !== last) {\n        shouldUpdate = true\n      }\n    }\n  )\n\n  return shouldUpdate\n}\n",paraId:37,tocIndex:33},{value:"F2's ",paraId:38,tocIndex:35},{value:"Children",paraId:38,tocIndex:35},{value:" API is similar to React's, but with these differences:",paraId:38,tocIndex:35},{value:"Implementation source",paraId:39,tocIndex:35},{value:": F2's ",paraId:39,tocIndex:35},{value:"Children",paraId:39,tocIndex:35},{value:" comes from ",paraId:39,tocIndex:35},{value:"@antv/f-engine",paraId:39,tocIndex:35},{value:", optimized for Canvas rendering",paraId:39,tocIndex:35},{value:"Performance considerations",paraId:39,tocIndex:35},{value:": In Canvas environment, use ",paraId:39,tocIndex:35},{value:"Children.toArray",paraId:39,tocIndex:35},{value:" judiciously to avoid unnecessary conversions",paraId:39,tocIndex:35},{value:"Initial value",paraId:40,tocIndex:36},{value:": The created ref object's ",paraId:40,tocIndex:36},{value:"current",paraId:40,tocIndex:36},{value:" property is initially ",paraId:40,tocIndex:36},{value:"null",paraId:40,tocIndex:36},{value:"Assignment timing",paraId:40,tocIndex:36},{value:": ref will be automatically assigned after component mounts",paraId:40,tocIndex:36},{value:"Cleanup",paraId:40,tocIndex:36},{value:": When component unmounts, ",paraId:40,tocIndex:36},{value:"current",paraId:40,tocIndex:36},{value:" will be reset to ",paraId:40,tocIndex:36},{value:"null",paraId:40,tocIndex:36},{value:"jsx",paraId:41,tocIndex:37},{value:": Recommended, consistent with JSX transformer generated code",paraId:41,tocIndex:37},{value:"createElement",paraId:41,tocIndex:37},{value:": Alias for jsx, mainly for compatibility with legacy code",paraId:41,tocIndex:37},{value:"Source locations",paraId:42,tocIndex:37},{value:":",paraId:42,tocIndex:37},{value:"Children: ",paraId:43,tocIndex:37},{value:"@antv/f-engine/src/children",paraId:43,tocIndex:37},{value:"jsx/createElement: ",paraId:43,tocIndex:37},{value:"@antv/f-engine/src/jsx",paraId:43,tocIndex:37},{value:"createRef: ",paraId:43,tocIndex:37},{value:"@antv/f-engine/src/createRef",paraId:43,tocIndex:37},{value:"Exports: ",paraId:43,tocIndex:37},{value:"packages/f2/src/index.ts",paraId:43,tocIndex:37}]},97648:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(35474);const t=[{value:"A coordinate system is a 2D positioning system that combines two position scales, describing how data is mapped to the plane where graphics are located.",paraId:0},{value:"F2 provides two types of coordinate systems: Cartesian (rect) and Polar. All coordinate systems are 2-dimensional.",paraId:1},{value:"Type",paraId:2,tocIndex:0},{value:"Description",paraId:2,tocIndex:0},{value:"Use Cases",paraId:2,tocIndex:0},{value:"rect",paraId:2,tocIndex:0},{value:"Cartesian coordinate system, formed by two perpendicular x and y axes",paraId:2,tocIndex:0},{value:"Bar charts, line charts, scatter plots, etc.",paraId:2,tocIndex:0},{value:"polar",paraId:2,tocIndex:0},{value:"Polar coordinate system, formed by angle and radius dimensions",paraId:2,tocIndex:0},{value:"Pie charts, rose charts, radar charts, etc.",paraId:2,tocIndex:0},{value:"Transforming coordinate system types changes the shape of geometry marks. For example, bar charts transform into various types under different coordinate systems:",paraId:3,tocIndex:1},{value:"Chart Type",paraId:4,tocIndex:1},{value:"Cartesian",paraId:4,tocIndex:1},{value:"Polar (Not Transposed)",paraId:4,tocIndex:1},{value:"Polar (Transposed)",paraId:4,tocIndex:1},{value:"Stacked Bar",paraId:4,tocIndex:1},{value:"Bar",paraId:4,tocIndex:1},{value:"F2 uses Cartesian coordinate system by default. To switch coordinate systems, set the ",paraId:5,tocIndex:2},{value:"coord",paraId:5,tocIndex:2},{value:" attribute on the ",paraId:5,tocIndex:2},{value:"Chart",paraId:5,tocIndex:2},{value:" component:",paraId:5,tocIndex:2},{value:"<Chart\n  data={data}\n  coord={{\n    type: 'polar',\n  }}\n>\n  {/* ... */}\n</Chart>\n",paraId:6,tocIndex:2},{value:"The Cartesian coordinate system (rect) is the default coordinate system type, formed by two perpendicular x and y axes.",paraId:7,tocIndex:3},{value:'<Chart\n  coord={{\n    type: \'rect\',        // Declare Cartesian (can be omitted, default value)\n    transposed: false,   // Whether to transpose axes\n  }}\n>\n  <Interval x="genre" y="sold" />\n</Chart>\n',paraId:8,tocIndex:4},{value:"Swap x and y axes, suitable for bar charts:",paraId:9,tocIndex:5},{value:'<Chart\n  coord={{\n    type: \'rect\',\n    transposed: true,    // Transpose axes\n  }}\n>\n  <Interval x="genre" y="sold" />\n</Chart>\n',paraId:10,tocIndex:5},{value:"The polar coordinate system is formed by angle and radius dimensions, suitable for visualizing periodic data such as time and direction.",paraId:11,tocIndex:6},{value:"<Chart\n  coord={{\n    type: 'polar',           // Declare polar coordinate system\n    startAngle: -Math.PI,    // Start angle (optional)\n    endAngle: 0,             // End angle (optional)\n    innerRadius: 0.3,        // Inner radius, for donut charts (optional)\n    radius: 1,               // Outer radius (optional)\n    transposed: false,       // Whether to transpose (optional)\n  }}\n>\n  {/* ... */}\n</Chart>\n",paraId:12,tocIndex:7},{value:"interface CoordConfig {\n  type?: 'rect' | 'polar';  // Coordinate system type\n  transposed?: boolean;      // Whether to transpose\n  startAngle?: number;       // Start angle (polar only)\n  endAngle?: number;         // End angle (polar only)\n  innerRadius?: number;      // Inner radius (polar only)\n  radius?: number;           // Outer radius (polar only)\n}\n",paraId:13,tocIndex:8},{value:"The default start and end angles for F2 polar coordinates are shown below:",paraId:14,tocIndex:9},{value:"Default start angle: -π (9 o'clock direction)",paraId:15,tocIndex:9},{value:"Default end angle: 0 (3 o'clock direction)",paraId:15,tocIndex:9},{value:"Draw a pie chart using polar coordinates:",paraId:16,tocIndex:11},{value:"const data = [\n  { name: 'Movie A', percent: 0.4, a: '1' },\n  { name: 'Movie B', percent: 0.2, a: '1' },\n  { name: 'Movie C', percent: 0.18, a: '1' },\n  { name: 'Movie D', percent: 0.15, a: '1' },\n  { name: 'Movie E', percent: 0.05, a: '1' },\n  { name: 'Others', percent: 0.02, a: '1' },\n];\n\n<Chart data={data} coord={{ type: 'polar' }}>\n  <Interval x=\"a\" y=\"percent\" color=\"name\" coord=\"polar\" />\n</Chart>\n",paraId:17,tocIndex:11},{value:"Draw a rose chart using polar coordinates:",paraId:18,tocIndex:12},{value:"const data = [\n  { name: 'Jan', value: 30 },\n  { name: 'Feb', value: 40 },\n  { name: 'Mar', value: 35 },\n  { name: 'Apr', value: 50 },\n  { name: 'May', value: 45 },\n  { name: 'Jun', value: 60 },\n];\n\n<Chart data={data} coord={{ type: 'polar', transposed: true }}>\n  <Interval x=\"name\" y=\"value\" color=\"name\" coord=\"polar\" />\n</Chart>\n",paraId:19,tocIndex:12},{value:"Set inner radius to draw a donut chart:",paraId:20,tocIndex:13},{value:'<Chart\n  data={data}\n  coord={{\n    type: \'polar\',\n    innerRadius: 0.5,  // Set inner radius to 0.5\n  }}\n>\n  <Interval x="a" y="percent" color="name" coord="polar" />\n</Chart>\n',paraId:21,tocIndex:13},{value:"Adjust start and end angles:",paraId:22,tocIndex:14},{value:'<Chart\n  data={data}\n  coord={{\n    type: \'polar\',\n    startAngle: -Math.PI / 2,  // -90 degrees\n    endAngle: Math.PI / 2,     // 90 degrees\n  }}\n>\n  <Interval x="a" y="percent" color="name" coord="polar" />\n</Chart>\n',paraId:23,tocIndex:14},{value:"Use transposed mode of polar coordinates:",paraId:24,tocIndex:15},{value:"const data = [\n  { item: 'Attack', value: 80 },\n  { item: 'Defense', value: 70 },\n  { item: 'Speed', value: 90 },\n  { item: 'Power', value: 60 },\n  { item: 'Stamina', value: 75 },\n];\n\n<Chart\n  data={data}\n  scale={{\n    value: {\n      min: 0,\n      max: 100,\n    },\n  }}\n  coord={{\n    type: 'polar',\n    radius: 0.8,\n  }}\n>\n  <Line x=\"item\" y=\"value\" />\n  <Point x=\"item\" y=\"value\" />\n  <Axis field=\"item\" />\n  <Axis field=\"value\" />\n</Chart>\n",paraId:25,tocIndex:15},{value:"Use transposed Cartesian coordinates:",paraId:26,tocIndex:16},{value:'<Chart\n  data={data}\n  coord={{\n    type: \'rect\',\n    transposed: true,  // Transpose axes\n  }}\n>\n  <Interval x="genre" y="sold" color="genre" />\n</Chart>\n',paraId:27,tocIndex:16},{value:'<Chart\n  data={data}\n  coord={{\n    type: \'rect\',\n    transposed: true,\n  }}\n  scale={{\n    sold: {\n      stack: true,  // Enable stacking\n    },\n  }}\n>\n  <Interval x="genre" y="sold" color="type" />\n</Chart>\n',paraId:28,tocIndex:17},{value:"class SwitchableChart extends Component {\n  state = {\n    coordType: 'rect',\n  };\n\n  handleSwitch = () => {\n    this.setState({\n      coordType: this.state.coordType === 'rect' ? 'polar' : 'rect',\n    });\n  };\n\n  render() {\n    const { coordType } = this.state;\n    return (\n      <Chart\n        data={data}\n        coord={{ type: coordType }}\n      >\n        <Interval x=\"genre\" y=\"sold\" color=\"genre\" />\n      </Chart>\n    );\n  }\n}\n",paraId:29,tocIndex:19},{value:"<Chart\n  coord={{\n    type: 'polar',\n    startAngle: -Math.PI,     // Start from 9 o'clock\n    endAngle: 0,              // End at 3 o'clock\n    innerRadius: 0.2,         // 20% inner radius\n    radius: 0.9,              // 90% outer radius\n  }}\n>\n  {/* ... */}\n</Chart>\n",paraId:30,tocIndex:20},{value:"Adjust start and end angles:",paraId:31,tocIndex:22},{value:"coord={{\n  type: 'polar',\n  startAngle: -Math.PI / 2,  // Start from top\n  endAngle: Math.PI / 2,     // End at top\n}}\n",paraId:32,tocIndex:22},{value:"Set the ",paraId:33,tocIndex:23},{value:"innerRadius",paraId:33,tocIndex:23},{value:" attribute:",paraId:33,tocIndex:23},{value:"coord={{\n  type: 'polar',\n  innerRadius: 0.5,  // 50% inner radius\n}}\n",paraId:34,tocIndex:23},{value:"Use transposed mode of polar coordinates:",paraId:35,tocIndex:24},{value:"coord={{\n  type: 'polar',\n  transposed: true,  // Transpose\n}}\n",paraId:36,tocIndex:24},{value:"Use the ",paraId:37,tocIndex:25},{value:"transposed",paraId:37,tocIndex:25},{value:" attribute:",paraId:37,tocIndex:25},{value:"coord={{\n  type: 'rect',\n  transposed: true,  // Swap x and y axes\n}}\n",paraId:38,tocIndex:25},{value:"Chart Grammar",paraId:39,tocIndex:26},{value:"Scale",paraId:40,tocIndex:26},{value:"Core Concepts",paraId:41,tocIndex:26}]},99854:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(91060);const t=[{value:"Data is the most fundamental part of creating charts. F2 requires data sources to be in JSON array format, where each element is a standard JSON object.",paraId:0},{value:"F2's basic data format is a JSON array:",paraId:1,tocIndex:0},{value:"const data = [\n  { year: 2010, sales: 40 },\n  { year: 2011, sales: 30 },\n  { year: 2012, sales: 50 },\n  { year: 2013, sales: 60 },\n  { year: 2014, sales: 70 },\n  { year: 2015, sales: 80 },\n  { year: 2016, sales: 80 },\n  { year: 2017, sales: 90 },\n  { year: 2018, sales: 120 },\n];\n",paraId:2,tocIndex:0},{value:"Using data:",paraId:3,tocIndex:0},{value:'<Canvas context={context}>\n  <Chart data={data}>\n    <Line x="year" y="sales" />\n    <Point x="year" y="sales" />\n    <Tooltip />\n  </Chart>\n</Canvas>\n',paraId:4,tocIndex:0},{value:"Requirement",paraId:5,tocIndex:1},{value:"Description",paraId:5,tocIndex:1},{value:"Array Format",paraId:5,tocIndex:1},{value:"Data source must be an array",paraId:5,tocIndex:1},{value:"Object Elements",paraId:5,tocIndex:1},{value:"Array elements must be objects",paraId:5,tocIndex:1},{value:"Field Names",paraId:5,tocIndex:1},{value:"Object keys serve as field names for mapping to chart properties",paraId:5,tocIndex:1},{value:"Field Values",paraId:5,tocIndex:1},{value:"Supports string, number, array, date, and other types",paraId:5,tocIndex:1},{value:"When drawing a pie chart, each record in the dataset ",paraId:6,tocIndex:3},{value:"must include a constant field (and must be of string type)",paraId:6,tocIndex:3},{value:":",paraId:6,tocIndex:3},{value:"const data = [\n  { name: 'Movie A', percent: 0.4, a: '1' },\n  { name: 'Movie B', percent: 0.2, a: '1' },\n  { name: 'Movie C', percent: 0.18, a: '1' },\n  { name: 'Movie D', percent: 0.15, a: '1' },\n  { name: 'Movie E', percent: 0.05, a: '1' },\n  { name: 'Others', percent: 0.02, a: '1' },\n];\n\n<Chart data={data} coord={{ type: 'polar' }}>\n  <Interval x=\"a\" y=\"percent\" color=\"name\" coord=\"polar\" />\n</Chart>\n",paraId:7,tocIndex:3},{value:"Why is a constant field needed?",paraId:8,tocIndex:3},{value:"Pie charts use polar coordinate systems where all data needs to be mapped to the same angular range. The constant field (e.g., ",paraId:9,tocIndex:3},{value:"a: '1'",paraId:9,tocIndex:3},{value:") ensures all data points share the same angular starting position.",paraId:9,tocIndex:3},{value:"When data on the x-axis or y-axis is an array, it will automatically be mapped to an interval, creating an interval bar chart:",paraId:10,tocIndex:4},{value:"const data = [\n  { x: 'Category 1', y: [76, 100] },\n  { x: 'Category 2', y: [56, 108] },\n  { x: 'Category 3', y: [38, 129] },\n  { x: 'Category 4', y: [58, 155] },\n  { x: 'Category 5', y: [45, 120] },\n  { x: 'Category 6', y: [23, 99] },\n  { x: 'Category 7', y: [18, 56] },\n  { x: 'Category 8', y: [18, 34] },\n];\n\n<Chart data={data}>\n  <Interval x=\"x\" y=\"y\" />\n</Chart>\n",paraId:11,tocIndex:4},{value:"The array represents the minimum and maximum values of the interval: ",paraId:12,tocIndex:4},{value:"[minimum, maximum]",paraId:12,tocIndex:4},{value:"Candlestick charts require open, close, highest, and lowest prices, using array format:",paraId:13,tocIndex:5},{value:'const data = [\n  { date: \'2023-01\', value: [100, 110, 95, 120] },  // [open, close, lowest, highest]\n  { date: \'2023-02\', value: [110, 105, 100, 115] },\n  { date: \'2023-03\', value: [105, 120, 102, 125] },\n];\n\n<Chart data={data}>\n  <Axis field="date" type="timeCat" />\n  <Candlestick x="date" y="value" />\n</Chart>\n',paraId:14,tocIndex:5},{value:"Array format:",paraId:15,tocIndex:5},{value:" ",paraId:15,tocIndex:5},{value:"[open, close, lowest, highest]",paraId:15,tocIndex:5},{value:"open",paraId:16,tocIndex:5},{value:" - Opening price",paraId:16,tocIndex:5},{value:"close",paraId:16,tocIndex:5},{value:" - Closing price",paraId:16,tocIndex:5},{value:"lowest",paraId:16,tocIndex:5},{value:" - Lowest price",paraId:16,tocIndex:5},{value:"highest",paraId:16,tocIndex:5},{value:" - Highest price",paraId:16,tocIndex:5},{value:"Scatter plots can include additional dimensions (such as size):",paraId:17,tocIndex:6},{value:'const data = [\n  { x: 10, y: 20, size: 5, category: \'A\' },\n  { x: 15, y: 25, size: 10, category: \'B\' },\n  { x: 20, y: 18, size: 8, category: \'A\' },\n];\n\n<Chart data={data}>\n  <Point x="x" y="y" size="size" color="category" />\n</Chart>\n',paraId:18,tocIndex:6},{value:"Before passing to Chart, you can use JavaScript array methods to filter data:",paraId:19,tocIndex:8},{value:"const rawData = [\n  { year: 2010, sales: 40, category: 'A' },\n  { year: 2011, sales: 30, category: 'B' },\n  { year: 2012, sales: 50, category: 'A' },\n  { year: 2013, sales: 60, category: 'B' },\n];\n\n// Keep only data where category is 'A'\nconst data = rawData.filter(item => item.category === 'A');\n\n<Chart data={data}>\n  <Line x=\"year\" y=\"sales\" />\n</Chart>\n",paraId:20,tocIndex:8},{value:"const rawData = [\n  { name: 'A', value: 30 },\n  { name: 'B', value: 50 },\n  { name: 'C', value: 20 },\n];\n\n// Sort by value in descending order\nconst data = [...rawData].sort((a, b) => b.value - a.value);\n\n<Chart data={data}>\n  <Interval x=\"name\" y=\"value\" />\n</Chart>\n",paraId:21,tocIndex:9},{value:"const rawData = [\n  { category: 'A', value: 10 },\n  { category: 'A', value: 20 },\n  { category: 'B', value: 30 },\n  { category: 'B', value: 40 },\n];\n\n// Aggregate by category (sum)\nconst aggregated = {};\nrawData.forEach(item => {\n  if (!aggregated[item.category]) {\n    aggregated[item.category] = 0;\n  }\n  aggregated[item.category] += item.value;\n});\n\nconst data = Object.entries(aggregated).map(([category, value]) => ({\n  category,\n  value,\n}));\n\n// Result: [{ category: 'A', value: 30 }, { category: 'B', value: 70 }]\n",paraId:22,tocIndex:10},{value:"const rawData = [\n  { date: '2023-01-01', value: 100 },\n  { date: '2023-02-01', value: 120 },\n];\n\n// Transform date format\nconst data = rawData.map(item => ({\n  ...item,\n  date: new Date(item.date),\n  // Or add computed fields\n  valueFormatted: item.value.toFixed(2),\n}));\n",paraId:23,tocIndex:11},{value:"F2 supports dynamic data updates with animated transitions:",paraId:24,tocIndex:12},{value:"let chart = null;\n\n// Initial data\nconst data1 = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n];\n\nconst { props } = (\n  <Canvas context={context}>\n    <Chart data={data1}>\n      <Interval x=\"genre\" y=\"sold\" />\n    </Chart>\n  </Canvas>\n);\n\nchart = new Canvas(props);\nchart.render();\n\n// Update data\nconst data2 = [\n  { genre: 'Sports', sold: 350 },\n  { genre: 'Strategy', sold: 200 },\n];\n\nconst { props: newProps } = (\n  <Canvas context={context}>\n    <Chart data={data2}>\n      <Interval x=\"genre\" y=\"sold\" />\n    </Chart>\n  </Canvas>\n);\n\nchart.update(newProps); // Automatically triggers animation\n",paraId:25,tocIndex:12},{value:'// Display empty state when data is empty\nconst data = [];\n\nif (data.length === 0) {\n  // Show empty state\n  return <EmptyState />;\n}\n\nreturn (\n  <Chart data={data}>\n    <Interval x="genre" y="sold" />\n  </Chart>\n);\n',paraId:26,tocIndex:14},{value:"const data = [\n  { year: 2010, sales: 40 },\n  { year: 2011, sales: null }, // Missing value\n  { year: 2012, sales: 50 },\n];\n\n// Filter out missing values\nconst cleanData = data.filter(item => item.sales != null);\n\n// Or fill with default value\nconst filledData = data.map(item => ({\n  ...item,\n  sales: item.sales ?? 0,\n}));\n",paraId:27,tocIndex:15},{value:"For large datasets, consider:",paraId:28,tocIndex:16},{value:"Data Sampling",paraId:29,tocIndex:16},{value:": Random sampling on the frontend",paraId:29,tocIndex:16},{value:"Data Pagination",paraId:29,tocIndex:16},{value:": Only load current page data",paraId:29,tocIndex:16},{value:"Server-side Aggregation",paraId:29,tocIndex:16},{value:": Complete aggregation calculations on the server",paraId:29,tocIndex:16},{value:'// Data sampling example\nfunction sampleData(data, maxSize) {\n  if (data.length <= maxSize) return data;\n  const step = Math.ceil(data.length / maxSize);\n  return data.filter((_, index) => index % step === 0);\n}\n\nconst largeData = [...]; // Large dataset\nconst sampledData = sampleData(largeData, 1000);\n\n<Chart data={sampledData}>\n  <Line x="date" y="value" />\n</Chart>\n',paraId:30,tocIndex:16},{value:"import { Canvas, Chart, Interval, Axis, Tooltip } from '@antv/f2';\n\nconst rawData = [\n  { month: 'Jan', sales: 100, profit: 20 },\n  { month: 'Feb', sales: 120, profit: 25 },\n  { month: 'Mar', sales: 90, profit: 15 },\n  { month: 'Apr', sales: 150, profit: 35 },\n  { month: 'May', sales: 180, profit: 40 },\n  { month: 'Jun', sales: 200, profit: 45 },\n];\n\n// Data processing: Add profit rate field\nconst data = rawData.map(item => ({\n  ...item,\n  profitRate: (item.profit / item.sales * 100).toFixed(2) + '%',\n}));\n\nconst context = document.getElementById('container').getContext('2d');\n\nconst { props } = (\n  <Canvas context={context}>\n    <Chart\n      data={data}\n      scale={{\n        sales: {\n          min: 0,\n        },\n      }}\n    >\n      <Axis field=\"month\" />\n      <Axis field=\"sales\" />\n      <Interval x=\"month\" y=\"sales\" color=\"month\" />\n      <Tooltip />\n    </Chart>\n  </Canvas>\n);\n\nconst canvas = new Canvas(props);\ncanvas.render();\n",paraId:31,tocIndex:17},{value:"Constant data defined directly in code:",paraId:32,tocIndex:19},{value:"const data = [\n  { x: 1, y: 2 },\n  { x: 2, y: 4 },\n];\n",paraId:33,tocIndex:19},{value:"Fetched from remote API:",paraId:34,tocIndex:20},{value:'async function fetchData() {\n  const response = await fetch(\'https://api.example.com/data\');\n  const data = await response.json();\n\n  const { props } = (\n    <Canvas context={context}>\n      <Chart data={data}>\n        <Interval x="category" y="value" />\n      </Chart>\n    </Canvas>\n  );\n\n  const canvas = new Canvas(props);\n  canvas.render();\n}\n\nfetchData();\n',paraId:35,tocIndex:20},{value:"Responsive to user interactions:",paraId:36,tocIndex:21},{value:'function updateChart(userInput) {\n  const data = processData(userInput);\n\n  const { props: newProps } = (\n    <Canvas context={context}>\n      <Chart data={data}>\n        <Interval x="category" y="value" />\n      </Chart>\n    </Canvas>\n  );\n\n  chart.update(newProps);\n}\n',paraId:37,tocIndex:21},{value:"Pie Chart Example",paraId:38,tocIndex:22},{value:"Interval Bar Chart Example",paraId:39,tocIndex:22},{value:"Candlestick Chart Example",paraId:40,tocIndex:22},{value:"Dynamic Data Example",paraId:41,tocIndex:22},{value:"Scale",paraId:42,tocIndex:23},{value:"Core Concepts",paraId:43,tocIndex:23},{value:"Chart Grammar",paraId:44,tocIndex:23}]},5e3:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(95219);const t=[{value:"F2 是基于 ",paraId:0},{value:"CanvasRenderingContext2D",paraId:0},{value:" 的标准接口绘制的，所以只要能提供标准 ",paraId:0},{value:"CanvasRenderingContext2D",paraId:0},{value:" 接口的实现对象，F2 就能进行图表绘制。",paraId:0},{value:"在小程序中提供的 ",paraId:1,tocIndex:0},{value:"context",paraId:1,tocIndex:0},{value:" 对象不是标准的 ",paraId:1,tocIndex:0},{value:"CanvasRenderingContext2D",paraId:1,tocIndex:0},{value:"，所以封装的核心思路是将 ",paraId:1,tocIndex:0},{value:"context",paraId:1,tocIndex:0},{value:" 和 ",paraId:1,tocIndex:0},{value:"CanvasRenderingContext2D",paraId:1,tocIndex:0},{value:" 对齐。F2 针对支付宝和微信这两个常见场景做了一层 ",paraId:1,tocIndex:0},{value:"context",paraId:1,tocIndex:0},{value:" 的对齐，详见：",paraId:1,tocIndex:0},{value:"https://github.com/antvis/f2-context。其他小程序也可以按同样的思路封装。",paraId:1,tocIndex:0},{value:"为了方便使用，我们针对支付宝和微信分别封装了对应的自定义组件。",paraId:2,tocIndex:1},{value:"F2 的支付宝小程序版本。",paraId:3,tocIndex:2},{value:"GitHub: my-f2",paraId:4,tocIndex:2},{value:"使用文档",paraId:4,tocIndex:2},{value:"F2 的微信小程序图表组件。",paraId:5,tocIndex:3},{value:"GitHub: wx-f2",paraId:6,tocIndex:3},{value:"使用文档",paraId:6,tocIndex:3},{value:"注意",paraId:7,tocIndex:3},{value:"：详细使用说明请参考 ",paraId:7,tocIndex:3},{value:"小程序集成教程",paraId:8,tocIndex:3},{value:"。",paraId:7,tocIndex:3}]},52098:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(23265);const t=[{value:"This guide will help you get started with F2, from installation to rendering your first chart.",paraId:0},{value:"Starting from F2 4.0, we use declarative programming to build charts, providing a more intuitive development experience:",paraId:1,tocIndex:0},{value:"Declarative programming makes code more intuitive and concise, avoiding complex API calls. F2 uses JSX syntax, which is not only easy to use but also integrates seamlessly with frameworks like React and Vue.",paraId:2,tocIndex:1},{value:"Components are essential for building complex visualizations. F2 follows React's design patterns and provides a complete set of component capabilities, making it simple to encapsulate your own components.",paraId:3,tocIndex:2},{value:" ",paraId:4,tocIndex:4},{value:"npm install @antv/f2 --save\n",paraId:5,tocIndex:4},{value:'<script src="https://unpkg.com/@antv/f2/dist/index.min.js"><\/script>\n',paraId:6,tocIndex:5},{value:"F2 uses JSX syntax to build charts, so you need to configure JSX transformation tools.",paraId:7,tocIndex:6},{value:"Note: If your project is already using React, refer to ",paraId:8,tocIndex:6},{value:"How to use with React",paraId:9,tocIndex:6},{value:"For detailed configuration instructions, see: ",paraId:10,tocIndex:6},{value:"Configure JSX Transform",paraId:11,tocIndex:6},{value:"Create a ",paraId:12,tocIndex:8},{value:"<canvas>",paraId:12,tocIndex:8},{value:" element on your page:",paraId:12,tocIndex:8},{value:'<canvas id="myChart" width="400" height="260"></canvas>\n',paraId:13,tocIndex:8},{value:"// F2 requires data in JSON array format, where each element is a standard JSON object\nconst data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n\n// Get canvas context\nconst context = document.getElementById('myChart').getContext('2d');\nconst { props } = (\n  <Canvas context={context} pixelRatio={window.devicePixelRatio}>\n    <Chart data={data}>\n      <Axis field=\"genre\" />\n      <Axis field=\"sold\" />\n      <Interval x=\"genre\" y=\"sold\" color=\"genre\" />\n      <Tooltip />\n    </Chart>\n  </Canvas>\n);\n\nconst canvas = new Canvas(props);\ncanvas.render();\n",paraId:14,tocIndex:9},{value:"After completing these two steps, save the file and open it in your browser. A bar chart will be successfully rendered:",paraId:15,tocIndex:9},{value:"Canvas",paraId:16,tocIndex:11},{value:" is the root container of the chart, responsible for providing the rendering environment:",paraId:16,tocIndex:11},{value:"Prop",paraId:17,tocIndex:11},{value:"Type",paraId:17,tocIndex:11},{value:"Default",paraId:17,tocIndex:11},{value:"Description",paraId:17,tocIndex:11},{value:"context",paraId:17,tocIndex:11},{value:"CanvasRenderingContext2D",paraId:17,tocIndex:11},{value:"-",paraId:17,tocIndex:11},{value:"Required",paraId:17,tocIndex:11},{value:", Canvas 2D context",paraId:17,tocIndex:11},{value:"pixelRatio",paraId:17,tocIndex:11},{value:"number",paraId:17,tocIndex:11},{value:"window.devicePixelRatio",paraId:17,tocIndex:11},{value:"Device pixel ratio for high-DPI screen adaptation",paraId:17,tocIndex:11},{value:"width",paraId:17,tocIndex:11},{value:"number",paraId:17,tocIndex:11},{value:"-",paraId:17,tocIndex:11},{value:"Canvas width (prioritizes canvas element's width)",paraId:17,tocIndex:11},{value:"height",paraId:17,tocIndex:11},{value:"number",paraId:17,tocIndex:11},{value:"-",paraId:17,tocIndex:11},{value:"Canvas height (prioritizes canvas element's height)",paraId:17,tocIndex:11},{value:"animate",paraId:17,tocIndex:11},{value:"boolean",paraId:17,tocIndex:11},{value:"true",paraId:17,tocIndex:11},{value:"Whether to enable animation",paraId:17,tocIndex:11},{value:"children",paraId:17,tocIndex:11},{value:"ReactNode",paraId:17,tocIndex:11},{value:"-",paraId:17,tocIndex:11},{value:"Child components",paraId:17,tocIndex:11},{value:"Chart",paraId:18,tocIndex:12},{value:" is the core component of the chart, responsible for data processing and coordinate transformation:",paraId:18,tocIndex:12},{value:"Prop",paraId:19,tocIndex:12},{value:"Type",paraId:19,tocIndex:12},{value:"Default",paraId:19,tocIndex:12},{value:"Description",paraId:19,tocIndex:12},{value:"data",paraId:19,tocIndex:12},{value:"Data[]",paraId:19,tocIndex:12},{value:"-",paraId:19,tocIndex:12},{value:"Required",paraId:19,tocIndex:12},{value:", data source",paraId:19,tocIndex:12},{value:"scale",paraId:19,tocIndex:12},{value:"ScaleConfig",paraId:19,tocIndex:12},{value:"-",paraId:19,tocIndex:12},{value:"Scale configuration",paraId:19,tocIndex:12},{value:"coord",paraId:19,tocIndex:12},{value:"CoordConfig",paraId:19,tocIndex:12},{value:"-",paraId:19,tocIndex:12},{value:"Coordinate system configuration",paraId:19,tocIndex:12},{value:"children",paraId:19,tocIndex:12},{value:"ReactNode",paraId:19,tocIndex:12},{value:"-",paraId:19,tocIndex:12},{value:"Child components",paraId:19,tocIndex:12},{value:"Interval",paraId:20,tocIndex:13},{value:" is used to render bar charts:",paraId:20,tocIndex:13},{value:"Prop",paraId:21,tocIndex:13},{value:"Type",paraId:21,tocIndex:13},{value:"Default",paraId:21,tocIndex:13},{value:"Description",paraId:21,tocIndex:13},{value:"x",paraId:21,tocIndex:13},{value:"string",paraId:21,tocIndex:13},{value:"-",paraId:21,tocIndex:13},{value:"Required",paraId:21,tocIndex:13},{value:", x-axis field name",paraId:21,tocIndex:13},{value:"y",paraId:21,tocIndex:13},{value:"string",paraId:21,tocIndex:13},{value:"-",paraId:21,tocIndex:13},{value:"Required",paraId:21,tocIndex:13},{value:", y-axis field name",paraId:21,tocIndex:13},{value:"color",paraId:21,tocIndex:13},{value:"string | Function",paraId:21,tocIndex:13},{value:"-",paraId:21,tocIndex:13},{value:"Color field or color mapping function",paraId:21,tocIndex:13},{value:"Axis",paraId:22,tocIndex:14},{value:" is used to configure coordinate axes:",paraId:22,tocIndex:14},{value:"Prop",paraId:23,tocIndex:14},{value:"Type",paraId:23,tocIndex:14},{value:"Default",paraId:23,tocIndex:14},{value:"Description",paraId:23,tocIndex:14},{value:"field",paraId:23,tocIndex:14},{value:"string",paraId:23,tocIndex:14},{value:"-",paraId:23,tocIndex:14},{value:"Required",paraId:23,tocIndex:14},{value:", field name",paraId:23,tocIndex:14},{value:"position",paraId:23,tocIndex:14},{value:"string",paraId:23,tocIndex:14},{value:"-",paraId:23,tocIndex:14},{value:"Axis position (",paraId:23,tocIndex:14},{value:"top",paraId:23,tocIndex:14},{value:", ",paraId:23,tocIndex:14},{value:"bottom",paraId:23,tocIndex:14},{value:", ",paraId:23,tocIndex:14},{value:"left",paraId:23,tocIndex:14},{value:", ",paraId:23,tocIndex:14},{value:"right",paraId:23,tocIndex:14},{value:")",paraId:23,tocIndex:14},{value:"Tooltip",paraId:24,tocIndex:15},{value:" is used to display data tooltip information.",paraId:24,tocIndex:15},{value:"For more examples, see ",paraId:25,tocIndex:16},{value:"Demos",paraId:26,tocIndex:16},{value:".",paraId:25,tocIndex:16},{value:"Learn about ",paraId:27,tocIndex:17},{value:"Core Concepts",paraId:28,tocIndex:17},{value:"Study ",paraId:27,tocIndex:17},{value:"Chart Grammar",paraId:29,tocIndex:17},{value:"View ",paraId:27,tocIndex:17},{value:"Component API",paraId:30,tocIndex:17},{value:"Learn how to ",paraId:27,tocIndex:17},{value:"Use with Frameworks",paraId:31,tocIndex:17}]},35300:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(19421);const t=[{value:'F2 is based on the graphic theory proposed in the book "The Grammar of Graphics" by Leland Wilkinson. This theory is a set of grammar rules that describe the deep characteristics of all statistical graphics, answering the question "what is a statistical graphic" by organizing the most basic elements in a bottom-up manner to form higher-level elements.',paraId:0,tocIndex:0},{value:"For F2, ",paraId:1,tocIndex:0},{value:"there is no concept of specific chart types. All charts are formed by combining different graphic grammar elements",paraId:1,tocIndex:0},{value:".",paraId:1,tocIndex:0},{value:"F2's graphic grammar consists of the following core elements:",paraId:2,tocIndex:1},{value:"Data\n  ↓\nScale\n  ↓\nGeometry + Attribute\n  ↓\nCoordinate\n  ↓\nAuxiliary Elements (Axis, Legend, Tooltip, Guide)\n",paraId:3,tocIndex:1},{value:"Data is the most fundamental part of visualization. F2 requires the data source to be in JSON array format:",paraId:4,tocIndex:2},{value:"const data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n",paraId:5,tocIndex:2},{value:"For detailed data processing instructions, see: ",paraId:6,tocIndex:2},{value:"Data Processing",paraId:7,tocIndex:2},{value:"Geometry marks are the graphic elements you actually see in charts, such as points, lines, polygons, etc. Each geometry mark object contains multiple graphic attributes. The core of F2's graphic grammar is establishing the mapping from variables in data to graphic attributes.",paraId:8,tocIndex:3},{value:"Geometry Mark",paraId:9,tocIndex:4},{value:"Component",paraId:9,tocIndex:4},{value:"Chart Type",paraId:9,tocIndex:4},{value:"Interval",paraId:9,tocIndex:4},{value:"<Interval />",paraId:9,tocIndex:4},{value:"Bar chart, column chart, histogram",paraId:9,tocIndex:4},{value:"Line",paraId:9,tocIndex:4},{value:"<Line />",paraId:9,tocIndex:4},{value:"Line chart, curve chart",paraId:9,tocIndex:4},{value:"Point",paraId:9,tocIndex:4},{value:"<Point />",paraId:9,tocIndex:4},{value:"Scatter plot, dot plot, bubble chart",paraId:9,tocIndex:4},{value:"Area",paraId:9,tocIndex:4},{value:"<Area />",paraId:9,tocIndex:4},{value:"Area chart, interval chart",paraId:9,tocIndex:4},{value:"Candlestick",paraId:9,tocIndex:4},{value:"<Candlestick />",paraId:9,tocIndex:4},{value:"Candlestick chart",paraId:9,tocIndex:4},{value:'// Bar chart\n<Interval x="genre" y="sold" color="genre" />\n\n// Line chart\n<Line x="date" y="value" color="type" />\n\n// Scatter plot\n<Point x="weight" y="height" color="gender" size="value" />\n\n// Area chart\n<Area x="date" y="value" color="type" />\n',paraId:10,tocIndex:5},{value:"For detailed geometry instructions, see: ",paraId:11,tocIndex:5},{value:"Geometry",paraId:12,tocIndex:5},{value:"Graphic attributes control the visual appearance of geometry marks. F2 provides the following four graphic attributes:",paraId:13,tocIndex:6},{value:"Attribute",paraId:14,tocIndex:6},{value:"Description",paraId:14,tocIndex:6},{value:"Example",paraId:14,tocIndex:6},{value:"position",paraId:14,tocIndex:6},{value:"Position, maps fields to x or y axis",paraId:14,tocIndex:6},{value:'x="genre", y="sold"',paraId:14,tocIndex:6},{value:"color",paraId:14,tocIndex:6},{value:"Color, supports field or function",paraId:14,tocIndex:6},{value:'color="genre"',paraId:14,tocIndex:6},{value:" or ",paraId:14,tocIndex:6},{value:"color={datum => datum.value > 100 ? 'red' : 'blue'}",paraId:14,tocIndex:6},{value:"size",paraId:14,tocIndex:6},{value:"Size, controls point size, line thickness, etc.",paraId:14,tocIndex:6},{value:"size={10}",paraId:14,tocIndex:6},{value:" or ",paraId:14,tocIndex:6},{value:"size={datum => datum.value}",paraId:14,tocIndex:6},{value:"shape",paraId:14,tocIndex:6},{value:"Shape, controls the shape of geometry marks",paraId:14,tocIndex:6},{value:'shape="circle"',paraId:14,tocIndex:6},{value:" or ",paraId:14,tocIndex:6},{value:'shape="hollowCircle"',paraId:14,tocIndex:6},{value:'// Color mapping - field\n<Interval x="genre" y="sold" color="genre" />\n\n// Color mapping - function\n<Point\n  x="weight"\n  y="height"\n  color={datum => datum.weight > 70 ? \'red\' : \'blue\'}\n/>\n\n// Size mapping\n<Point x="category" y="value" size={datum => datum.value} />\n\n// Shape mapping\n<Point x="category" y="value" shape="circle" />\n',paraId:15,tocIndex:7},{value:"For detailed graphic attribute instructions, see: ",paraId:16,tocIndex:7},{value:"Shape Attributes",paraId:17,tocIndex:7},{value:"Scale serves as the bridge for converting from data space to graphic attribute space. Each graphic attribute corresponds to one or more scales.",paraId:18,tocIndex:8},{value:"Type",paraId:19,tocIndex:9},{value:"Description",paraId:19,tocIndex:9},{value:"Use Case",paraId:19,tocIndex:9},{value:"linear",paraId:19,tocIndex:9},{value:"Linear scale",paraId:19,tocIndex:9},{value:"Continuous numeric data",paraId:19,tocIndex:9},{value:"cat",paraId:19,tocIndex:9},{value:"Category scale",paraId:19,tocIndex:9},{value:"Categorical data",paraId:19,tocIndex:9},{value:"time",paraId:19,tocIndex:9},{value:"Time scale",paraId:19,tocIndex:9},{value:"Time/date data",paraId:19,tocIndex:9},{value:"log",paraId:19,tocIndex:9},{value:"Logarithmic scale",paraId:19,tocIndex:9},{value:"Exponential growth data",paraId:19,tocIndex:9},{value:"pow",paraId:19,tocIndex:9},{value:"Power scale",paraId:19,tocIndex:9},{value:"Data emphasizing differences",paraId:19,tocIndex:9},{value:"<Chart\n  data={data}\n  scale={{\n    sold: {\n      type: 'linear',\n      min: 0,\n      max: 500,\n      tickCount: 5,\n    },\n    genre: {\n      type: 'cat',\n    },\n    date: {\n      type: 'time',\n      mask: 'YYYY-MM-DD',\n    },\n  }}\n>\n  {/* ... */}\n</Chart>\n",paraId:20,tocIndex:10},{value:"For detailed scale instructions, see: ",paraId:21,tocIndex:10},{value:"Scale",paraId:22,tocIndex:10},{value:"Coordinate describes how data is mapped to the plane where the graphic is located. A geometry mark will have different appearances under different coordinate systems.",paraId:23,tocIndex:11},{value:"Type",paraId:24,tocIndex:12},{value:"Description",paraId:24,tocIndex:12},{value:"Use Case",paraId:24,tocIndex:12},{value:"rect",paraId:24,tocIndex:12},{value:"Cartesian coordinate system (default)",paraId:24,tocIndex:12},{value:"Bar charts, line charts, scatter plots, etc.",paraId:24,tocIndex:12},{value:"polar",paraId:24,tocIndex:12},{value:"Polar coordinate system",paraId:24,tocIndex:12},{value:"Pie charts, rose charts, radar charts, etc.",paraId:24,tocIndex:12},{value:"helix",paraId:24,tocIndex:12},{value:"Helix coordinate system",paraId:24,tocIndex:12},{value:"Special visualization scenarios",paraId:24,tocIndex:12},{value:'// Cartesian coordinate system (default)\n<Chart data={data}>\n  <Interval x="genre" y="sold" />\n</Chart>\n\n// Polar coordinate system - pie chart\n<Chart data={data} coord={{ type: \'polar\' }}>\n  <Interval x="genre" y="sold" color="genre" coord="polar" />\n</Chart>\n\n// Polar coordinate system - rose chart\n<Chart data={data} coord={{ type: \'polar\', innerRadius: 0.3 }}>\n  <Interval x="genre" y="sold" color="genre" coord="polar" />\n</Chart>\n',paraId:25,tocIndex:13},{value:"For detailed coordinate instructions, see: ",paraId:26,tocIndex:13},{value:"Coordinate",paraId:27,tocIndex:13},{value:"Auxiliary elements are used to enhance the readability and comprehensibility of charts, including:",paraId:28,tocIndex:14},{value:"Component",paraId:29,tocIndex:14},{value:"Description",paraId:29,tocIndex:14},{value:"Axis",paraId:29,tocIndex:14},{value:"Coordinate axis, displaying data ticks and labels",paraId:29,tocIndex:14},{value:"Legend",paraId:29,tocIndex:14},{value:"Legend, indicating different data types",paraId:29,tocIndex:14},{value:"Tooltip",paraId:29,tocIndex:14},{value:"Tooltip, displaying detailed data information",paraId:29,tocIndex:14},{value:"Guide",paraId:29,tocIndex:14},{value:"Guide mark, adding auxiliary lines, text, etc.",paraId:29,tocIndex:14},{value:'<Chart data={data}>\n  <Axis field="genre" />\n  <Axis field="sold" />\n  <Interval x="genre" y="sold" color="genre" />\n  <Tooltip />\n  <Legend />\n</Chart>\n',paraId:30,tocIndex:15},{value:"The following is an example using the complete graphic grammar:",paraId:31,tocIndex:16},{value:"const data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n\nconst context = document.getElementById('container').getContext('2d');\n\nconst { props } = (\n  <Canvas context={context}>\n    <Chart\n      data={data}\n      scale={{\n        sold: {\n          min: 0,\n          tickInterval: 50,\n        },\n      }}\n    >\n      <Axis field=\"genre\" />\n      <Axis field=\"sold\" />\n      <Interval x=\"genre\" y=\"sold\" color=\"genre\" />\n      <Tooltip />\n      <Legend />\n    </Chart>\n  </Canvas>\n);\n\nconst canvas = new Canvas(props);\ncanvas.render();\n",paraId:32,tocIndex:16},{value:"The graphic grammar mapping relationship in the above example:",paraId:33,tocIndex:17},{value:"Level",paraId:34,tocIndex:17},{value:"Element",paraId:34,tocIndex:17},{value:"Description",paraId:34,tocIndex:17},{value:"Data",paraId:34,tocIndex:17},{value:"data",paraId:34,tocIndex:17},{value:"Sales data in JSON array format",paraId:34,tocIndex:17},{value:"Scale",paraId:34,tocIndex:17},{value:"scale",paraId:34,tocIndex:17},{value:"sold field uses linear scale with minimum value of 0",paraId:34,tocIndex:17},{value:"Geometry",paraId:34,tocIndex:17},{value:"<Interval />",paraId:34,tocIndex:17},{value:"Uses bar chart geometry mark",paraId:34,tocIndex:17},{value:"Graphic Attributes",paraId:34,tocIndex:17},{value:"x",paraId:34,tocIndex:17},{value:", ",paraId:34,tocIndex:17},{value:"y",paraId:34,tocIndex:17},{value:", ",paraId:34,tocIndex:17},{value:"color",paraId:34,tocIndex:17},{value:"genre maps to x-axis, sold maps to y-axis, genre maps to color",paraId:34,tocIndex:17},{value:"Coordinate",paraId:34,tocIndex:17},{value:"Default rect",paraId:34,tocIndex:17},{value:"Uses Cartesian coordinate system",paraId:34,tocIndex:17},{value:"Auxiliary Elements",paraId:34,tocIndex:17},{value:"<Axis />",paraId:34,tocIndex:17},{value:", ",paraId:34,tocIndex:17},{value:"<Tooltip />",paraId:34,tocIndex:17},{value:", ",paraId:34,tocIndex:17},{value:"<Legend />",paraId:34,tocIndex:17},{value:"Adds coordinate axis, tooltip, and legend",paraId:34,tocIndex:17},{value:"In F2, a chart is a mapping from data to the graphic attributes of geometry mark objects. After understanding the graphic grammar, you can:",paraId:35,tocIndex:18},{value:"Flexible Combination",paraId:36,tocIndex:18},{value:": Create various charts by combining different geometry marks and graphic attributes",paraId:36,tocIndex:18},{value:"Precise Control",paraId:36,tocIndex:18},{value:": Precisely control chart appearance through scales, coordinates, and other elements",paraId:36,tocIndex:18},{value:"Quick Extension",paraId:36,tocIndex:18},{value:": Quickly create new visualization types based on graphic grammar",paraId:36,tocIndex:18},{value:"Core Concepts",paraId:37,tocIndex:19},{value:"Data Processing",paraId:38,tocIndex:19},{value:"Scale",paraId:39,tocIndex:19},{value:"Geometry",paraId:40,tocIndex:19},{value:"Shape Attributes",paraId:41,tocIndex:19},{value:"Coordinate",paraId:42,tocIndex:19}]},98443:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(63911);const t=[{value:"Scale is the conversion bridge between data space and graphic space, responsible for converting raw data to values in the [0, 1] range and vice versa. Different data types correspond to different scale types.",paraId:0},{value:"Based on data types, F2 supports the following scale types:",paraId:1,tocIndex:0},{value:"Type",paraId:2,tocIndex:0},{value:"Description",paraId:2,tocIndex:0},{value:"Use Cases",paraId:2,tocIndex:0},{value:"identity",paraId:2,tocIndex:0},{value:"Constant type, where a data field remains unchanged",paraId:2,tocIndex:0},{value:"Constant fields",paraId:2,tocIndex:0},{value:"linear",paraId:2,tocIndex:0},{value:"Continuous numbers, such as [1, 2, 3, 4, 5]",paraId:2,tocIndex:0},{value:"Continuous numerical data",paraId:2,tocIndex:0},{value:"cat",paraId:2,tocIndex:0},{value:"Categorical, such as ['Male', 'Female']",paraId:2,tocIndex:0},{value:"Categorical data",paraId:2,tocIndex:0},{value:"timeCat",paraId:2,tocIndex:0},{value:"Time type",paraId:2,tocIndex:0},{value:"Time and date data",paraId:2,tocIndex:0},{value:"Define scales through the ",paraId:3,tocIndex:1},{value:"scale",paraId:3,tocIndex:1},{value:" property of the ",paraId:3,tocIndex:1},{value:"Chart",paraId:3,tocIndex:1},{value:" component:",paraId:3,tocIndex:1},{value:"const data = [\n  { a: 'a', b: 20 },\n  { a: 'b', b: 12 },\n  { a: 'c', b: 8 },\n];\n\n<Chart\n  data={data}\n  scale={{\n    a: {\n      type: 'cat',      // Declare field a as categorical type\n    },\n    b: {\n      min: 0,           // Manually specify minimum value\n      max: 100,         // Manually specify maximum value\n    },\n  }}\n>\n  <Interval x=\"a\" y=\"b\" />\n</Chart>\n",paraId:4,tocIndex:1},{value:"Common properties supported by all scale types:",paraId:5,tocIndex:2},{value:"Property",paraId:6,tocIndex:2},{value:"Type",paraId:6,tocIndex:2},{value:"Description",paraId:6,tocIndex:2},{value:"type",paraId:6,tocIndex:2},{value:"string",paraId:6,tocIndex:2},{value:"Scale type: ",paraId:6,tocIndex:2},{value:"identity",paraId:6,tocIndex:2},{value:", ",paraId:6,tocIndex:2},{value:"linear",paraId:6,tocIndex:2},{value:", ",paraId:6,tocIndex:2},{value:"cat",paraId:6,tocIndex:2},{value:", ",paraId:6,tocIndex:2},{value:"timeCat",paraId:6,tocIndex:2},{value:"formatter",paraId:6,tocIndex:2},{value:"Function",paraId:6,tocIndex:2},{value:"Format tick point text, affects axis, legend, and tooltip display",paraId:6,tocIndex:2},{value:"range",paraId:6,tocIndex:2},{value:"Array",paraId:6,tocIndex:2},{value:"Output range in format ",paraId:6,tocIndex:2},{value:"[min, max]",paraId:6,tocIndex:2},{value:", defaults to ",paraId:6,tocIndex:2},{value:"[0, 1]",paraId:6,tocIndex:2},{value:"alias",paraId:6,tocIndex:2},{value:"string",paraId:6,tocIndex:2},{value:"Display alias for the field, used for converting English names to Chinese names",paraId:6,tocIndex:2},{value:"tickCount",paraId:6,tocIndex:2},{value:"number",paraId:6,tocIndex:2},{value:"Number of tick points on the axis",paraId:6,tocIndex:2},{value:"ticks",paraId:6,tocIndex:2},{value:"Array",paraId:6,tocIndex:2},{value:"Specify the text information for tick points",paraId:6,tocIndex:2},{value:"For continuous numerical data.",paraId:7,tocIndex:3},{value:"Property",paraId:8,tocIndex:4},{value:"Type",paraId:8,tocIndex:4},{value:"Description",paraId:8,tocIndex:4},{value:"nice",paraId:8,tocIndex:4},{value:"boolean",paraId:8,tocIndex:4},{value:"Optimize numeric range to make tick marks evenly distributed, defaults to ",paraId:8,tocIndex:4},{value:"true",paraId:8,tocIndex:4},{value:"min",paraId:8,tocIndex:4},{value:"number",paraId:8,tocIndex:4},{value:"Minimum value of numeric range",paraId:8,tocIndex:4},{value:"max",paraId:8,tocIndex:4},{value:"number",paraId:8,tocIndex:4},{value:"Maximum value of numeric range",paraId:8,tocIndex:4},{value:"tickInterval",paraId:8,tocIndex:4},{value:"number",paraId:8,tocIndex:4},{value:"Interval between tick points, mutually exclusive with tickCount",paraId:8,tocIndex:4},{value:'// Basic configuration\n<Chart\n  scale={{\n    value: {\n      type: \'linear\',\n      min: 0,\n      max: 100,\n      tickCount: 5,\n    },\n  }}\n>\n  <Line x="date" y="value" />\n</Chart>\n\n// Using tickInterval\n<Chart\n  scale={{\n    value: {\n      type: \'linear\',\n      min: 0,\n      max: 100,\n      tickInterval: 20,  // 0, 20, 40, 60, 80, 100\n    },\n  }}\n>\n  <Line x="date" y="value" />\n</Chart>\n\n// Using nice to optimize range\n<Chart\n  scale={{\n    value: {\n      type: \'linear\',\n      nice: true,  // [3, 97] → [0, 100]\n    },\n  }}\n>\n  <Line x="date" y="value" />\n</Chart>\n\n// Using formatter for formatting\n<Chart\n  scale={{\n    value: {\n      type: \'linear\',\n      formatter: (val) => `${val}%`,\n    },\n  }}\n>\n  <Line x="date" y="value" />\n</Chart>\n',paraId:9,tocIndex:5},{value:"interface LinearScaleConfig {\n  type?: 'linear';\n  min?: number;\n  max?: number;\n  nice?: boolean;\n  tickCount?: number;\n  tickInterval?: number;\n  range?: [number, number];\n  alias?: string;\n  formatter?: (value: number) => string;\n  ticks?: number[];\n}\n",paraId:10,tocIndex:6},{value:"For categorical data.",paraId:11,tocIndex:7},{value:"Property",paraId:12,tocIndex:8},{value:"Type",paraId:12,tocIndex:8},{value:"Description",paraId:12,tocIndex:8},{value:"values",paraId:12,tocIndex:8},{value:"Array",paraId:12,tocIndex:8},{value:"Specify the order of categorical values",paraId:12,tocIndex:8},{value:"isRounding",paraId:12,tocIndex:8},{value:"boolean",paraId:12,tocIndex:8},{value:"Whether to allow rounding to satisfy even tick distribution, defaults to ",paraId:12,tocIndex:8},{value:"false",paraId:12,tocIndex:8},{value:"// Basic configuration\n<Chart\n  scale={{\n    genre: {\n      type: 'cat',\n    },\n  }}\n>\n  <Interval x=\"genre\" y=\"sold\" />\n</Chart>\n\n// Specify category order\n<Chart\n  scale={{\n    level: {\n      type: 'cat',\n      values: ['Minimum', 'Moderate', 'Maximum'],\n    },\n  }}\n>\n  <Interval x=\"level\" y=\"value\" />\n</Chart>\n",paraId:13,tocIndex:9},{value:"Scenario 1: Specify Category Order",paraId:14,tocIndex:10},{value:"const data = [\n  { level: 'max', value: 100 },\n  { level: 'min', value: 10 },\n  { level: 'mid', value: 50 },\n];\n\n<Chart\n  data={data}\n  scale={{\n    level: {\n      type: 'cat',\n      values: ['min', 'mid', 'max'],  // Display in specified order\n    },\n  }}\n>\n  <Interval x=\"level\" y=\"value\" />\n</Chart>\n",paraId:15,tocIndex:10},{value:"Scenario 2: Numeric to Category Mapping (Index Mapping)",paraId:16,tocIndex:10},{value:"const data = [\n  { month: 0, value: 7 },\n  { month: 1, value: 12 },\n  { month: 2, value: 18 },\n];\n\n<Chart\n  data={data}\n  scale={{\n    month: {\n      type: 'cat',\n      values: ['January', 'February', 'March'],  // month values serve as indices\n    },\n  }}\n>\n  <Line x=\"month\" y=\"value\" />\n</Chart>\n",paraId:17,tocIndex:10},{value:"For time and date data, ",paraId:18,tocIndex:11},{value:"sorts data by default",paraId:18,tocIndex:11},{value:".",paraId:18,tocIndex:11},{value:"Property",paraId:19,tocIndex:12},{value:"Type",paraId:19,tocIndex:12},{value:"Description",paraId:19,tocIndex:12},{value:"nice",paraId:19,tocIndex:12},{value:"boolean",paraId:19,tocIndex:12},{value:"Whether to optimize ticks for better readability",paraId:19,tocIndex:12},{value:"mask",paraId:19,tocIndex:12},{value:"string",paraId:19,tocIndex:12},{value:"Time format, defaults to ",paraId:19,tocIndex:12},{value:"'YYYY-MM-DD'",paraId:19,tocIndex:12},{value:"sortable",paraId:19,tocIndex:12},{value:"boolean",paraId:19,tocIndex:12},{value:"Whether to sort, defaults to ",paraId:19,tocIndex:12},{value:"true",paraId:19,tocIndex:12},{value:". Can be set to ",paraId:19,tocIndex:12},{value:"false",paraId:19,tocIndex:12},{value:" for pre-sorted data to improve performance",paraId:19,tocIndex:12},{value:"values",paraId:19,tocIndex:12},{value:"Array",paraId:19,tocIndex:12},{value:"Specify the order of specific time values",paraId:19,tocIndex:12},{value:"// Basic configuration\n<Chart\n  scale={{\n    date: {\n      type: 'timeCat',\n      mask: 'YYYY-MM-DD',\n    },\n  }}\n>\n  <Line x=\"date\" y=\"value\" />\n</Chart>\n\n// Custom time format\n<Chart\n  scale={{\n    date: {\n      type: 'timeCat',\n      mask: 'MM/DD',  // 01/15\n    },\n  }}\n>\n  <Line x=\"date\" y=\"value\" />\n</Chart>\n\n// Performance optimization: data already sorted\n<Chart\n  data={sortedData}\n  scale={{\n    date: {\n      type: 'timeCat',\n      sortable: false,  // Skip sorting, improve performance\n    },\n  }}\n>\n  <Line x=\"date\" y=\"value\" />\n</Chart>\n\n// Specify time order\n<Chart\n  scale={{\n    quarter: {\n      type: 'cat',\n      values: ['Q1', 'Q2', 'Q3', 'Q4'],\n    },\n  }}\n>\n  <Interval x=\"quarter\" y=\"value\" />\n</Chart>\n",paraId:20,tocIndex:13},{value:"interface TimeCatScaleConfig {\n  type?: 'timeCat';\n  nice?: boolean;\n  mask?: string;\n  sortable?: boolean;\n  tickCount?: number;\n  values?: string[];\n  range?: [number, number];\n  alias?: string;\n  formatter?: (value: string | Date) => string;\n  ticks?: string[];\n}\n",paraId:21,tocIndex:14},{value:'<Chart\n  scale={{\n    value: {\n      min: 0,       // Set minimum value\n      max: 100,     // Set maximum value\n      tickCount: 5, // 5 tick points\n    },\n  }}\n>\n  <Line x="date" y="value" />\n</Chart>\n',paraId:22,tocIndex:16},{value:'<Chart\n  scale={{\n    value: {\n      formatter: (val) => `${val}K`,\n    },\n    date: {\n      formatter: (val) => {\n        const date = new Date(val);\n        return `${date.getMonth() + 1}/${date.getDate()}`;\n      },\n    },\n  }}\n>\n  <Line x="date" y="value" />\n  <Axis field="value" />\n  <Axis field="date" />\n</Chart>\n',paraId:23,tocIndex:17},{value:'<Chart\n  scale={{\n    value: {\n      min: 0,\n      max: 100,\n      tickInterval: 25,  // 0, 25, 50, 75, 100\n    },\n  }}\n>\n  <Line x="date" y="value" />\n</Chart>\n',paraId:24,tocIndex:18},{value:'<Chart\n  scale={{\n    value: {\n      ticks: [0, 25, 50, 75, 100],  // Custom tick values\n    },\n  }}\n>\n  <Line x="date" y="value" />\n</Chart>\n',paraId:25,tocIndex:19},{value:"<Chart\n  scale={{\n    // x-axis: categorical scale\n    genre: {\n      type: 'cat',\n      values: ['Sports', 'Strategy', 'Action', 'Shooter', 'Other'],\n    },\n    // y-axis: linear scale\n    sold: {\n      type: 'linear',\n      min: 0,\n      nice: true,\n    },\n    // color: categorical scale\n    color: {\n      type: 'cat',\n    },\n  }}\n>\n  <Interval x=\"genre\" y=\"sold\" color=\"genre\" />\n</Chart>\n",paraId:26,tocIndex:20},{value:"Control the position where data maps to graphics:",paraId:27,tocIndex:22},{value:'<Chart\n  scale={{\n    value: {\n      min: 0,\n      max: 100,\n      range: [0, 0.8],  // Leave 20% space at the top\n    },\n  }}\n>\n  <Interval x="genre" y="sold" />\n</Chart>\n',paraId:28,tocIndex:22},{value:"Used to convert English field names to Chinese names:",paraId:29,tocIndex:23},{value:"<Chart\n  scale={{\n    genre: {\n      alias: 'Type',  // Display alias in legend, tooltip, etc.\n    },\n    sold: {\n      alias: 'Sales',\n    },\n  }}\n>\n  <Interval x=\"genre\" y=\"sold\" />\n  <Legend />\n  <Tooltip />\n</Chart>\n",paraId:30,tocIndex:23},{value:'class DynamicChart extends Component {\n  state = {\n    maxValue: 100,\n  };\n\n  updateMaxValue = () => {\n    this.setState({\n      maxValue: 200,\n    });\n  };\n\n  render() {\n    const { maxValue } = this.state;\n    return (\n      <Chart\n        data={data}\n        scale={{\n          value: {\n            type: \'linear\',\n            max: maxValue,\n          },\n        }}\n      >\n        <Interval x="genre" y="sold" />\n      </Chart>\n    );\n  }\n}\n',paraId:31,tocIndex:24},{value:"interface ScaleConfig {\n  type?: 'linear' | 'cat' | 'timeCat' | 'identity';\n\n  // Common properties\n  range?: [number, number];\n  alias?: string;\n  formatter?: (value: any) => string;\n  tickCount?: number;\n  ticks?: any[];\n\n  // linear specific\n  min?: number;\n  max?: number;\n  nice?: boolean;\n  tickInterval?: number;\n\n  // cat specific\n  values?: any[];\n  isRounding?: boolean;\n\n  // timeCat specific\n  mask?: string;\n  sortable?: boolean;\n}\n\ninterface ChartScaleConfig {\n  [fieldName: string]: ScaleConfig;\n}\n",paraId:32,tocIndex:26},{value:"scale={{\n  value: {\n    min: 0,  // Set minimum value to 0\n  },\n}}\n",paraId:33,tocIndex:28},{value:"Use the ",paraId:34,tocIndex:29},{value:"tickInterval",paraId:34,tocIndex:29},{value:" property:",paraId:34,tocIndex:29},{value:"scale={{\n  value: {\n    tickInterval: 20,\n  },\n}}\n",paraId:35,tocIndex:29},{value:"Use ",paraId:36,tocIndex:30},{value:"formatter",paraId:36,tocIndex:30},{value:" or ",paraId:36,tocIndex:30},{value:"ticks",paraId:36,tocIndex:30},{value:":",paraId:36,tocIndex:30},{value:"// Method 1: formatter\nscale={{\n  value: {\n    formatter: (val) => `${val}K`,\n  },\n}}\n\n// Method 2: ticks\nscale={{\n  value: {\n    ticks: [0, 25, 50, 75, 100],\n  },\n}}\n",paraId:37,tocIndex:30},{value:"Set ",paraId:38,tocIndex:31},{value:"sortable: false",paraId:38,tocIndex:31},{value:" to skip sorting:",paraId:38,tocIndex:31},{value:"scale={{\n  date: {\n    type: 'timeCat',\n    sortable: false,\n  },\n}}\n",paraId:39,tocIndex:31},{value:"No",paraId:40,tocIndex:32},{value:". If both are set, ",paraId:40,tocIndex:32},{value:"formatter",paraId:40,tocIndex:32},{value:" takes precedence and ",paraId:40,tocIndex:32},{value:"mask",paraId:40,tocIndex:32},{value:" will not take effect.",paraId:40,tocIndex:32},{value:"Coordinate System",paraId:41,tocIndex:33},{value:"Chart Grammar",paraId:42,tocIndex:33},{value:"Core Concepts",paraId:43,tocIndex:33}]},81874:function(a,e,n){n.r(e),n.d(e,{texts:function(){return t}});n(70252);const t=[{value:"To better use F2 for data visualization, we need to understand the composition of F2 charts and related terminology.",paraId:0},{value:"F2 charts adopt a declarative component-based architecture. A complete chart is composed of multiple components:",paraId:1,tocIndex:0},{value:"Canvas (Canvas Container)\n  └── Chart (Chart Core)\n        ├── Axis (Coordinate Axis)\n        ├── Geometry (Geometry Mark)\n        ├── Tooltip (Tooltip)\n        ├── Legend (Legend)\n        └── Guide (Guide Mark)\n",paraId:2,tocIndex:0},{value:"Term",paraId:3,tocIndex:2},{value:"English",paraId:3,tocIndex:2},{value:"Description",paraId:3,tocIndex:2},{value:"Coordinate Axis",paraId:3,tocIndex:2},{value:"Axis",paraId:3,tocIndex:2},{value:"Charts typically contain two axes. In Cartesian coordinates, these are the x-axis and y-axis; in polar coordinates, they are composed of angle and radius. Each axis consists of axis line, tick line, label, and grid.",paraId:3,tocIndex:2},{value:"Legend",paraId:3,tocIndex:2},{value:"Legend",paraId:3,tocIndex:2},{value:"An auxiliary element for charts, used to indicate different data types and ranges, assisting in reading charts and helping users filter data.",paraId:3,tocIndex:2},{value:"Geometry Mark",paraId:3,tocIndex:2},{value:"Geometry",paraId:3,tocIndex:2},{value:"Geometric shapes such as points, lines, and areas. The type of geometry mark determines the chart type and represents the actual visualization of data.",paraId:3,tocIndex:2},{value:"Graphic Attribute",paraId:3,tocIndex:2},{value:"Attribute",paraId:3,tocIndex:2},{value:"Corresponds to visual channels in visual encoding, including position, color, size, and shape.",paraId:3,tocIndex:2},{value:"Coordinate System",paraId:3,tocIndex:2},{value:"Coordinate",paraId:3,tocIndex:2},{value:"A 2D positioning system combining two position scales, describing how data is mapped to the graphic plane.",paraId:3,tocIndex:2},{value:"Tooltip",paraId:3,tocIndex:2},{value:"Tooltip",paraId:3,tocIndex:2},{value:"Displays data information in a tooltip when hovering over a point, helping users obtain specific data.",paraId:3,tocIndex:2},{value:"Guide Mark",paraId:3,tocIndex:2},{value:"Guide",paraId:3,tocIndex:2},{value:"Useful for drawing auxiliary lines, boxes, or text on charts, such as warning lines, maximum value lines, or highlighting specific ranges.",paraId:3,tocIndex:2},{value:"F2 uses declarative JSX syntax for more intuitive and concise code:",paraId:4,tocIndex:3},{value:'<Canvas context={context} pixelRatio={window.devicePixelRatio}>\n  <Chart data={data}>\n    {/* Coordinate axes */}\n    <Axis field="genre" />\n    <Axis field="sold" />\n\n    {/* Geometry mark - bar chart */}\n    <Interval x="genre" y="sold" color="genre" />\n\n    {/* Tooltip */}\n    <Tooltip />\n\n    {/* Legend */}\n    <Legend />\n  </Chart>\n</Canvas>\n',paraId:5,tocIndex:3},{value:"Intuitive",paraId:6,tocIndex:4},{value:": Clear component structure at a glance",paraId:6,tocIndex:4},{value:"Concise",paraId:6,tocIndex:4},{value:": Avoid complex API call chains",paraId:6,tocIndex:4},{value:"Composable",paraId:6,tocIndex:4},{value:": Components can be combined and nested flexibly",paraId:6,tocIndex:4},{value:"Framework-friendly",paraId:6,tocIndex:4},{value:": Seamless integration with React, Vue",paraId:6,tocIndex:4},{value:"Canvas is the root container of the chart, providing the rendering environment:",paraId:7,tocIndex:6},{value:"<Canvas context={context} pixelRatio={window.devicePixelRatio}>\n  {/* Child components */}\n</Canvas>\n",paraId:8,tocIndex:6},{value:"Prop",paraId:9,tocIndex:6},{value:"Type",paraId:9,tocIndex:6},{value:"Default",paraId:9,tocIndex:6},{value:"Description",paraId:9,tocIndex:6},{value:"context",paraId:9,tocIndex:6},{value:"CanvasRenderingContext2D",paraId:9,tocIndex:6},{value:"-",paraId:9,tocIndex:6},{value:"Required",paraId:9,tocIndex:6},{value:", Canvas 2D context",paraId:9,tocIndex:6},{value:"pixelRatio",paraId:9,tocIndex:6},{value:"number",paraId:9,tocIndex:6},{value:"window.devicePixelRatio",paraId:9,tocIndex:6},{value:"Device pixel ratio",paraId:9,tocIndex:6},{value:"width",paraId:9,tocIndex:6},{value:"number",paraId:9,tocIndex:6},{value:"-",paraId:9,tocIndex:6},{value:"Canvas width",paraId:9,tocIndex:6},{value:"height",paraId:9,tocIndex:6},{value:"number",paraId:9,tocIndex:6},{value:"-",paraId:9,tocIndex:6},{value:"Canvas height",paraId:9,tocIndex:6},{value:"animate",paraId:9,tocIndex:6},{value:"boolean",paraId:9,tocIndex:6},{value:"true",paraId:9,tocIndex:6},{value:"Whether to enable animation",paraId:9,tocIndex:6},{value:"Chart is responsible for data processing and coordinate transformation:",paraId:10,tocIndex:7},{value:"<Chart data={data}>\n  {/* Geometry marks and components */}\n</Chart>\n",paraId:11,tocIndex:7},{value:"Prop",paraId:12,tocIndex:7},{value:"Type",paraId:12,tocIndex:7},{value:"Default",paraId:12,tocIndex:7},{value:"Description",paraId:12,tocIndex:7},{value:"data",paraId:12,tocIndex:7},{value:"Data[]",paraId:12,tocIndex:7},{value:"-",paraId:12,tocIndex:7},{value:"Required",paraId:12,tocIndex:7},{value:", data source",paraId:12,tocIndex:7},{value:"scale",paraId:12,tocIndex:7},{value:"ScaleConfig",paraId:12,tocIndex:7},{value:"-",paraId:12,tocIndex:7},{value:"Scale configuration",paraId:12,tocIndex:7},{value:"coord",paraId:12,tocIndex:7},{value:"CoordConfig",paraId:12,tocIndex:7},{value:"-",paraId:12,tocIndex:7},{value:"Coordinate system configuration",paraId:12,tocIndex:7},{value:"Geometry marks determine the chart type. F2 provides various built-in geometry marks:",paraId:13,tocIndex:8},{value:"Geometry Mark",paraId:14,tocIndex:8},{value:"Component",paraId:14,tocIndex:8},{value:"Chart Type",paraId:14,tocIndex:8},{value:"Interval",paraId:14,tocIndex:8},{value:"<Interval />",paraId:14,tocIndex:8},{value:"Bar chart, column chart",paraId:14,tocIndex:8},{value:"Line",paraId:14,tocIndex:8},{value:"<Line />",paraId:14,tocIndex:8},{value:"Line chart, curve chart",paraId:14,tocIndex:8},{value:"Point",paraId:14,tocIndex:8},{value:"<Point />",paraId:14,tocIndex:8},{value:"Scatter plot, dot plot",paraId:14,tocIndex:8},{value:"Area",paraId:14,tocIndex:8},{value:"<Area />",paraId:14,tocIndex:8},{value:"Area chart",paraId:14,tocIndex:8},{value:"Candlestick",paraId:14,tocIndex:8},{value:"<Candlestick />",paraId:14,tocIndex:8},{value:"Candlestick chart",paraId:14,tocIndex:8},{value:'// Bar chart\n<Interval x="genre" y="sold" color="genre" />\n\n// Line chart\n<Line x="date" y="value" color="type" />\n\n// Scatter plot\n<Point x="weight" y="height" color="gender" />\n',paraId:15,tocIndex:8},{value:"Graphic attributes control the visual appearance of geometry marks:",paraId:16,tocIndex:9},{value:"Attribute",paraId:17,tocIndex:9},{value:"Description",paraId:17,tocIndex:9},{value:"Example",paraId:17,tocIndex:9},{value:"position",paraId:17,tocIndex:9},{value:"Position, maps fields to x or y axis",paraId:17,tocIndex:9},{value:'x="genre", y="sold"',paraId:17,tocIndex:9},{value:"color",paraId:17,tocIndex:9},{value:"Color, supports field or function",paraId:17,tocIndex:9},{value:'color="genre"',paraId:17,tocIndex:9},{value:" or ",paraId:17,tocIndex:9},{value:"color={datum => datum.value > 100 ? 'red' : 'blue'}",paraId:17,tocIndex:9},{value:"size",paraId:17,tocIndex:9},{value:"Size, controls point size, line thickness, etc.",paraId:17,tocIndex:9},{value:"size={10}",paraId:17,tocIndex:9},{value:" or ",paraId:17,tocIndex:9},{value:"size={datum => datum.value}",paraId:17,tocIndex:9},{value:"shape",paraId:17,tocIndex:9},{value:"Shape, controls the shape of geometry marks",paraId:17,tocIndex:9},{value:'shape="circle"',paraId:17,tocIndex:9},{value:" or ",paraId:17,tocIndex:9},{value:'shape="hollowCircle"',paraId:17,tocIndex:9},{value:"Coordinate system describes how data is mapped to the plane:",paraId:18,tocIndex:10},{value:"Type",paraId:19,tocIndex:10},{value:"Description",paraId:19,tocIndex:10},{value:"Configuration",paraId:19,tocIndex:10},{value:"rect",paraId:19,tocIndex:10},{value:"Cartesian coordinate system (default)",paraId:19,tocIndex:10},{value:'<coord type="rect" />',paraId:19,tocIndex:10},{value:"polar",paraId:19,tocIndex:10},{value:"Polar coordinate system",paraId:19,tocIndex:10},{value:'<coord type="polar" />',paraId:19,tocIndex:10},{value:"helix",paraId:19,tocIndex:10},{value:"Helix coordinate system",paraId:19,tocIndex:10},{value:'<coord type="helix" />',paraId:19,tocIndex:10},{value:'// Use polar coordinate system (pie chart, rose chart, etc.)\n<Chart data={data} coord={{ type: \'polar\' }}>\n  <Interval x="genre" y="sold" color="genre" coord="polar" />\n</Chart>\n',paraId:20,tocIndex:10},{value:"Scale is used to convert data into graphic attributes:",paraId:21,tocIndex:11},{value:"<Chart\n  data={data}\n  scale={{\n    sold: {\n      min: 0,\n      max: 500,\n      tickCount: 5,\n    },\n    genre: {\n      type: 'cat',\n    },\n  }}\n>\n  {/* ... */}\n</Chart>\n",paraId:22,tocIndex:11},{value:"For detailed configuration, see: ",paraId:23,tocIndex:11},{value:"Scale",paraId:24,tocIndex:11},{value:"F2 requires the data source to be a JSON array, where each element is a standard JSON object:",paraId:25,tocIndex:12},{value:"const data = [\n  { genre: 'Sports', sold: 275, year: 2023 },\n  { genre: 'Strategy', sold: 115, year: 2023 },\n  { genre: 'Action', sold: 120, year: 2023 },\n  { genre: 'Shooter', sold: 350, year: 2023 },\n  { genre: 'Other', sold: 150, year: 2023 },\n];\n",paraId:26,tocIndex:12},{value:"For data processing, see: ",paraId:27,tocIndex:12},{value:"Data Processing",paraId:28,tocIndex:12},{value:"const data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n\nconst context = document.getElementById('container').getContext('2d');\n\nconst { props } = (\n  <Canvas context={context} pixelRatio={window.devicePixelRatio}>\n    <Chart\n      data={data}\n      scale={{\n        sold: {\n          min: 0,\n          tickInterval: 50,\n        },\n      }}\n    >\n      <Axis field=\"genre\" />\n      <Axis field=\"sold\" />\n      <Interval x=\"genre\" y=\"sold\" color=\"genre\" />\n      <Tooltip />\n      <Legend />\n    </Chart>\n  </Canvas>\n);\n\nconst canvas = new Canvas(props);\ncanvas.render();\n",paraId:29,tocIndex:13},{value:"Learn ",paraId:30,tocIndex:14},{value:"Chart Grammar",paraId:31,tocIndex:14},{value:"Understand ",paraId:30,tocIndex:14},{value:"Data Processing",paraId:32,tocIndex:14},{value:"View ",paraId:30,tocIndex:14},{value:"Component API",paraId:33,tocIndex:14},{value:"Learn ",paraId:30,tocIndex:14},{value:"Graphic Attributes",paraId:34,tocIndex:14}]}}]);