(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("react"),require("react-dom")):"function"===typeof define&&define.amd?define("wccV2",["react","react-dom"],e):"object"===typeof exports?exports["wccV2"]=e(require("react"),require("react-dom")):t["wccV2"]=e(t["React"],t["ReactDOM"])})(self,(function(t,e){return function(){var n={7232:function(t){"use strict";function e(t,e){var r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"===typeof btoa){var o=n(i),a=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}function n(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var r=e(n,t);return n[2]?"@media ".concat(n[2]," {").concat(r,"}"):r})).join("")},n.i=function(t,e,r){"string"===typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(e&&(u[2]?u[2]="".concat(e," and ").concat(u[2]):u[2]=e),n.push(u))}},n}},4511:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},3210:function(t){function e(t){return null!==t&&("object"===typeof t||"function"===typeof t)}function n(t){return t?Array.isArray(t)?t.join("."):t:""}t.exports=function(t,r,i,o,a){if(!e(t)||!r)return t;if(r=n(r),i&&(r+="."+n(i)),o&&(r+="."+n(o)),a&&(r+="."+n(a)),r in t)return t[r];var s=r.split("."),u=s.length,l=-1;while(t&&++l<u){var c=s[l];while("\\"===c[c.length-1])c=c.slice(0,-1)+"."+s[++l];t=t[c]}return t}},5121:function(t){(function(e,n){t.exports=n()})(0,(function(){"use strict";function t(t,n,i,o,a){e(t,n,i||0,o||t.length-1,a||r)}function e(t,r,i,o,a){while(o>i){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),f=Math.max(i,Math.floor(r-u*c/s+h)),p=Math.min(o,Math.floor(r+(s-u)*c/s+h));e(t,r,f,p,a)}var d=t[r],v=i,y=o;n(t,i,r),a(t[o],d)>0&&n(t,i,o);while(v<y){n(t,v,y),v++,y--;while(a(t[v],d)<0)v++;while(a(t[y],d)>0)y--}0===a(t[i],d)?n(t,i,y):(y++,n(t,y,o)),y<=r&&(i=y+1),r<=y&&(o=y-1)}}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];u(i,t.leaf?r(a):a)}return i}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function v(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,n,r,i,o){var a=[n,r];while(a.length)if(r=a.pop(),n=a.pop(),!(r-n<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!y(t,e))return n;var r=this.toBBox,i=[];while(e){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;y(t,s)&&(e.leaf?n.push(a):v(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!y(t,e))return!1;var n=[];while(e){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(y(t,o)){if(e.leaf||v(t,o))return!0;n.push(i)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=g([]),this},i.prototype.remove=function(t,e){if(!t)return this;var n,r,i,a=this.data,s=this.toBBox(t),u=[],l=[];while(a||u.length){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),i=!0),a.leaf){var c=o(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}i||a.leaf||!v(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){var n=[];while(t)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return i=g(t.slice(e,n+1)),a(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),i=g([]),i.leaf=!1,i.height=r;var u=Math.ceil(o/s),l=u*Math.ceil(Math.sqrt(s));m(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);m(t,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var p=Math.min(f+u-1,h);i.children.push(this._build(t,f,p,r-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(t,e,n,r){while(1){if(r.push(e),e.leaf||r.length-1===n)break;for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=h(u),c=p(t,u)-l;c<o?(o=c,i=l<i?l:i,a=u):c===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}return e},i.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);o.children.push(t),u(o,r);while(e>=0){if(!(i[e].children.length>this._maxEntries))break;this._split(i,e),e--}this._adjustParentBBoxes(r,i,e)},i.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=g(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var r,i=1/0,o=1/0,a=e;a<=n-e;a++){var u=s(t,0,a,this.toBBox),l=s(t,a,n,this.toBBox),c=d(u,l),f=h(u)+h(l);c<i?(i=c,r=a,o=f<o?f:o):c===i&&f<o&&(o=f,r=a)}return r||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:c,o=this._allDistMargin(t,e,n,r),a=this._allDistMargin(t,e,n,i);o<a&&t.children.sort(r)},i.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),a=s(t,n-e,n,i),l=f(o)+f(a),c=e;c<n-e;c++){var h=t.children[c];u(o,t.leaf?i(h):h),l+=f(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];u(a,t.leaf?i(d):d),l+=f(a)}return l},i.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)u(e[r],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():a(t[e],this.toBBox)},i}))},8395:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OPERATION=void 0;var r=n(3676),i=n(3210);e.OPERATION={"!":5,"*":4,"/":4,"%":4,"+":3,"-":3,">":2,"<":2,">=":2,"<=":2,"===":2,"!==":2,"==":2,"!=":2,"&&":1,"||":1,"?":1,":":1};var o=function(){function t(t,e){this.blockLevel=0,this.index=-1,this.token=t,this.getValueFn=e||i}return t.prototype.parse=function(){var t,e={left:null,right:null,operation:null};do{if(t=this.parseStatement(),null===t||void 0===t)break;if(null===e.left){if(e.left=t,e.operation=this.nextToken(),!e.operation)return t;e.right=this.parseStatement()}else{if("string"!==typeof t)throw new Error("operation must be string, but get "+JSON.stringify(t));e=this.addNode(t,this.parseStatement(),e)}}while(t);return e},t.prototype.calc=function(t,n){if("string"===typeof t)return this.getValue(t,n);if(void 0===e.OPERATION[t.operation])throw new Error("unknow expression "+t.operation);if("!"===t.operation&&t.right)return!this.getValue(t.right,n);if(":"===t.operation)return this.calcTernary(t.left,t.right,n);var r=this.getValue(t.left,n);if(void 0===t.operation)return r;var i=this.getValue(t.right,n);switch(t.operation){case"*":return r*i;case"/":return r/i;case"+":return r+i;case"-":return r-i;case">":return r>i;case"%":return r%i;case"<":return r<i;case">=":return r>=i;case"<=":return r<=i;case"==":return r==i;case"===":return r===i;case"!==":return r!==i;case"!=":return r!=i;case"&&":return r&&i;case"||":return r||i}},t.prototype.nextToken=function(){return this.index+=1,this.token[this.index]},t.prototype.prevToken=function(){return this.token[this.index-1]},t.prototype.addNode=function(t,e,n){var r=n;if(this.compare(r.operation,t)<0&&!r.grouped){while(null!==r.right&&"string"!==typeof r.right&&this.compare(r.right.operation,t)<0&&!r.right.grouped)r=r.right;return r.right={operation:t,left:r.right,right:e},n}return{left:r,right:e,operation:t}},t.prototype.compare=function(t,n){if(!e.OPERATION.hasOwnProperty(t)||!e.OPERATION.hasOwnProperty(n))throw new Error("unknow operation "+t+" or "+n);return e.OPERATION[t]-e.OPERATION[n]},t.prototype.getValue=function(t,n){if("string"!==typeof t){if(null===t)throw new Error("unknow value "+t);return this.calc(t,n)}if(null===t||void 0!==e.OPERATION[t])throw new Error("unknow value "+t);if(-1!==t.indexOf("$."))return this.getValueFn(n,t.slice(2));if("'"===t[0]||'"'===t[0])return t.slice(1,-1);if("`"===t[0])return this.parseTemplateString(t.slice(1,-1),n);if("true"===t)return!0;if("false"===t)return!1;var r=parseFloat(t);return isNaN(r)?this.getValueFn(n,t):r},t.prototype.parseTemplateString=function(t,e){var n=this;return t.replace(/\${(.*?)}/g,(function(t,i){return r["default"](e,i,{getValue:n.getValueFn})}))},t.prototype.parseStatement=function(){var t=this.nextToken();if("("===t){this.blockLevel+=1;var n=this.parse();return this.blockLevel-=1,"string"!==typeof n&&(n.grouped=!0),n}if(")"===t)return null;if("!"===t)return{left:null,operation:t,right:this.parseStatement()};var r=this.prevToken(),i=function(){return e.OPERATION[r]>0||void 0===r||"("===r};return"-"===t&&i()?{left:"0",operation:t,right:this.parseStatement(),grouped:!0}:t},t.prototype.calcTernary=function(t,e,n){if("string"===typeof t)throw new Error("bad teranry expression "+t+" :");if("?"!==t.operation)throw new Error("bad teranry before : should be ? , but get "+t.operation);var r=this.getValue(t.left,n);return r?this.getValue(t.right,n):this.getValue(e,n)},t}();e["default"]=o},3676:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.token=e.Compiler=void 0;var r=n(2361);e.token=r["default"];var i=n(8395);function o(t,e,n){var o=r["default"](e),a=new i["default"](o,n&&n.getValue),s=a.parse();return a.calc(s,t)}e.Compiler=i["default"],e["default"]=o},2361:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t["LOGIC"]=1]="LOGIC",t[t["COMPARISON"]=2]="COMPARISON",t[t["STRING"]=3]="STRING",t[t["MATH"]=4]="MATH"}(n||(n={}));var r=function(){function t(t){this.currentIndex=0,this.tokenList=[],this.input="",this.optable={"=":n.LOGIC,"&":n.LOGIC,"|":n.LOGIC,"?":n.LOGIC,":":n.LOGIC,"'":n.STRING,'"':n.STRING,"`":n.STRING,"!":n.COMPARISON,">":n.COMPARISON,"<":n.COMPARISON,"(":n.MATH,")":n.MATH,"+":n.MATH,"-":n.MATH,"*":n.MATH,"/":n.MATH,"%":n.MATH},this.input=t}return t.prototype.getTokens=function(){var t;do{t=this.pickNext(-1);var e=this.currentIndex;switch(this.optable[t]){case n.LOGIC:this.readLogicOpt(t);break;case n.STRING:this.readString(t);break;case n.COMPARISON:this.readCompare(t);break;case n.MATH:this.receiveToken();break;default:this.readValue(t)}if(e===this.currentIndex&&void 0!==t){var r=new Error("unkonw token "+t+" from input string "+this.input);throw r.name="UnknowToken",r}}while(void 0!==t);return this.tokenList},t.prototype.pickNext=function(t){return void 0===t&&(t=0),this.input[t+this.currentIndex+1]},t.prototype.receiveToken=function(t){void 0===t&&(t=1);var e=this.input.slice(this.currentIndex,this.currentIndex+t).trim();e&&this.tokenList.push(e),this.currentIndex+=t},t.prototype.readString=function(t){var e,n=0;do{e=this.pickNext(n),n+=1}while(e!==t&&void 0!==e);this.receiveToken(n+1)},t.prototype.readCompare=function(t){"="===this.pickNext()?"!"!==t||"="!==this.pickNext(1)?this.receiveToken(2):this.receiveToken(3):this.receiveToken(1)},t.prototype.readLogicOpt=function(t){return this.pickNext()===t?"="===t&&this.pickNext(1)===t?this.receiveToken(3):this.receiveToken(2):"?"===t||":"===t?this.receiveToken(1):void 0},t.prototype.readValue=function(t){if(t){var e=0;while(!this.optable[t]&&void 0!==t)t=this.pickNext(e),e+=1;this.receiveToken(e)}},t}();function i(t){var e=new r(t);return e.getTokens()}e["default"]=i},4762:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},4977:function(t,e,n){var r=n(67);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1283:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},4517:function(t,e,n){var r=n(67);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},4965:function(t){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},9468:function(t,e,n){"use strict";var r,i=n(4965),o=n(1718),a=n(7635),s=n(67),u=n(9619),l=n(1179),c=n(3362),h=n(9647),f=n(9114).f,p=n(1633),d=n(5205),v=n(3292),y=n(3138),g=a.Int8Array,m=g&&g.prototype,x=a.Uint8ClampedArray,b=x&&x.prototype,w=g&&p(g),k=m&&p(m),E=Object.prototype,M=E.isPrototypeOf,S=v("toStringTag"),T=y("TYPED_ARRAY_TAG"),P=i&&!!d&&"Opera"!==l(a.opera),O=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N=function(t){var e=l(t);return"DataView"===e||u(C,e)},A=function(t){return s(t)&&u(C,l(t))},L=function(t){if(A(t))return t;throw TypeError("Target is not a typed array")},_=function(t){if(d){if(M.call(w,t))return t}else for(var e in C)if(u(C,r)){var n=a[e];if(n&&(t===n||M.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},R=function(t,e,n){if(o){if(n)for(var r in C){var i=a[r];i&&u(i.prototype,t)&&delete i.prototype[t]}k[t]&&!n||h(k,t,n?e:P&&m[t]||e)}},I=function(t,e,n){var r,i;if(o){if(d){if(n)for(r in C)i=a[r],i&&u(i,t)&&delete i[t];if(w[t]&&!n)return;try{return h(w,t,n?e:P&&g[t]||e)}catch(s){}}for(r in C)i=a[r],!i||i[t]&&!n||h(i,t,e)}};for(r in C)a[r]||(P=!1);if((!P||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},P))for(r in C)a[r]&&d(a[r],w);if((!P||!k||k===E)&&(k=w.prototype,P))for(r in C)a[r]&&d(a[r].prototype,k);if(P&&p(b)!==k&&d(b,k),o&&!u(k,S))for(r in O=!0,f(k,S,{get:function(){return s(this)?this[T]:void 0}}),C)a[r]&&c(a[r],T,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:O&&T,aTypedArray:L,aTypedArrayConstructor:_,exportTypedArrayMethod:R,exportTypedArrayStaticMethod:I,isView:N,isTypedArray:A,TypedArray:w,TypedArrayPrototype:k}},5936:function(t,e,n){"use strict";var r=n(7635),i=n(1718),o=n(4965),a=n(3362),s=n(7579),u=n(5732),l=n(1283),c=n(2829),h=n(3218),f=n(7892),p=n(4597),d=n(1633),v=n(5205),y=n(2744).f,g=n(9114).f,m=n(4053),x=n(7124),b=n(6637),w=b.get,k=b.set,E="ArrayBuffer",M="DataView",S="prototype",T="Wrong length",P="Wrong index",O=r[E],C=O,N=r[M],A=N&&N[S],L=Object.prototype,_=r.RangeError,R=p.pack,I=p.unpack,D=function(t){return[255&t]},F=function(t){return[255&t,t>>8&255]},j=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},B=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},G=function(t){return R(t,23,4)},Y=function(t){return R(t,52,8)},W=function(t,e){g(t[S],e,{get:function(){return w(this)[e]}})},z=function(t,e,n,r){var i=f(n),o=w(t);if(i+e>o.byteLength)throw _(P);var a=w(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+e);return r?u:u.reverse()},X=function(t,e,n,r,i,o){var a=f(n),s=w(t);if(a+e>s.byteLength)throw _(P);for(var u=w(s.buffer).bytes,l=a+s.byteOffset,c=r(+i),h=0;h<e;h++)u[l+h]=c[o?h:e-h-1]};if(o){if(!u((function(){O(1)}))||!u((function(){new O(-1)}))||u((function(){return new O,new O(1.5),new O(NaN),O.name!=E}))){C=function(t){return l(this,C),new O(f(t))};for(var V,U=C[S]=O[S],H=y(O),q=0;H.length>q;)(V=H[q++])in C||a(C,V,O[V]);U.constructor=C}v&&d(A)!==L&&v(A,L);var K=new N(new C(2)),Z=A.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||s(A,{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},{unsafe:!0})}else C=function(t){l(this,C,E);var e=f(t);k(this,{bytes:m.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},N=function(t,e,n){l(this,N,M),l(t,C,M);var r=w(t).byteLength,o=c(e);if(o<0||o>r)throw _("Wrong offset");if(n=void 0===n?r-o:h(n),o+n>r)throw _(T);k(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(W(C,"byteLength"),W(N,"buffer"),W(N,"byteLength"),W(N,"byteOffset")),s(N[S],{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return B(z(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return B(z(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return I(z(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return I(z(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){X(this,1,t,D,e)},setUint8:function(t,e){X(this,1,t,D,e)},setInt16:function(t,e){X(this,2,t,F,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){X(this,2,t,F,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){X(this,4,t,j,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){X(this,4,t,j,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){X(this,4,t,G,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){X(this,8,t,Y,e,arguments.length>2?arguments[2]:void 0)}});x(C,E),x(N,M),t.exports={ArrayBuffer:C,DataView:N}},4053:function(t,e,n){"use strict";var r=n(196),i=n(7851),o=n(3218);t.exports=function(t){var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);while(l>s)e[s++]=t;return e}},4770:function(t,e,n){var r=n(8542),i=n(3218),o=n(7851),a=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2305:function(t,e,n){var r=n(4455),i=n(9553),o=n(196),a=n(3218),s=n(9066),u=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h;return function(p,d,v,y){for(var g,m,x=o(p),b=i(x),w=r(d,v,3),k=a(b.length),E=0,M=y||s,S=e?M(p,k):n?M(p,0):void 0;k>E;E++)if((f||E in b)&&(g=b[E],m=w(g,E,x),t))if(e)S[E]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return E;case 2:u.call(S,g)}else if(c)return!1;return h?-1:l||c?c:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},9066:function(t,e,n){var r=n(67),i=n(3130),o=n(3292),a=o("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},1634:function(t,e,n){var r=n(3292),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(u){}return n}},3479:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},1179:function(t,e,n){var r=n(686),i=n(3479),o=n(3292),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),a))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},5320:function(t,e,n){var r=n(9619),i=n(783),o=n(7023),a=n(9114);t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];r(t,c)||s(t,c,u(e,c))}}},1607:function(t,e,n){var r=n(5732);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},3362:function(t,e,n){var r=n(1718),i=n(9114),o=n(2564);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},2564:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1718:function(t,e,n){var r=n(5732);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},918:function(t,e,n){var r=n(7635),i=n(67),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},2457:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5976:function(t,e,n){var r=n(7635),i=n(7023).f,o=n(3362),a=n(9647),s=n(2876),u=n(5320),l=n(1195);t.exports=function(t,e){var n,c,h,f,p,d,v=t.target,y=t.global,g=t.stat;if(c=y?r:g?r[v]||s(v,{}):(r[v]||{}).prototype,c)for(h in e){if(p=e[h],t.noTargetGet?(d=i(c,h),f=d&&d.value):f=c[h],n=l(y?h:v+(g?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof p===typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),a(c,h,p,t)}}},5732:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},4455:function(t,e,n){var r=n(4762);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},6567:function(t,e,n){var r=n(8068),i=n(7635),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},4541:function(t,e,n){var r=n(1179),i=n(8730),o=n(3292),a=o("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[r(t)]}},7635:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||Function("return this")()},9619:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},1749:function(t){t.exports={}},8718:function(t,e,n){var r=n(6567);t.exports=r("document","documentElement")},6917:function(t,e,n){var r=n(1718),i=n(5732),o=n(918);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4597:function(t){var e=1/0,n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2,s=function(t,s,u){var l,c,h,f=new Array(u),p=8*u-s-1,d=(1<<p)-1,v=d>>1,y=23===s?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,m=0;for(t=n(t),t!=t||t===e?(c=t!=t?1:0,l=d):(l=i(o(t)/a),t*(h=r(2,-l))<1&&(l--,h*=2),t+=l+v>=1?y/h:y*r(2,1-v),t*h>=2&&(l++,h/=2),l+v>=d?(c=0,l=d):l+v>=1?(c=(t*h-1)*r(2,s),l+=v):(c=t*r(2,v-1)*r(2,s),l=0));s>=8;f[m++]=255&c,c/=256,s-=8);for(l=l<<s|c,p+=s;p>0;f[m++]=255&l,l/=256,p-=8);return f[--m]|=128*g,f},u=function(t,n){var i,o=t.length,a=8*o-n-1,s=(1<<a)-1,u=s>>1,l=a-7,c=o-1,h=t[c--],f=127&h;for(h>>=7;l>0;f=256*f+t[c],c--,l-=8);for(i=f&(1<<-l)-1,f>>=-l,l+=n;l>0;i=256*i+t[c],c--,l-=8);if(0===f)f=1-u;else{if(f===s)return i?NaN:h?-e:e;i+=r(2,n),f-=u}return(h?-1:1)*i*r(2,f-n)};t.exports={pack:s,unpack:u}},9553:function(t,e,n){var r=n(5732),i=n(3479),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},8817:function(t,e,n){var r=n(67),i=n(5205);t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},3006:function(t,e,n){var r=n(2437),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},6637:function(t,e,n){var r,i,o,a=n(5636),s=n(7635),u=n(67),l=n(3362),c=n(9619),h=n(5701),f=n(1749),p=s.WeakMap,d=function(t){return o(t)?i(t):r(t,{})},v=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(a){var y=new p,g=y.get,m=y.has,x=y.set;r=function(t,e){return x.call(y,t,e),e},i=function(t){return g.call(y,t)||{}},o=function(t){return m.call(y,t)}}else{var b=h("state");f[b]=!0,r=function(t,e){return l(t,b,e),e},i=function(t){return c(t,b)?t[b]:{}},o=function(t){return c(t,b)}}t.exports={set:r,get:i,has:o,enforce:d,getterFor:v}},4079:function(t,e,n){var r=n(3292),i=n(8730),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},3130:function(t,e,n){var r=n(3479);t.exports=Array.isArray||function(t){return"Array"==r(t)}},1195:function(t,e,n){var r=n(5732),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},67:function(t){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},7487:function(t){t.exports=!1},8730:function(t){t.exports={}},8209:function(t,e,n){var r=n(5732);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},5636:function(t,e,n){var r=n(7635),i=n(3006),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},8599:function(t,e,n){var r,i=n(4517),o=n(1480),a=n(2457),s=n(1749),u=n(8718),l=n(918),c=n(5701),h=">",f="<",p="prototype",d="script",v=c("IE_PROTO"),y=function(){},g=function(t){return f+d+h+t+f+"/"+d+h},m=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},x=function(){var t,e=l("iframe"),n="java"+d+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}b=r?m(r):x();var t=a.length;while(t--)delete b[p][a[t]];return b()};s[v]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(y[p]=i(t),n=new y,y[p]=null,n[v]=t):n=b(),void 0===e?n:o(n,e)}},1480:function(t,e,n){var r=n(1718),i=n(9114),o=n(4517),a=n(6978);t.exports=r?Object.defineProperties:function(t,e){o(t);var n,r=a(e),s=r.length,u=0;while(s>u)i.f(t,n=r[u++],e[n]);return t}},9114:function(t,e,n){var r=n(1718),i=n(6917),o=n(4517),a=n(5037),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7023:function(t,e,n){var r=n(1718),i=n(6201),o=n(2564),a=n(8542),s=n(5037),u=n(9619),l=n(6917),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},2744:function(t,e,n){var r=n(6345),i=n(2457),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},1421:function(t,e){e.f=Object.getOwnPropertySymbols},1633:function(t,e,n){var r=n(9619),i=n(196),o=n(5701),a=n(1607),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6345:function(t,e,n){var r=n(9619),i=n(8542),o=n(4770).indexOf,a=n(1749);t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},6978:function(t,e,n){var r=n(6345),i=n(2457);t.exports=Object.keys||function(t){return r(t,i)}},6201:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},5205:function(t,e,n){var r=n(4517),i=n(4977);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},783:function(t,e,n){var r=n(6567),i=n(2744),o=n(1421),a=n(4517);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},8068:function(t,e,n){var r=n(7635);t.exports=r},7579:function(t,e,n){var r=n(9647);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},9647:function(t,e,n){var r=n(7635),i=n(3362),o=n(9619),a=n(2876),s=n(3006),u=n(6637),l=u.get,c=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},9860:function(t){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},2876:function(t,e,n){var r=n(7635),i=n(3362);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},4169:function(t,e,n){"use strict";var r=n(6567),i=n(9114),o=n(3292),a=n(1718),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},7124:function(t,e,n){var r=n(9114).f,i=n(9619),o=n(3292),a=o("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},5701:function(t,e,n){var r=n(905),i=n(3138),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},2437:function(t,e,n){var r=n(7635),i=n(2876),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},905:function(t,e,n){var r=n(7487),i=n(2437);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},7851:function(t,e,n){var r=n(2829),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},7892:function(t,e,n){var r=n(2829),i=n(3218);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},8542:function(t,e,n){var r=n(9553),i=n(9860);t.exports=function(t){return r(i(t))}},2829:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},3218:function(t,e,n){var r=n(2829),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},196:function(t,e,n){var r=n(9860);t.exports=function(t){return Object(r(t))}},4061:function(t,e,n){var r=n(2749);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},2749:function(t,e,n){var r=n(2829);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},5037:function(t,e,n){var r=n(67);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},686:function(t,e,n){var r=n(3292),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},8383:function(t,e,n){"use strict";var r=n(5976),i=n(7635),o=n(1718),a=n(7307),s=n(9468),u=n(5936),l=n(1283),c=n(2564),h=n(3362),f=n(3218),p=n(7892),d=n(4061),v=n(5037),y=n(9619),g=n(1179),m=n(67),x=n(8599),b=n(5205),w=n(2744).f,k=n(8594),E=n(2305).forEach,M=n(4169),S=n(9114),T=n(7023),P=n(6637),O=n(8817),C=P.get,N=P.set,A=S.f,L=T.f,_=Math.round,R=i.RangeError,I=u.ArrayBuffer,D=u.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,B=s.TypedArray,G=s.TypedArrayPrototype,Y=s.aTypedArrayConstructor,W=s.isTypedArray,z="BYTES_PER_ELEMENT",X="Wrong length",V=function(t,e){var n=0,r=e.length,i=new(Y(t))(r);while(r>n)i[n]=e[n++];return i},U=function(t,e){A(t,e,{get:function(){return C(this)[e]}})},H=function(t){var e;return t instanceof I||"ArrayBuffer"==(e=g(t))||"SharedArrayBuffer"==e},q=function(t,e){return W(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},K=function(t,e){return q(t,e=v(e,!0))?c(2,t[e]):L(t,e)},Z=function(t,e,n){return!(q(t,e=v(e,!0))&&m(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?A(t,e,n):(t[e]=n.value,t)};o?(F||(T.f=K,S.f=Z,U(G,"buffer"),U(G,"byteOffset"),U(G,"byteLength"),U(G,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:K,defineProperty:Z}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",u="get"+t,c="set"+t,v=i[s],y=v,g=y&&y.prototype,S={},T=function(t,e){var n=C(t);return n.view[u](e*o+n.byteOffset,!0)},P=function(t,e,r){var i=C(t);n&&(r=(r=_(r))<0?0:r>255?255:255&r),i.view[c](e*o+i.byteOffset,r,!0)},L=function(t,e){A(t,e,{get:function(){return T(this,e)},set:function(t){return P(this,e,t)},enumerable:!0})};F?a&&(y=e((function(t,e,n,r){return l(t,y,s),O(function(){return m(e)?H(e)?void 0!==r?new v(e,d(n,o),r):void 0!==n?new v(e,d(n,o)):new v(e):W(e)?V(y,e):k.call(y,e):new v(p(e))}(),t,y)})),b&&b(y,B),E(w(v),(function(t){t in y||h(y,t,v[t])})),y.prototype=g):(y=e((function(t,e,n,r){l(t,y,s);var i,a,u,c=0,h=0;if(m(e)){if(!H(e))return W(e)?V(y,e):k.call(y,e);i=e,h=d(n,o);var v=e.byteLength;if(void 0===r){if(v%o)throw R(X);if(a=v-h,a<0)throw R(X)}else if(a=f(r)*o,a+h>v)throw R(X);u=a/o}else u=p(e),a=u*o,i=new I(a);N(t,{buffer:i,byteOffset:h,byteLength:a,length:u,view:new D(i)});while(c<u)L(t,c++)})),b&&b(y,B),g=y.prototype=x(G)),g.constructor!==y&&h(g,"constructor",y),j&&h(g,j,s),S[s]=y,r({global:!0,forced:y!=v,sham:!F},S),z in y||h(y,z,o),z in g||h(g,z,o),M(s)}):t.exports=function(){}},7307:function(t,e,n){var r=n(7635),i=n(5732),o=n(1634),a=n(9468).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},8594:function(t,e,n){var r=n(196),i=n(3218),o=n(4541),a=n(4079),s=n(4455),u=n(9468).aTypedArrayConstructor;t.exports=function(t){var e,n,l,c,h,f,p=r(t),d=arguments.length,v=d>1?arguments[1]:void 0,y=void 0!==v,g=o(p);if(void 0!=g&&!a(g)){h=g.call(p),f=h.next,p=[];while(!(c=f.call(h)).done)p.push(c.value)}for(y&&d>2&&(v=s(v,arguments[2],2)),n=i(p.length),l=new(u(this))(n),e=0;n>e;e++)l[e]=y?v(p[e],e):p[e];return l}},3138:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},6347:function(t,e,n){var r=n(8209);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3292:function(t,e,n){var r=n(7635),i=n(905),o=n(9619),a=n(3138),s=n(8209),u=n(6347),l=i("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||a;t.exports=function(t){return o(l,t)||(s&&o(c,t)?l[t]=c[t]:l[t]=h("Symbol."+t)),l[t]}},3449:function(t,e,n){var r=n(8383);r("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},7270:function(t,e,n){var r=n(7232);e=r(!1),e.push([t.id,".pro-legend {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  padding-top: 0.26rem;\n  border-radius: 0.08rem;\n}\n.pro-legend .pro-legend-title {\n  position: absolute;\n  top: 0;\n  left: 0.08rem;\n  z-index: 1;\n  color: #999;\n}\n.pro-legend-item {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n          align-items: flex-start;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.pro-legend-item .marker {\n  display: block;\n}\n.pro-legend-item .content {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: column nowrap;\n          flex-flow: column nowrap;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.pro-legend-item .content-value {\n  position: absolute;\n  top: 0.34rem;\n  z-index: 1;\n  width: 100%;\n  margin: 0;\n  text-align: left;\n}\n.pro-legend-item .content-name {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  width: 100%;\n  margin: 0;\n  padding-bottom: 0.36rem;\n}\n.pro-legend-item .content-name .content-name-text {\n  word-break: keep-all;\n}\n.pro-legend-item .content-name .open {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n.pro-legend-item .content .toggleIcon {\n  display: block;\n  background-image: url('https://gw.alipayobjects.com/zos/finxbff/compress-tinypng/b7a6de1f-f75c-466c-af38-d94273aa383d.png');\n  background-size: contain;\n}\n.pro-legend-item .content .toggle {\n  position: absolute;\n  top: calc(100% - 0.36rem);\n  z-index: 2;\n  background-color: #fff;\n  border: 1px solid #eee;\n  box-shadow: 0 0.02rem 0.12rem 0 #e8e8e8;\n}\n.pro-legend-item .content .toggle-item {\n  padding: 0.1rem 0;\n  color: #666;\n  line-height: 0.58rem;\n  white-space: nowrap;\n  text-align: center;\n  border-bottom: 1px solid #eee;\n}\n.pro-legend-item .content .toggle .active {\n  color: #1677ff;\n  font-weight: 500;\n}\n.pro-legend-item .info-icon-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: column nowrap;\n          flex-flow: column nowrap;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  width: 0.32rem;\n  box-sizing: content-box;\n  padding-right: 0.08rem;\n}\n.pro-legend-item .info-icon {\n  width: 0.24rem;\n  height: 0.24rem;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: contain;\n}\n",""]),t.exports=e},8009:function(t,e,n){var r=n(7232);e=r(!1),e.push([t.id,".tab-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-flow: row nowrap;\n          flex-flow: row nowrap;\n}\n.tab-wrapper .tab {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1 1;\n          flex: 1 1;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  height: 0.74rem;\n  color: #999;\n  font-size: 0.26rem;\n  font-family: 'AlipayNumber';\n  line-height: 1.5;\n}\n.tab-wrapper .tab.focus {\n  color: #1677ff;\n  background-color: #e7f1ff;\n  border-radius: 0.37rem;\n}\n",""]),t.exports=e},4690:function(t,e,n){var r=n(2387),i=n(7270);i=i.__esModule?i.default:i,"string"===typeof i&&(i=[[t.id,i,""]]);var o={base:0,insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},229:function(t,e,n){var r=n(2387),i=n(8009);i=i.__esModule?i.default:i,"string"===typeof i&&(i=[[t.id,i,""]]);var o={base:0,insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},2387:function(t,e,n){"use strict";var r=function(){var t;return function(){return"undefined"===typeof t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t}}(),i=function(){var t={};return function(e){if("undefined"===typeof t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var h=a(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:v(f,e),references:1}),r.push(c)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if("undefined"===typeof r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"===typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}function l(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}var c=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!==typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function v(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=u(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(e),r=f.bind(null,n,e),i=function(){l(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){e=e||{},e.singleton||"boolean"===typeof e.singleton||(e.singleton=r()),t=t||[];var n=s(t,e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=n[r],u=a(i);o[u].references--}for(var l=s(t,e),c=0;c<n.length;c++){var h=n[c],f=a(h);0===o[f].references&&(o[f].updater(),o.splice(f,1))}n=l}}}},9787:function(e){"use strict";e.exports=t},5156:function(t){"use strict";t.exports=e},8775:function(t,e,n){var r=n(2929)["default"];function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(A){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new O(r||[]);return a(o,"_invoke",{value:M(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var d={};function v(){}function y(){}function g(){}var m={};h(m,u,(function(){return this}));var x=Object.getPrototypeOf,b=x&&x(x(C([])));b&&b!==n&&o.call(b,u)&&(m=b);var w=g.prototype=v.prototype=Object.create(m);function k(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,a,s,u){var l=p(t[i],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,u)}))}u(l.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function M(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=p(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function C(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return y.prototype=g,a(w,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=h(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,h(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},k(E.prototype),h(E.prototype,l,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(w),h(w,c,"Generator"),h(w,u,(function(){return this})),h(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},2929:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},3664:function(t,e,n){var r=n(8775)();t.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,exports:{}};return n[t].call(o.exports,o,o.exports,i),o.exports}!function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nc=void 0}();var o={};return function(){"use strict";i.r(o),i.d(o,{Area:function(){return l},Axis:function(){return NT},AxisX:function(){return dT},AxisY:function(){return gT},Bar:function(){return BT},Canvas:function(){return Yx},Chart:function(){return BE},CustomGuide:function(){return sC},Description:function(){return bP},DiffAreaGuide:function(){return NC},F2:function(){return g},Gauge:function(){return JS},Helpers:function(){return h},ImageGuide:function(){return _C},Legend:function(){return HT},Line:function(){return FT},LineGuide:function(){return MA},PeriodTab:function(){return TA},PieLabel:function(){return yP},Point:function(){return FS},PointGuide:function(){return rC},PolarAxisX:function(){return PT},PolarAxisY:function(){return CT},ProLegend:function(){return YS},Radar:function(){return f},ReactCanvas:function(){return gb},RectGuide:function(){return kC},Ring:function(){return p},TagGuide:function(){return mC},TextGuide:function(){return IC},Title:function(){return mP},Tooltip:function(){return cP},Treemap:function(){return lO},Util:function(){return a},Widgets:function(){return c},default:function(){return BL},formatter:function(){return mE},jsx:function(){return wb},px2hd:function(){return EE},version:function(){return qx}});var t={};i.r(t),i.d(t,{add:function(){return ur},adjoint:function(){return Pn},clone:function(){return bn},copy:function(){return wn},create:function(){return xn},determinant:function(){return On},equals:function(){return pr},exactEquals:function(){return fr},frob:function(){return sr},fromQuat:function(){return Kn},fromQuat2:function(){return zn},fromRotation:function(){return jn},fromRotationTranslation:function(){return Wn},fromRotationTranslationScale:function(){return Hn},fromRotationTranslationScaleOrigin:function(){return qn},fromScaling:function(){return Fn},fromTranslation:function(){return Dn},fromValues:function(){return kn},fromXRotation:function(){return Bn},fromYRotation:function(){return Gn},fromZRotation:function(){return Yn},frustum:function(){return Zn},getRotation:function(){return Un},getScaling:function(){return Vn},getTranslation:function(){return Xn},identity:function(){return Mn},invert:function(){return Tn},lookAt:function(){return ir},mul:function(){return dr},multiply:function(){return Cn},multiplyScalar:function(){return cr},multiplyScalarAndAdd:function(){return hr},ortho:function(){return nr},orthoNO:function(){return er},orthoZO:function(){return rr},perspective:function(){return Jn},perspectiveFromFieldOfView:function(){return tr},perspectiveNO:function(){return $n},perspectiveZO:function(){return Qn},rotate:function(){return Ln},rotateX:function(){return _n},rotateY:function(){return Rn},rotateZ:function(){return In},scale:function(){return An},set:function(){return En},str:function(){return ar},sub:function(){return vr},subtract:function(){return lr},targetTo:function(){return or},translate:function(){return Nn},transpose:function(){return Sn}});var e={};i.r(e),i.d(e,{smooth:function(){return Ad}});var n={};i.r(n),i.d(n,{filter:function(){return ab},point:function(){return sb},slice:function(){return ub}});var r={};i.r(r),i.d(r,{getFitPosition:function(){return zk},getSafeRectRange:function(){return Wk}});var a={};i.r(a),i.d(a,{autoAdjust:function(){return jE},batch2hd:function(){return CE},deepMix:function(){return Cx},findShapeByClassName:function(){return wE},formatter:function(){return mE},getBoundedNumber:function(){return NE},getElementsByClassName:function(){return bE},hexToRgb:function(){return LE},isInBBox:function(){return AE},isLightColor:function(){return _E},isNumberStr:function(){return IE},isProductIdOrFundCode:function(){return DE},parsePadding:function(){return OE},px2hd:function(){return EE},safeArea:function(){return r},stringifySPMParam:function(){return RE},textFormatter:function(){return FE}});var s={};i.r(s),i.d(s,{Attr:function(){return SM},Category:function(){return kS},Identity:function(){return PM},Linear:function(){return bS}});var u={};i.r(u),i.d(u,{funnel:function(){return XS},pyramid:function(){return XS}});var l={};i.r(l),i.d(l,{AreaView:function(){return mO},Legend:function(){return pO}});var c={};i.r(c),i.d(c,{Bullet:function(){return EO},Step:function(){return CO},WaterMark:function(){return MO},Watermark:function(){return MO}});var h={};i.r(h),i.d(h,{Vernier:function(){return RO}});var f={};i.r(f),i.d(f,{Legend:function(){return BO},Tooltip:function(){return VO},View:function(){return DO}});var p={};i.r(p),i.d(p,{Legend:function(){return qO},PieLabel:function(){return yP},RingView:function(){return JO}});var d={};i.r(d),i.d(d,{CustomGuide:function(){return sC},DiffAreaGuide:function(){return NC},ImageGuide:function(){return _C},LineGuide:function(){return MA},PointGuide:function(){return rC},RectGuide:function(){return kC},TagGuide:function(){return mC},TextGuide:function(){return IC}});var v={};i.r(v),i.d(v,{PeriodTab:function(){return TA}});var y={};i.r(y),i.d(y,{funnel:function(){return FA},pyramid:function(){return FA},rect:function(){return IA}});var g={};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function x(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function b(t){var e=x(t,"string");return"symbol"===m(e)?e:String(e)}function w(t,e,n){return e=b(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function S(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function O(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Hd){return!1}}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e){if(e&&("object"===m(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return A(t)}function _(t){var e=N();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}i.r(g),i.d(g,{ArcGuide:function(){return mA},Area:function(){return LA},AreaView:function(){return AA},Axis:function(){return hT},AxisView:function(){return cT},Canvas:function(){return Km},CanvasRenderer:function(){return zp},Chart:function(){return Ik},Children:function(){return Od},Component:function(){return wd},Fragment:function(){return PA},Gauge:function(){return EL},GaugeView:function(){return kL},Geometry:function(){return RS},Gesture:function(){return vd},Guide:function(){return EA},ImageGuide:function(){return bA},Interval:function(){return jA},IntervalView:function(){return IA},Legend:function(){return YA},LegendView:function(){return GA},Line:function(){return NA},LineGuide:function(){return gA},LineView:function(){return IT},LottieGuide:function(){return kA},PieLabel:function(){return gL},PieLabelView:function(){return yL},Point:function(){return FS},PointGuide:function(){return yA},PointView:function(){return DS},RectGuide:function(){return xA},Scale:function(){return dw},ScrollBar:function(){return jL},ScrollBarView:function(){return FL},Smooth:function(){return e},Sunburst:function(){return aL},SunburstView:function(){return rL},TagGuide:function(){return wA},TextGuide:function(){return vA},Timeline:function(){return CA},Tooltip:function(){return $A},TooltipView:function(){return ZA},Treemap:function(){return QA},TreemapView:function(){return JA},Zoom:function(){return _L},computeLayout:function(){return Zy},createElement:function(){return wb},createRef:function(){return bb},isEqual:function(){return tt},jsx:function(){return wb},registerTag:function(){return Qd},withArea:function(){return dO},withAxis:function(){return QS},withGauge:function(){return wL},withGuide:function(){return QO},withInterval:function(){return US},withLegend:function(){return GT},withLine:function(){return DT},withPieLabel:function(){return vL},withPoint:function(){return IS},withScrollBar:function(){return RL},withSunburst:function(){return nL},withTooltip:function(){return tP},withTreemap:function(){return aO}});var R=function(t,e){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},R(t,e)};function I(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var D=function(){return D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},D.apply(this,arguments)};function F(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function j(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(Hd){o(Hd)}}function s(t){try{u(r["throw"](t))}catch(Hd){o(Hd)}}function u(t){t.done?n(t.value):i(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function B(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(Hd){s=[6,Hd],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;function G(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function Y(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var W=function(t){return"function"===typeof t},z={}.toString,X=function(t,e){return z.call(t)==="[object "+e+"]"},V=X,U=function(t){return Array.isArray?Array.isArray(t):V(t,"Array")},H=function(t){return"object"===typeof t&&null!==t},q=H,K=function(t){if(!q(t)||!V(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Z=K;function $(t){return Object.prototype.toString.call(t)}function J(t){return Object.keys(t)}function Q(t,e){if(t===e)return!0;if(m(t)!==m(e))return!1;if(null==t||null==e)return!1;if(Number.isNaN(t)&&Number.isNaN(e))return!0;if($(t)!==$(e))return!1;if(W(t))return!0;if("object"!==m(t))return!1;if(U(t)){if(t.length!==e.length)return!1;for(var n=t.length-1;n>=0;n--)if(!Q(t[n],e[n]))return!1;return!0}if(!Z(t))return!1;var r=J(t),i=J(e);if(r.length!==i.length)return!1;r.sort(),i.sort();for(n=r.length-1;n>=0;n--)if(r[n]!=i[n])return!1;for(n=r.length-1;n>=0;n--){var o=r[n];if(!Q(t[o],e[o]))return!1}return!0}var tt=Q,et=i(5121),nt=i.n(et),rt=function(t){return V(t,"Number")},it=rt;function ot(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var at={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function st(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return at[e]===t.length-1&&"achlmqstvz".includes(e)}))}function ut(t){return st(t)&&t.every((function(t){var e=t[0];return e===e.toUpperCase()}))}function lt(t){return ut(t)&&t.every((function(t){var e=t[0];return"ACLMQZ".includes(e)}))}var ct={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function ht(t){return t.map((function(t){return Array.isArray(t)?[].concat(t):t}))}function ft(t){var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;while(r.length>=at[n])if("m"===n&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e="m"===e?"l":"L"):t.segments.push([e].concat(r.splice(0,at[n]))),!at[n])break}function pt(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err='[path-util]: invalid Arc flag "'+n[e]+'", expecting 0 or 1 at index '+e)}function dt(t){return t>=48&&t<=57||43===t||45===t||46===t}function vt(t){return t>=48&&t<=57}function yt(t){var e,n=t.max,r=t.pathValue,i=t.index,o=i,a=!1,s=!1,u=!1,l=!1;if(o>=n)t.err="[path-util]: Invalid path value at index "+o+', "pathValue" is missing param';else if(e=r.charCodeAt(o),43!==e&&45!==e||(o+=1,e=r.charCodeAt(o)),vt(e)||46===e){if(46!==e){if(a=48===e,o+=1,e=r.charCodeAt(o),a&&o<n&&e&&vt(e))return void(t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" illegal number');while(o<n&&vt(r.charCodeAt(o)))o+=1,s=!0;e=r.charCodeAt(o)}if(46===e){l=!0,o+=1;while(vt(r.charCodeAt(o)))o+=1,u=!0;e=r.charCodeAt(o)}if(101===e||69===e){if(l&&!s&&!u)return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid float exponent');if(o+=1,e=r.charCodeAt(o),43!==e&&45!==e||(o+=1),!(o<n&&vt(r.charCodeAt(o))))return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid integer exponent');while(o<n&&vt(r.charCodeAt(o)))o+=1}t.index=o,t.param=+t.pathValue.slice(i,o)}else t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" is not a number'}function gt(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&e.includes(t)}function mt(t){var e=t.pathValue,n=t.max;while(t.index<n&&gt(e.charCodeAt(t.index)))t.index+=1}function xt(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function bt(t){return 97===(32|t)}function wt(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),o=at[n[r].toLowerCase()];if(t.segmentStart=r,xt(i))if(t.index+=1,mt(t),t.data=[],o){for(;;){for(var a=o;a>0;a-=1){if(!bt(i)||3!==a&&4!==a?yt(t):pt(t),t.err.length)return;t.data.push(t.param),mt(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,mt(t))}if(t.index>=t.max)break;if(!dt(n.charCodeAt(t.index)))break}ft(t)}else ft(t);else t.err='[path-util]: Invalid path value "'+n[r]+'" is not a path command'}var kt=function(){function t(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Et(t){if(st(t))return ht(t);var e=new kt(t);mt(e);while(e.index<e.max&&!e.err.length)wt(e);return e.err?e.err:e.segments}function Mt(t){if(ut(t))return ht(t);var e=Et(t),n=0,r=0,i=0,o=0;return e.map((function(t){var e,a=t.slice(1).map(Number),s=t[0],u=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==u)switch(u){case"A":e=[u,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":e=[u,a[0]+r];break;case"H":e=[u,a[0]+n];break;default:var l=a.map((function(t,e){return t+(e%2?r:n)}));e=[u].concat(l)}else e=[u].concat(a);var c=e.length;switch(u){case"Z":n=i,r=o;break;case"H":n=e[1];break;case"V":r=e[1];break;default:n=e[c-2],r=e[c-1],"M"===u&&(i=n,o=r)}return e}))}function St(t,e){var n=t[0],r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=t.slice(1).map(Number),u=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)u=["L",t[1],i];else if("V"===n)u=["L",r,t[1]];else if("S"===n){var l=2*r-o,c=2*i-a;e.x1=l,e.y1=c,u=["C",l,c].concat(s)}else if("T"===n){var h=2*r-e.qx,f=2*i-e.qy;e.qx=h,e.qy=f,u=["Q",h,f].concat(s)}else if("Q"===n){var p=s[0],d=s[1];e.qx=p,e.qy=d}return u}function Tt(t){if(lt(t))return ht(t);for(var e=Mt(t),n=D({},ct),r=0;r<e.length;r+=1){e[r]=St(e[r],n);var i=e[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return e}function Pt(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return[r+(o-r)*n,i+(a-i)*n]}function Ot(t,e,n,r,i){var o=ot([t,e],[n,r]),a={x:0,y:0};if("number"===typeof i)if(i<=0)a={x:t,y:e};else if(i>=o)a={x:n,y:r};else{var s=Pt([t,e],[n,r],i/o),u=s[0],l=s[1];a={x:u,y:l}}return{length:o,point:a,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function Ct(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=n*i+r*o,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2))),u=n*o-r*i<0?-1:1,l=u*Math.acos(a/s);return l}function Nt(t,e,n,r,i,o,a,s,u,l){var c=Math.abs,h=Math.sin,f=Math.cos,p=Math.sqrt,d=Math.PI,v=c(n),y=c(r),g=(i%360+360)%360,m=g*(d/180);if(t===s&&e===u)return{x:t,y:e};if(0===v||0===y)return Ot(t,e,s,u,l).point;var x=(t-s)/2,b=(e-u)/2,w={x:f(m)*x+h(m)*b,y:-h(m)*x+f(m)*b},k=Math.pow(w.x,2)/Math.pow(v,2)+Math.pow(w.y,2)/Math.pow(y,2);k>1&&(v*=p(k),y*=p(k));var E=Math.pow(v,2)*Math.pow(y,2)-Math.pow(v,2)*Math.pow(w.y,2)-Math.pow(y,2)*Math.pow(w.x,2),M=Math.pow(v,2)*Math.pow(w.y,2)+Math.pow(y,2)*Math.pow(w.x,2),S=E/M;S=S<0?0:S;var T=(o!==a?1:-1)*p(S),P={x:T*(v*w.y/y),y:T*(-y*w.x/v)},O={x:f(m)*P.x-h(m)*P.y+(t+s)/2,y:h(m)*P.x+f(m)*P.y+(e+u)/2},C={x:(w.x-P.x)/v,y:(w.y-P.y)/y},N=Ct({x:1,y:0},C),A={x:(-w.x-P.x)/v,y:(-w.y-P.y)/y},L=Ct(C,A);!a&&L>0?L-=2*d:a&&L<0&&(L+=2*d),L%=2*d;var _=N+L*l,R=v*f(_),I=y*h(_),D={x:f(m)*R-h(m)*I+O.x,y:h(m)*R+f(m)*I+O.y};return D}function At(t,e,n,r,i,o,a,s,u,l,c){var h,f=c.bbox,p=void 0===f||f,d=c.length,v=void 0===d||d,y=c.sampleSize,g=void 0===y?30:y,m="number"===typeof l,x=t,b=e,w=0,k=[x,b,w],E=[x,b],M=0,S={x:0,y:0},T=[{x:x,y:b}];m&&l<=0&&(S={x:x,y:b});for(var P=0;P<=g;P+=1){if(M=P/g,h=Nt(t,e,n,r,i,o,a,s,u,M),x=h.x,b=h.y,p&&T.push({x:x,y:b}),v&&(w+=ot(E,[x,b])),E=[x,b],m&&w>=l&&l>k[2]){var O=(w-l)/(w-k[2]);S={x:E[0]*(1-O)+k[0]*O,y:E[1]*(1-O)+k[1]*O}}k=[x,b,w]}return m&&l>=w&&(S={x:s,y:u}),{length:w,point:S,min:{x:Math.min.apply(null,T.map((function(t){return t.x}))),y:Math.min.apply(null,T.map((function(t){return t.y})))},max:{x:Math.max.apply(null,T.map((function(t){return t.x}))),y:Math.max.apply(null,T.map((function(t){return t.y})))}}}function Lt(t,e,n,r,i,o,a,s,u){var l=1-u;return{x:Math.pow(l,3)*t+3*Math.pow(l,2)*u*n+3*l*Math.pow(u,2)*i+Math.pow(u,3)*a,y:Math.pow(l,3)*e+3*Math.pow(l,2)*u*r+3*l*Math.pow(u,2)*o+Math.pow(u,3)*s}}function _t(t,e,n,r,i,o,a,s,u,l){var c,h=l.bbox,f=void 0===h||h,p=l.length,d=void 0===p||p,v=l.sampleSize,y=void 0===v?10:v,g="number"===typeof u,m=t,x=e,b=0,w=[m,x,b],k=[m,x],E=0,M={x:0,y:0},S=[{x:m,y:x}];g&&u<=0&&(M={x:m,y:x});for(var T=0;T<=y;T+=1){if(E=T/y,c=Lt(t,e,n,r,i,o,a,s,E),m=c.x,x=c.y,f&&S.push({x:m,y:x}),d&&(b+=ot(k,[m,x])),k=[m,x],g&&b>=u&&u>w[2]){var P=(b-u)/(b-w[2]);M={x:k[0]*(1-P)+w[0]*P,y:k[1]*(1-P)+w[1]*P}}w=[m,x,b]}return g&&u>=b&&(M={x:a,y:s}),{length:b,point:M,min:{x:Math.min.apply(null,S.map((function(t){return t.x}))),y:Math.min.apply(null,S.map((function(t){return t.y})))},max:{x:Math.max.apply(null,S.map((function(t){return t.x}))),y:Math.max.apply(null,S.map((function(t){return t.y})))}}}function Rt(t,e,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*t+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*e+2*s*a*r+Math.pow(a,2)*o}}function It(t,e,n,r,i,o,a,s){var u,l=s.bbox,c=void 0===l||l,h=s.length,f=void 0===h||h,p=s.sampleSize,d=void 0===p?10:p,v="number"===typeof a,y=t,g=e,m=0,x=[y,g,m],b=[y,g],w=0,k={x:0,y:0},E=[{x:y,y:g}];v&&a<=0&&(k={x:y,y:g});for(var M=0;M<=d;M+=1){if(w=M/d,u=Rt(t,e,n,r,i,o,w),y=u.x,g=u.y,c&&E.push({x:y,y:g}),f&&(m+=ot(b,[y,g])),b=[y,g],v&&m>=a&&a>x[2]){var S=(m-a)/(m-x[2]);k={x:b[0]*(1-S)+x[0]*S,y:b[1]*(1-S)+x[1]*S}}x=[y,g,m]}return v&&a>=m&&(k={x:i,y:o}),{length:m,point:k,min:{x:Math.min.apply(null,E.map((function(t){return t.x}))),y:Math.min.apply(null,E.map((function(t){return t.y})))},max:{x:Math.max.apply(null,E.map((function(t){return t.x}))),y:Math.max.apply(null,E.map((function(t){return t.y})))}}}function Dt(t,e,n){for(var r,i,o,a,s,u,l,c,h,f=Tt(t),p="number"===typeof e,d=[],v=0,y=0,g=0,m=0,x=[],b=[],w=0,k={x:0,y:0},E=k,M=k,S=k,T=0,P=0,O=f.length;P<O;P+=1)h=f[P],c=h[0],l="M"===c,d=l?d:[v,y].concat(h.slice(1)),l?(g=h[1],m=h[2],k={x:g,y:m},E=k,w=0,p&&e<.001&&(S=k)):"L"===c?(r=Ot(d[0],d[1],d[2],d[3],(e||0)-T),w=r.length,k=r.min,E=r.max,M=r.point):"A"===c?(i=At(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],(e||0)-T,n||{}),w=i.length,k=i.min,E=i.max,M=i.point):"C"===c?(o=_t(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],(e||0)-T,n||{}),w=o.length,k=o.min,E=o.max,M=o.point):"Q"===c?(a=It(d[0],d[1],d[2],d[3],d[4],d[5],(e||0)-T,n||{}),w=a.length,k=a.min,E=a.max,M=a.point):"Z"===c&&(d=[v,y,g,m],s=Ot(d[0],d[1],d[2],d[3],(e||0)-T),w=s.length,k=s.min,E=s.max,M=s.point),p&&T<e&&T+w>=e&&(S=M),b.push(E),x.push(k),T+=w,u="Z"!==c?h.slice(-2):[g,m],v=u[0],y=u[1];return p&&e>=T&&(S={x:v,y:y}),{length:T,point:S,min:{x:Math.min.apply(null,x.map((function(t){return t.x}))),y:Math.min.apply(null,x.map((function(t){return t.y})))},max:{x:Math.max.apply(null,b.map((function(t){return t.x}))),y:Math.max.apply(null,b.map((function(t){return t.y})))}}}function Ft(t,e){return Dt(t,void 0,D(D({},e),{bbox:!1,length:!0})).length}var jt=function(t){if(U(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},Bt=function(t){if(U(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},Gt=1e-5;function Yt(t,e,n){return void 0===n&&(n=Gt),Math.abs(t-e)<n}var Wt=function(t,e){return(t%e+e)%e},zt=Wt,Xt=function(t,e,n){return t<e?e:t>n?n:t},Vt=Xt,Ut=function(t){return null===t||void 0===t},Ht=Ut,qt=function(t){return V(t,"String")};function Kt(t,e,n){if(t[n].length>7){t[n].shift();var r=t[n],i=n;while(r.length)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}function Zt(t){return lt(t)&&t.every((function(t){var e=t[0];return"MC".includes(e)}))}function $t(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}}function Jt(t,e,n,r,i,o,a,s,u,l){var c,h,f,p,d,v=t,y=e,g=n,m=r,x=s,b=u,w=120*Math.PI/180,k=Math.PI/180*(+i||0),E=[];if(l)h=l[0],f=l[1],p=l[2],d=l[3];else{c=$t(v,y,-k),v=c.x,y=c.y,c=$t(x,b,-k),x=c.x,b=c.y;var M=(v-x)/2,S=(y-b)/2,T=M*M/(g*g)+S*S/(m*m);T>1&&(T=Math.sqrt(T),g*=T,m*=T);var P=g*g,O=m*m,C=(o===a?-1:1)*Math.sqrt(Math.abs((P*O-P*S*S-O*M*M)/(P*S*S+O*M*M)));p=C*g*S/m+(v+x)/2,d=C*-m*M/g+(y+b)/2,h=Math.asin(((y-d)/m*Math.pow(10,9)>>0)/Math.pow(10,9)),f=Math.asin(((b-d)/m*Math.pow(10,9)>>0)/Math.pow(10,9)),h=v<p?Math.PI-h:h,f=x<p?Math.PI-f:f,h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),a&&h>f&&(h-=2*Math.PI),!a&&f>h&&(f-=2*Math.PI)}var N=f-h;if(Math.abs(N)>w){var A=f,L=x,_=b;f=h+w*(a&&f>h?1:-1),x=p+g*Math.cos(f),b=d+m*Math.sin(f),E=Jt(x,b,g,m,i,0,a,L,_,[f,A,p,d])}N=f-h;var R=Math.cos(h),I=Math.sin(h),D=Math.cos(f),F=Math.sin(f),j=Math.tan(N/4),B=4/3*g*j,G=4/3*m*j,Y=[v,y],W=[v+B*I,y-G*R],z=[x+B*F,b-G*D],X=[x,b];if(W[0]=2*Y[0]-W[0],W[1]=2*Y[1]-W[1],l)return W.concat(z,X,E);E=W.concat(z,X,E);for(var V=[],U=0,H=E.length;U<H;U+=1)V[U]=U%2?$t(E[U-1],E[U],k).y:$t(E[U],E[U+1],k).x;return V}function Qt(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}function te(t,e,n,r){var i=.5,o=[t,e],a=[n,r],s=Pt(o,a,i),u=Pt(a,s,i),l=Pt(s,u,i),c=Pt(u,l,i),h=Pt(l,c,i),f=Ot(o[0],o[1],s[0],s[1],l[0]).point,p=Ot(h[0],h[1],c[0],c[1],u[0]).point;return[f.x,f.y,p.x,p.y,n,r]}function ee(t,e){var n,r=t[0],i=t.slice(1).map(Number),o=i[0],a=i[1],s=e.x1,u=e.y1,l=e.x,c=e.y;switch("TQ".includes(r)||(e.qx=null,e.qy=null),r){case"M":return e.x=o,e.y=a,t;case"A":return n=[s,u].concat(i),["C"].concat(Jt(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return e.qx=o,e.qy=a,n=[s,u].concat(i),["C"].concat(Qt(n[0],n[1],n[2],n[3],n[4],n[5]));case"L":return["C"].concat(te(s,u,o,a));case"Z":return s===l&&u===c?["C",s,u,l,c,l,c]:["C"].concat(te(s,u,l,c));default:}return t}function ne(t,e){if(void 0===e&&(e=!1),Zt(t)){var n=ht(t);return e?[n,[]]:n}for(var r,i,o=Tt(t),a=D({},ct),s=[],u="",l=o.length,c=[],h=0;h<l;h+=1){o[h]&&(u=o[h][0]),s[h]=u;var f=ee(o[h],a);o[h]=f,Kt(o,s,h),l=o.length,"Z"===u&&c.push(h),r=o[h],i=r.length,a.x1=+r[i-2],a.y1=+r[i-1],a.x2=+r[i-4]||a.x1,a.y2=+r[i-3]||a.y1}return e?[o,c]:o}function re(t,e){void 0===e&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),o=t.slice(6,8),a=Pt(n,r,e),s=Pt(r,i,e),u=Pt(i,o,e),l=Pt(a,s,e),c=Pt(s,u,e),h=Pt(l,c,e);return[["C"].concat(a,l,h),["C"].concat(c,u,o)]}function ie(t){return t.map((function(t,e,n){var r,i=e&&n[e-1].slice(-2).concat(t.slice(1)),o=e?_t(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0;return r=e?o?re(i):[t,t]:[t],{s:t,ss:r,l:o}}))}function oe(t,e,n){var r=ie(t),i=ie(e),o=r.length,a=i.length,s=r.filter((function(t){return t.l})).length,u=i.filter((function(t){return t.l})).length,l=r.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/s||0,c=i.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/u||0,h=n||Math.max(o,a),f=[l,c],p=[h-o,h-a],d=0,v=[r,i].map((function(t,e){return t.l===h?t.map((function(t){return t.s})):t.map((function(t,n){return d=n&&p[e]&&t.l>=f[e],p[e]-=d?1:0,d?t.ss:[t.s]})).flat()}));return v[0].length===v[1].length?v:oe(v[0],v[1],h)}function ae(t,e,n,r,i,o,a,s){return 3*((s-e)*(n+i)-(a-t)*(r+o)+r*(t-i)-n*(e-o)+s*(i+t/3)-a*(o+e/3))/20}function se(t){var e=0,n=0,r=0;return ne(t).map((function(t){var i;switch(t[0]){case"M":return e=t[1],n=t[2],0;default:var o=t.slice(1),a=o[0],s=o[1],u=o[2],l=o[3],c=o[4],h=o[5];return r=ae(e,n,a,s,u,l,c,h),i=t.slice(-2),e=i[0],n=i[1],r}})).reduce((function(t,e){return t+e}),0)}function ue(t){return se(t)>=0}function le(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))}function ce(t){var e=t.length,n=e-1;return t.map((function(r,i){return t.map((function(r,o){var a,s=i+o;return 0===o||t[s]&&"M"===t[s][0]?(a=t[s],["M"].concat(a.slice(-2))):(s>=e&&(s-=n),t[s])}))}))}function he(t,e){var n=t.length-1,r=[],i=0,o=0,a=ce(t);return a.forEach((function(i,a){t.slice(1).forEach((function(r,i){o+=ot(t[(a+i)%n].slice(-2),e[i%n].slice(-2))})),r[a]=o,o=0})),i=r.indexOf(Math.min.apply(null,r)),a[i]}var fe=function(t){return V(t,"Boolean")},pe=fe,de=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e},ve=function(t){return void 0===t},ye=ve;function ge(t,e,n){return Dt(t,e,D(D({},n),{bbox:!1,length:!0})).point}function me(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function be(){}var we=.7,ke=1/we,Ee="\\s*([+-]?\\d+)\\s*",Me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Te=/^#([0-9a-f]{3,8})$/,Pe=new RegExp("^rgb\\("+[Ee,Ee,Ee]+"\\)$"),Oe=new RegExp("^rgb\\("+[Se,Se,Se]+"\\)$"),Ce=new RegExp("^rgba\\("+[Ee,Ee,Ee,Me]+"\\)$"),Ne=new RegExp("^rgba\\("+[Se,Se,Se,Me]+"\\)$"),Ae=new RegExp("^hsl\\("+[Me,Se,Se]+"\\)$"),Le=new RegExp("^hsla\\("+[Me,Se,Se,Me]+"\\)$"),_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Re(){return this.rgb().formatHex()}function Ie(){return He(this).formatHsl()}function De(){return this.rgb().formatRgb()}function Fe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Te.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?je(e):3===n?new We(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Be(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Be(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Pe.exec(t))?new We(e[1],e[2],e[3],1):(e=Oe.exec(t))?new We(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ce.exec(t))?Be(e[1],e[2],e[3],e[4]):(e=Ne.exec(t))?Be(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ae.exec(t))?Ue(e[1],e[2]/100,e[3]/100,1):(e=Le.exec(t))?Ue(e[1],e[2]/100,e[3]/100,e[4]):_e.hasOwnProperty(t)?je(_e[t]):"transparent"===t?new We(NaN,NaN,NaN,0):null}function je(t){return new We(t>>16&255,t>>8&255,255&t,1)}function Be(t,e,n,r){return r<=0&&(t=e=n=NaN),new We(t,e,n,r)}function Ge(t){return t instanceof be||(t=Fe(t)),t?(t=t.rgb(),new We(t.r,t.g,t.b,t.opacity)):new We}function Ye(t,e,n,r){return 1===arguments.length?Ge(t):new We(t,e,n,null==r?1:r)}function We(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ze(){return"#"+Ve(this.r)+Ve(this.g)+Ve(this.b)}function Xe(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ve(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Ue(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ke(t,e,n,r)}function He(t){if(t instanceof Ke)return new Ke(t.h,t.s,t.l,t.opacity);if(t instanceof be||(t=Fe(t)),!t)return new Ke;if(t instanceof Ke)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ke(a,s,u,t.opacity)}function qe(t,e,n,r){return 1===arguments.length?He(t):new Ke(t,e,n,null==r?1:r)}function Ke(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ze(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}me(be,Fe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Re,formatHex:Re,formatHsl:Ie,formatRgb:De,toString:De}),me(We,Ye,xe(be,{brighter:function(t){return t=null==t?ke:Math.pow(ke,t),new We(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?we:Math.pow(we,t),new We(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ze,formatHex:ze,formatRgb:Xe,toString:Xe})),me(Ke,qe,xe(be,{brighter:function(t){return t=null==t?ke:Math.pow(ke,t),new Ke(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?we:Math.pow(we,t),new Ke(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new We(Ze(t>=240?t-240:t+120,i,r),Ze(t,i,r),Ze(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var $e=1e-6,Je="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function Qe(){var t=new Je(3);return Je!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function tn(t){var e=new Je(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function en(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function nn(t,e,n){var r=new Je(3);return r[0]=t,r[1]=e,r[2]=n,r}function rn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function on(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function an(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function sn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function un(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function ln(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function cn(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function hn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fn(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function pn(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function dn(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function vn(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function yn(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-o*u,h=o*s-r*l,f=r*u-i*s,p=i*f-o*h,d=o*c-r*f,v=r*h-i*c,y=2*a;return c*=y,h*=y,f*=y,p*=2,d*=2,v*=2,t[0]=s+c+p,t[1]=u+h+d,t[2]=l+f+v,t}function gn(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=$e*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=$e*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=$e*Math.max(1,Math.abs(i),Math.abs(s))}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var mn=en;(function(){var t=Qe()})();function xn(){var t=new Je(16);return Je!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function bn(t){var e=new Je(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function wn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function kn(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,v){var y=new Je(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=r,y[4]=i,y[5]=o,y[6]=a,y[7]=s,y[8]=u,y[9]=l,y[10]=c,y[11]=h,y[12]=f,y[13]=p,y[14]=d,y[15]=v,y}function En(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,v,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=h,t[11]=f,t[12]=p,t[13]=d,t[14]=v,t[15]=y,t}function Mn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Sn(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Tn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],y=e[14],g=e[15],m=n*s-r*a,x=n*u-i*a,b=n*l-o*a,w=r*u-i*s,k=r*l-o*s,E=i*l-o*u,M=c*v-h*d,S=c*y-f*d,T=c*g-p*d,P=h*y-f*v,O=h*g-p*v,C=f*g-p*y,N=m*C-x*O+b*P+w*T-k*S+E*M;return N?(N=1/N,t[0]=(s*C-u*O+l*P)*N,t[1]=(i*O-r*C-o*P)*N,t[2]=(v*E-y*k+g*w)*N,t[3]=(f*k-h*E-p*w)*N,t[4]=(u*T-a*C-l*S)*N,t[5]=(n*C-i*T+o*S)*N,t[6]=(y*b-d*E-g*x)*N,t[7]=(c*E-f*b+p*x)*N,t[8]=(a*O-s*T+l*M)*N,t[9]=(r*T-n*O-o*M)*N,t[10]=(d*k-v*b+g*m)*N,t[11]=(h*b-c*k-p*m)*N,t[12]=(s*S-a*P-u*M)*N,t[13]=(n*P-r*S+i*M)*N,t[14]=(v*x-d*w-y*m)*N,t[15]=(c*w-h*x+f*m)*N,t):null}function Pn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],y=e[14],g=e[15];return t[0]=s*(f*g-p*y)-h*(u*g-l*y)+v*(u*p-l*f),t[1]=-(r*(f*g-p*y)-h*(i*g-o*y)+v*(i*p-o*f)),t[2]=r*(u*g-l*y)-s*(i*g-o*y)+v*(i*l-o*u),t[3]=-(r*(u*p-l*f)-s*(i*p-o*f)+h*(i*l-o*u)),t[4]=-(a*(f*g-p*y)-c*(u*g-l*y)+d*(u*p-l*f)),t[5]=n*(f*g-p*y)-c*(i*g-o*y)+d*(i*p-o*f),t[6]=-(n*(u*g-l*y)-a*(i*g-o*y)+d*(i*l-o*u)),t[7]=n*(u*p-l*f)-a*(i*p-o*f)+c*(i*l-o*u),t[8]=a*(h*g-p*v)-c*(s*g-l*v)+d*(s*p-l*h),t[9]=-(n*(h*g-p*v)-c*(r*g-o*v)+d*(r*p-o*h)),t[10]=n*(s*g-l*v)-a*(r*g-o*v)+d*(r*l-o*s),t[11]=-(n*(s*p-l*h)-a*(r*p-o*h)+c*(r*l-o*s)),t[12]=-(a*(h*y-f*v)-c*(s*y-u*v)+d*(s*f-u*h)),t[13]=n*(h*y-f*v)-c*(r*y-i*v)+d*(r*f-i*h),t[14]=-(n*(s*y-u*v)-a*(r*y-i*v)+d*(r*u-i*s)),t[15]=n*(s*f-u*h)-a*(r*f-i*h)+c*(r*u-i*s),t}function On(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],p=t[12],d=t[13],v=t[14],y=t[15],g=e*a-n*o,m=e*s-r*o,x=e*u-i*o,b=n*s-r*a,w=n*u-i*a,k=r*u-i*s,E=l*d-c*p,M=l*v-h*p,S=l*y-f*p,T=c*v-h*d,P=c*y-f*d,O=h*y-f*v;return g*O-m*P+x*T+b*S-w*M+k*E}function Cn(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],v=e[12],y=e[13],g=e[14],m=e[15],x=n[0],b=n[1],w=n[2],k=n[3];return t[0]=x*r+b*s+w*h+k*v,t[1]=x*i+b*u+w*f+k*y,t[2]=x*o+b*l+w*p+k*g,t[3]=x*a+b*c+w*d+k*m,x=n[4],b=n[5],w=n[6],k=n[7],t[4]=x*r+b*s+w*h+k*v,t[5]=x*i+b*u+w*f+k*y,t[6]=x*o+b*l+w*p+k*g,t[7]=x*a+b*c+w*d+k*m,x=n[8],b=n[9],w=n[10],k=n[11],t[8]=x*r+b*s+w*h+k*v,t[9]=x*i+b*u+w*f+k*y,t[10]=x*o+b*l+w*p+k*g,t[11]=x*a+b*c+w*d+k*m,x=n[12],b=n[13],w=n[14],k=n[15],t[12]=x*r+b*s+w*h+k*v,t[13]=x*i+b*u+w*f+k*y,t[14]=x*o+b*l+w*p+k*g,t[15]=x*a+b*c+w*d+k*m,t}function Nn(t,e,n){var r,i,o,a,s,u,l,c,h,f,p,d,v=n[0],y=n[1],g=n[2];return e===t?(t[12]=e[0]*v+e[4]*y+e[8]*g+e[12],t[13]=e[1]*v+e[5]*y+e[9]*g+e[13],t[14]=e[2]*v+e[6]*y+e[10]*g+e[14],t[15]=e[3]*v+e[7]*y+e[11]*g+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=r*v+s*y+h*g+e[12],t[13]=i*v+u*y+f*g+e[13],t[14]=o*v+l*y+p*g+e[14],t[15]=a*v+c*y+d*g+e[15]),t}function An(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ln(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,v,y,g,m,x,b,w,k,E,M,S,T,P,O=r[0],C=r[1],N=r[2],A=Math.hypot(O,C,N);return A<$e?null:(A=1/A,O*=A,C*=A,N*=A,i=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],u=e[1],l=e[2],c=e[3],h=e[4],f=e[5],p=e[6],d=e[7],v=e[8],y=e[9],g=e[10],m=e[11],x=O*O*a+o,b=C*O*a+N*i,w=N*O*a-C*i,k=O*C*a-N*i,E=C*C*a+o,M=N*C*a+O*i,S=O*N*a+C*i,T=C*N*a-O*i,P=N*N*a+o,t[0]=s*x+h*b+v*w,t[1]=u*x+f*b+y*w,t[2]=l*x+p*b+g*w,t[3]=c*x+d*b+m*w,t[4]=s*k+h*E+v*M,t[5]=u*k+f*E+y*M,t[6]=l*k+p*E+g*M,t[7]=c*k+d*E+m*M,t[8]=s*S+h*T+v*P,t[9]=u*S+f*T+y*P,t[10]=l*S+p*T+g*P,t[11]=c*S+d*T+m*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function _n(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t}function Rn(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t}function In(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t}function Dn(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Fn(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jn(t,e,n){var r,i,o,a=n[0],s=n[1],u=n[2],l=Math.hypot(a,s,u);return l<$e?null:(l=1/l,a*=l,s*=l,u*=l,r=Math.sin(e),i=Math.cos(e),o=1-i,t[0]=a*a*o+i,t[1]=s*a*o+u*r,t[2]=u*a*o-s*r,t[3]=0,t[4]=a*s*o-u*r,t[5]=s*s*o+i,t[6]=u*s*o+a*r,t[7]=0,t[8]=a*u*o+s*r,t[9]=s*u*o-a*r,t[10]=u*u*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Bn(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Gn(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Yn(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wn(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,h=r*u,f=r*l,p=i*u,d=i*l,v=o*l,y=a*s,g=a*u,m=a*l;return t[0]=1-(p+v),t[1]=h+m,t[2]=f-g,t[3]=0,t[4]=h-m,t[5]=1-(c+v),t[6]=d+y,t[7]=0,t[8]=f+g,t[9]=d-y,t[10]=1-(c+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function zn(t,e){var n=new Je(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=r*r+i*i+o*o+a*a;return h>0?(n[0]=2*(s*a+c*r+u*o-l*i)/h,n[1]=2*(u*a+c*i+l*r-s*o)/h,n[2]=2*(l*a+c*o+s*i-u*r)/h):(n[0]=2*(s*a+c*r+u*o-l*i),n[1]=2*(u*a+c*i+l*r-s*o),n[2]=2*(l*a+c*o+s*i-u*r)),Wn(t,e,n),t}function Xn(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Vn(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(u,l,c),t}function Un(t,e){var n=new Je(3);Vn(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,u=e[2]*o,l=e[4]*r,c=e[5]*i,h=e[6]*o,f=e[8]*r,p=e[9]*i,d=e[10]*o,v=a+c+d,y=0;return v>0?(y=2*Math.sqrt(v+1),t[3]=.25*y,t[0]=(h-p)/y,t[1]=(f-u)/y,t[2]=(s-l)/y):a>c&&a>d?(y=2*Math.sqrt(1+a-c-d),t[3]=(h-p)/y,t[0]=.25*y,t[1]=(s+l)/y,t[2]=(f+u)/y):c>d?(y=2*Math.sqrt(1+c-a-d),t[3]=(f-u)/y,t[0]=(s+l)/y,t[1]=.25*y,t[2]=(h+p)/y):(y=2*Math.sqrt(1+d-a-c),t[3]=(s-l)/y,t[0]=(f+u)/y,t[1]=(h+p)/y,t[2]=.25*y),t}function Hn(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,h=i*u,f=i*l,p=i*c,d=o*l,v=o*c,y=a*c,g=s*u,m=s*l,x=s*c,b=r[0],w=r[1],k=r[2];return t[0]=(1-(d+y))*b,t[1]=(f+x)*b,t[2]=(p-m)*b,t[3]=0,t[4]=(f-x)*w,t[5]=(1-(h+y))*w,t[6]=(v+g)*w,t[7]=0,t[8]=(p+m)*k,t[9]=(v-g)*k,t[10]=(1-(h+d))*k,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function qn(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,h=s+s,f=o*l,p=o*c,d=o*h,v=a*c,y=a*h,g=s*h,m=u*l,x=u*c,b=u*h,w=r[0],k=r[1],E=r[2],M=i[0],S=i[1],T=i[2],P=(1-(v+g))*w,O=(p+b)*w,C=(d-x)*w,N=(p-b)*k,A=(1-(f+g))*k,L=(y+m)*k,_=(d+x)*E,R=(y-m)*E,I=(1-(f+v))*E;return t[0]=P,t[1]=O,t[2]=C,t[3]=0,t[4]=N,t[5]=A,t[6]=L,t[7]=0,t[8]=_,t[9]=R,t[10]=I,t[11]=0,t[12]=n[0]+M-(P*M+N*S+_*T),t[13]=n[1]+S-(O*M+A*S+R*T),t[14]=n[2]+T-(C*M+L*S+I*T),t[15]=1,t}function Kn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,p=i*s,d=i*u,v=o*a,y=o*s,g=o*u;return t[0]=1-h-d,t[1]=c+g,t[2]=f-y,t[3]=0,t[4]=c-g,t[5]=1-l-d,t[6]=p+v,t[7]=0,t[8]=f+y,t[9]=p-v,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Zn(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t}function $n(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var Jn=$n;function Qn(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function tr(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function er(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}var nr=er;function rr(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=o*l,t[15]=1,t}function ir(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d=e[0],v=e[1],y=e[2],g=r[0],m=r[1],x=r[2],b=n[0],w=n[1],k=n[2];return Math.abs(d-b)<$e&&Math.abs(v-w)<$e&&Math.abs(y-k)<$e?Mn(t):(c=d-b,h=v-w,f=y-k,p=1/Math.hypot(c,h,f),c*=p,h*=p,f*=p,i=m*f-x*h,o=x*c-g*f,a=g*h-m*c,p=Math.hypot(i,o,a),p?(p=1/p,i*=p,o*=p,a*=p):(i=0,o=0,a=0),s=h*a-f*o,u=f*i-c*a,l=c*o-h*i,p=Math.hypot(s,u,l),p?(p=1/p,s*=p,u*=p,l*=p):(s=0,u=0,l=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=u,t[6]=h,t[7]=0,t[8]=a,t[9]=l,t[10]=f,t[11]=0,t[12]=-(i*d+o*v+a*y),t[13]=-(s*d+u*v+l*y),t[14]=-(c*d+h*v+f*y),t[15]=1,t)}function or(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],l=r[2],c=i-n[0],h=o-n[1],f=a-n[2],p=c*c+h*h+f*f;p>0&&(p=1/Math.sqrt(p),c*=p,h*=p,f*=p);var d=u*f-l*h,v=l*c-s*f,y=s*h-u*c;return p=d*d+v*v+y*y,p>0&&(p=1/Math.sqrt(p),d*=p,v*=p,y*=p),t[0]=d,t[1]=v,t[2]=y,t[3]=0,t[4]=h*y-f*v,t[5]=f*d-c*y,t[6]=c*v-h*d,t[7]=0,t[8]=c,t[9]=h,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function ar(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function sr(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function ur(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function lr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function cr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function hr(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function fr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function pr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],p=t[11],d=t[12],v=t[13],y=t[14],g=t[15],m=e[0],x=e[1],b=e[2],w=e[3],k=e[4],E=e[5],M=e[6],S=e[7],T=e[8],P=e[9],O=e[10],C=e[11],N=e[12],A=e[13],L=e[14],_=e[15];return Math.abs(n-m)<=$e*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-x)<=$e*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-b)<=$e*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-w)<=$e*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-k)<=$e*Math.max(1,Math.abs(a),Math.abs(k))&&Math.abs(s-E)<=$e*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-M)<=$e*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(l-S)<=$e*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-T)<=$e*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-P)<=$e*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(f-O)<=$e*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(p-C)<=$e*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(d-N)<=$e*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(v-A)<=$e*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(y-L)<=$e*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(g-_)<=$e*Math.max(1,Math.abs(g),Math.abs(_))}var dr=Cn,vr=lr;function yr(){var t=new Je(9);return Je!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function gr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function mr(t,e,n,r,i,o,a,s,u){var l=new Je(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=i,l[5]=o,l[6]=a,l[7]=s,l[8]=u,l}function xr(){var t=new Je(4);return Je!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function br(t,e,n,r){var i=new Je(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function wr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function kr(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function Er(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}(function(){var t=xr()})();function Mr(){var t=new Je(4);return Je!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Sr(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Tr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t}function Pr(t,e,n,r){var i,o,a,s,u,l=e[0],c=e[1],h=e[2],f=e[3],p=n[0],d=n[1],v=n[2],y=n[3];return l*p+c*d+h*v+f*y,o<0&&(-o,-p,-d,-v,-y),1-o>$e?(Math.acos(o),Math.sin(i),Math.sin((1-r)*i)/a,Math.sin(r*i)/a):(1-r,r),t[0]=s*l+u*p,t[1]=s*c+u*d,t[2]=s*h+u*v,t[3]=s*f+u*y,t}function Or(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function Cr(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)Math.sqrt(r+1),t[3]=.5*n,.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&1,e[8]>e[3*i+i]&&2;var o=(i+1)%3,a=(i+2)%3;Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function Nr(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return t[0]=o*u*c-a*s*l,t[1]=a*s*c+o*u*l,t[2]=a*u*l-o*s*c,t[3]=a*u*c+o*s*l,t}var Ar=br,Lr=wr,_r=Tr,Rr=kr;(function(){var t=Qe(),e=nn(1,0,0),n=nn(0,1,0)})(),function(){var t=Mr(),e=Mr()}(),function(){var t=yr()}();function Ir(){var t=new Je(2);return Je!=Float32Array&&(t[0]=0,t[1]=0),t}function Dr(t,e){var n=new Je(2);return n[0]=t,n[1]=e,n}function Fr(t,e){return t[0]=e[0],t[1]=e[1],t}function jr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Br(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Gr(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Yr(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function Wr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function zr(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function Xr(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function Vr(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Ur(t,e){return t[0]*e[0]+t[1]*e[1]}function Hr(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function qr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function Kr(t,e){return t[0]===e[0]&&t[1]===e[1]}var Zr=Br;(function(){var t=Ir()})();function $r(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Jr(t,e){return Math.abs(t-e)<.001}function Qr(t,e){var n=Math.min.apply(Math,t),r=Math.min.apply(Math,e),i=Math.max.apply(Math,t),o=Math.max.apply(Math,e);return{x:n,y:r,width:i-n,height:o-r}}function ti(t){return(t+2*Math.PI)%(2*Math.PI)}var ei={box:function(t,e,n,r){return Qr([t,n],[e,r])},length:function(t,e,n,r){return $r(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);if(a<0)return $r(t,e,i,o);var s=(n-t)*(n-t)+(r-e)*(r-e);return a>s?$r(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(Kr(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];Vr(s,s);var u=[i-t,o-e];return Math.abs(Ur(u,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},ni=1e-4;function ri(t,e,n,r,i,o){var a=-1,s=1/0,u=[n,r],l=20;o&&o>200&&(l=o/10);for(var c=1/l,h=c/10,f=0;f<=l;f++){var p=f*c,d=[i.apply(void 0,t.concat([p])),i.apply(void 0,e.concat([p]))],v=$r(u[0],u[1],d[0],d[1]);v<s&&(a=p,s=v)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var y=t.length;return{x:t[y-1],y:e[y-1]}}s=1/0;for(var g=0;g<32;g++){if(h<ni)break;var m=a-h,x=a+h,b=[i.apply(void 0,t.concat([m])),i.apply(void 0,e.concat([m]))],w=$r(u[0],u[1],b[0],b[1]);if(m>=0&&w<s)a=m,s=w;else{var k=[i.apply(void 0,t.concat([x])),i.apply(void 0,e.concat([x]))],E=$r(u[0],u[1],k[0],k[1]);x<=1&&E<s?(a=x,s=E):h*=.5}}return{x:i.apply(void 0,t.concat([a])),y:i.apply(void 0,e.concat([a]))}}function ii(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],a=e[i],s=t[(i+1)%r],u=e[(i+1)%r];n+=$r(o,a,s,u)}return n/2}function oi(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function ai(t,e,n){var r=t+n-2*e;if(Jr(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function si(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function ui(t,e,n,r,i,o,a){var s=oi(t,n,i,a),u=oi(e,r,o,a),l=ei.pointAt(t,e,n,r,a),c=ei.pointAt(n,r,i,o,a);return[[t,e,l.x,l.y,s,u],[s,u,c.x,c.y,i,o]]}function li(t,e,n,r,i,o,a){if(0===a)return($r(t,e,n,r)+$r(n,r,i,o)+$r(t,e,i,o))/2;var s=ui(t,e,n,r,i,o,.5),u=s[0],l=s[1];return u.push(a-1),l.push(a-1),li.apply(void 0,u)+li.apply(void 0,l)}var ci={box:function(t,e,n,r,i,o){var a=ai(t,n,i)[0],s=ai(e,r,o)[0],u=[t,i],l=[e,o];return void 0!==a&&u.push(oi(t,n,i,a)),void 0!==s&&l.push(oi(e,r,o,s)),Qr(u,l)},length:function(t,e,n,r,i,o){return li(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return ri([t,n,i],[e,r,o],a,s,oi)},pointDistance:function(t,e,n,r,i,o,a,s){var u=this.nearestPoint(t,e,n,r,i,o,a,s);return $r(u.x,u.y,a,s)},interpolationAt:oi,pointAt:function(t,e,n,r,i,o,a){return{x:oi(t,n,i,a),y:oi(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return ui(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=si(t,n,i,a),u=si(e,r,o,a),l=Math.atan2(u,s);return ti(l)}};function hi(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function fi(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function pi(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,l=3*e-3*t,c=[];if(Jr(s,0))Jr(u,0)||(i=-l/u,i>=0&&i<=1&&c.push(i));else{var h=u*u-4*s*l;Jr(h,0)?c.push(-u/(2*s)):h>0&&(a=Math.sqrt(h),i=(-u+a)/(2*s),o=(-u-a)/(2*s),i>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function di(t,e,n,r,i,o,a,s,u){var l=hi(t,n,i,a,u),c=hi(e,r,o,s,u),h=ei.pointAt(t,e,n,r,u),f=ei.pointAt(n,r,i,o,u),p=ei.pointAt(i,o,a,s,u),d=ei.pointAt(h.x,h.y,f.x,f.y,u),v=ei.pointAt(f.x,f.y,p.x,p.y,u);return[[t,e,h.x,h.y,d.x,d.y,l,c],[l,c,v.x,v.y,p.x,p.y,a,s]]}function vi(t,e,n,r,i,o,a,s,u){if(0===u)return ii([t,n,i,a],[e,r,o,s]);var l=di(t,e,n,r,i,o,a,s,.5),c=[].concat(l[0],[u-1]),h=[].concat(l[1],[u-1]);return vi.apply(void 0,c)+vi.apply(void 0,h)}var yi={extrema:pi,box:function(t,e,n,r,i,o,a,s){for(var u=[t,a],l=[e,s],c=pi(t,n,i,a),h=pi(e,r,o,s),f=0;f<c.length;f++)u.push(hi(t,n,i,a,c[f]));for(var p=0;p<h.length;p++)l.push(hi(e,r,o,s,h[p]));return Qr(u,l)},length:function(t,e,n,r,i,o,a,s){return vi(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,u,l,c){return ri([t,n,i,a],[e,r,o,s],u,l,hi,c)},pointDistance:function(t,e,n,r,i,o,a,s,u,l,c){var h=this.nearestPoint(t,e,n,r,i,o,a,s,u,l,c);return $r(h.x,h.y,u,l)},interpolationAt:hi,pointAt:function(t,e,n,r,i,o,a,s,u){return{x:hi(t,n,i,a,u),y:hi(e,r,o,s,u)}},divide:function(t,e,n,r,i,o,a,s,u){return di(t,e,n,r,i,o,a,s,u)},tangentAngle:function(t,e,n,r,i,o,a,s,u){var l=fi(t,n,i,a,u),c=fi(e,r,o,s,u);return ti(Math.atan2(c,l))}};function gi(t,e){var n=Math.abs(t);return e>0?n:-1*n}var mi={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,i,o){var a=n,s=r;if(0===a||0===s)return{x:t,y:e};for(var u=i-t,l=o-e,c=Math.abs(u),h=Math.abs(l),f=a*a,p=s*s,d=Math.PI/4,v=0,y=0,g=0;g<4;g++){v=a*Math.cos(d),y=s*Math.sin(d);var m=(f-p)*Math.pow(Math.cos(d),3)/a,x=(p-f)*Math.pow(Math.sin(d),3)/s,b=v-m,w=y-x,k=c-m,E=h-x,M=Math.hypot(w,b),S=Math.hypot(E,k),T=M*Math.asin((b*E-w*k)/(M*S)),P=T/Math.sqrt(f+p-v*v-y*y);d+=P,d=Math.min(Math.PI/2,Math.max(0,d))}return{x:t+gi(v,u),y:e+gi(y,l)}},pointDistance:function(t,e,n,r,i,o){var a=this.nearestPoint(t,e,n,r,i,o);return $r(a.x,a.y,i,o)},pointAt:function(t,e,n,r,i){var o=2*Math.PI*i;return{x:t+n*Math.cos(o),y:e+r*Math.sin(o)}},tangentAngle:function(t,e,n,r,i){var o=2*Math.PI*i,a=Math.atan2(r*Math.cos(o),-n*Math.sin(o));return ti(a)}};function xi(t,e,n,r,i,o,a,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}function bi(t,e,n,r,i,o,a,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}function wi(t,e,n){return Math.atan(-e/t*Math.tan(n))}function ki(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function Ei(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function Mi(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function Si(t,e,n,r){var i=Math.atan2(r*t,n*e);return(i+2*Math.PI)%(2*Math.PI)}function Ti(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function Pi(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var Oi={box:function(t,e,n,r,i,o,a){for(var s=wi(n,r,i),u=1/0,l=-1/0,c=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var f=s+h;o<a?o<f&&f<a&&c.push(f):a<f&&f<o&&c.push(f)}for(var p=0;p<c.length;p++){var d=Ei(t,e,n,r,i,c[p]);d<u&&(u=d),d>l&&(l=d)}for(var v=ki(n,r,i),y=1/0,g=-1/0,m=[o,a],x=2*-Math.PI;x<=2*Math.PI;x+=Math.PI){var b=v+x;o<a?o<b&&b<a&&m.push(b):a<b&&b<o&&m.push(b)}for(var w=0;w<m.length;w++){var k=Mi(t,e,n,r,i,m[w]);k<y&&(y=k),k>g&&(g=k)}return{x:u,y:y,width:l-u,height:g-y}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,s,u){var l=Pi(s-t,u-e,-i),c=l[0],h=l[1],f=mi.nearestPoint(0,0,n,r,c,h),p=Si(n,r,f.x,f.y);p<o?f=Ti(n,r,o):p>a&&(f=Ti(n,r,a));var d=Pi(f.x,f.y,i);return{x:d[0]+t,y:d[1]+e}},pointDistance:function(t,e,n,r,i,o,a,s,u){var l=this.nearestPoint(t,e,n,r,i,o,a,s,u);return $r(l.x,l.y,s,u)},pointAt:function(t,e,n,r,i,o,a,s){var u=(a-o)*s+o;return{x:Ei(t,e,n,r,i,u),y:Mi(t,e,n,r,i,u)}},tangentAngle:function(t,e,n,r,i,o,a,s){var u=(a-o)*s+o,l=xi(t,e,n,r,i,o,a,u),c=bi(t,e,n,r,i,o,a,u);return ti(Math.atan2(c,l))}};function Ci(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],a=$r(i[0],i[1],o[0],o[1]),s={from:i,to:o,length:a};n.push(s),e+=a}return{segments:n,totalLength:e}}function Ni(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=$r(r[0],r[1],i[0],i[1])}return e}function Ai(t,e){if(e>1||e<0||t.length<2)return null;var n=Ci(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,h=u.length/i;if(e>=o&&e<=o+h){var f=(e-o)/h;a=ei.pointAt(l[0],l[1],c[0],c[1],f);break}o+=h}return a}function Li(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=Ci(t),r=n.segments,i=n.totalLength,o=0,a=0,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,h=u.length/i;if(e>=o&&e<=o+h){a=Math.atan2(c[1]-l[1],c[0]-l[0]);break}o+=h}return a}function _i(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],s=ei.pointDistance(o[0],o[1],a[0],a[1],e,n);s<r&&(r=s)}return r}var Ri={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return Qr(e,n)},length:function(t){return Ni(t)},pointAt:function(t,e){return Ai(t,e)},pointDistance:function(t,e,n){return _i(t,e,n)},tangentAngle:function(t,e){return Li(t,e)}};var Ii,Di,Fi,ji,Bi,Gi,Yi=i(4511),Wi=i.n(Yi);function zi(){zi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&n.call(g,o)&&(v=g);var m=d.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Xi(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function Vi(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xi(o,r,i,a,s,"next",t)}function s(t){Xi(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ro(r.key),r)}}function Hi(t,e,n){return e&&Ui(t.prototype,e),n&&Ui(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qi(){return qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qi.apply(this,arguments)}function Ki(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Zi(t,e)}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}function $i(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Ji(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qi(t,e){if(t){if("string"===typeof t)return to(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(t,e):void 0}}function to(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eo(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Qi(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function no(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function ro(t){var e=no(t,"string");return"symbol"===typeof e?e:String(e)}(function(t){t["COORDINATE"]="<coordinate>",t["COLOR"]="<color>",t["PAINT"]="<paint>",t["NUMBER"]="<number>",t["ANGLE"]="<angle>",t["OPACITY_VALUE"]="<opacity-value>",t["SHADOW_BLUR"]="<shadow-blur>",t["LENGTH"]="<length>",t["PERCENTAGE"]="<percentage>",t["LENGTH_PERCENTAGE"]="<length> | <percentage>",t["LENGTH_PERCENTAGE_12"]="[<length> | <percentage>]{1,2}",t["LENGTH_PERCENTAGE_14"]="[<length> | <percentage>]{1,4}",t["LIST_OF_POINTS"]="<list-of-points>",t["PATH"]="<path>",t["FILTER"]="<filter>",t["Z_INDEX"]="<z-index>",t["OFFSET_DISTANCE"]="<offset-distance>",t["DEFINED_PATH"]="<defined-path>",t["MARKER"]="<marker>",t["TRANSFORM"]="<transform>",t["TRANSFORM_ORIGIN"]="<transform-origin>",t["TEXT"]="<text>",t["TEXT_TRANSFORM"]="<text-transform>"})(Ii||(Ii={})),function(t){t[t["kUnknown"]=0]="kUnknown",t[t["kNumber"]=1]="kNumber",t[t["kPercentage"]=2]="kPercentage",t[t["kEms"]=3]="kEms",t[t["kPixels"]=4]="kPixels",t[t["kRems"]=5]="kRems",t[t["kDegrees"]=6]="kDegrees",t[t["kRadians"]=7]="kRadians",t[t["kGradians"]=8]="kGradians",t[t["kTurns"]=9]="kTurns",t[t["kMilliseconds"]=10]="kMilliseconds",t[t["kSeconds"]=11]="kSeconds",t[t["kInteger"]=12]="kInteger"}(Di||(Di={})),function(t){t[t["kUNumber"]=0]="kUNumber",t[t["kUPercent"]=1]="kUPercent",t[t["kULength"]=2]="kULength",t[t["kUAngle"]=3]="kUAngle",t[t["kUTime"]=4]="kUTime",t[t["kUOther"]=5]="kUOther"}(Fi||(Fi={})),function(t){t[t["kAll"]=0]="kAll",t[t["kNonNegative"]=1]="kNonNegative",t[t["kInteger"]=2]="kInteger",t[t["kNonNegativeInteger"]=3]="kNonNegativeInteger",t[t["kPositiveInteger"]=4]="kPositiveInteger"}(ji||(ji={})),function(t){t[t["kYes"]=0]="kYes",t[t["kNo"]=1]="kNo"}(Bi||(Bi={})),function(t){t[t["kYes"]=0]="kYes",t[t["kNo"]=1]="kNo"}(Gi||(Gi={}));var io,oo=[{name:"em",unit_type:Di.kEms},{name:"px",unit_type:Di.kPixels},{name:"deg",unit_type:Di.kDegrees},{name:"rad",unit_type:Di.kRadians},{name:"grad",unit_type:Di.kGradians},{name:"ms",unit_type:Di.kMilliseconds},{name:"s",unit_type:Di.kSeconds},{name:"rem",unit_type:Di.kRems},{name:"turn",unit_type:Di.kTurns}];(function(t){t[t["kUnknownType"]=0]="kUnknownType",t[t["kUnparsedType"]=1]="kUnparsedType",t[t["kKeywordType"]=2]="kKeywordType",t[t["kUnitType"]=3]="kUnitType",t[t["kSumType"]=4]="kSumType",t[t["kProductType"]=5]="kProductType",t[t["kNegateType"]=6]="kNegateType",t[t["kInvertType"]=7]="kInvertType",t[t["kMinType"]=8]="kMinType",t[t["kMaxType"]=9]="kMaxType",t[t["kClampType"]=10]="kClampType",t[t["kTransformType"]=11]="kTransformType",t[t["kPositionType"]=12]="kPositionType",t[t["kURLImageType"]=13]="kURLImageType",t[t["kColorType"]=14]="kColorType",t[t["kUnsupportedColorType"]=15]="kUnsupportedColorType"})(io||(io={}));var ao,so=function(t){return oo.find((function(e){return e.name===t})).unit_type},uo=function(t){return t?"number"===t?Di.kNumber:"percent"===t||"%"===t?Di.kPercentage:so(t):Di.kUnknown},lo=function(t){switch(t){case Di.kNumber:case Di.kInteger:return Fi.kUNumber;case Di.kPercentage:return Fi.kUPercent;case Di.kPixels:return Fi.kULength;case Di.kMilliseconds:case Di.kSeconds:return Fi.kUTime;case Di.kDegrees:case Di.kRadians:case Di.kGradians:case Di.kTurns:return Fi.kUAngle;default:return Fi.kUOther}},co=function(t){switch(t){case Fi.kUNumber:return Di.kNumber;case Fi.kULength:return Di.kPixels;case Fi.kUPercent:return Di.kPercentage;case Fi.kUTime:return Di.kSeconds;case Fi.kUAngle:return Di.kDegrees;default:return Di.kUnknown}},ho=function(t){var e=1;switch(t){case Di.kPixels:case Di.kDegrees:case Di.kSeconds:break;case Di.kMilliseconds:e=.001;break;case Di.kRadians:e=180/Math.PI;break;case Di.kGradians:e=.9;break;case Di.kTurns:e=360;break}return e},fo=function(t){switch(t){case Di.kNumber:case Di.kInteger:return"";case Di.kPercentage:return"%";case Di.kEms:return"em";case Di.kRems:return"rem";case Di.kPixels:return"px";case Di.kDegrees:return"deg";case Di.kRadians:return"rad";case Di.kGradians:return"grad";case Di.kMilliseconds:return"ms";case Di.kSeconds:return"s";case Di.kTurns:return"turn"}return""},po=function(){function t(){}t.isAngle=function(t){return t===Di.kDegrees||t===Di.kRadians||t===Di.kGradians||t===Di.kTurns},t.isLength=function(t){return t>=Di.kEms&&t<Di.kDegrees},t.isRelativeUnit=function(t){return t===Di.kPercentage||t===Di.kEms||t===Di.kRems},t.isTime=function(t){return t===Di.kSeconds||t===Di.kMilliseconds};var e=t.prototype;return e.toString=function(){return this.buildCSSText(Bi.kNo,Gi.kNo,"")},e.isNumericValue=function(){return this.getType()>=io.kUnitType&&this.getType()<=io.kClampType},t}(),vo=function(t){function e(e){var n;return n=t.call(this)||this,n.colorSpace=void 0,n.colorSpace=e,n}Ki(e,t);var n=e.prototype;return n.getType=function(){return io.kColorType},n.to=function(t){return this},e}(po);(function(t){t[t["Constant"]=0]="Constant",t[t["LinearGradient"]=1]="LinearGradient",t[t["RadialGradient"]=2]="RadialGradient"})(ao||(ao={}));var yo=function(t){function e(e,n){var r;return r=t.call(this)||this,r.type=void 0,r.value=void 0,r.type=e,r.value=n,r}Ki(e,t);var n=e.prototype;return n.clone=function(){return new e(this.type,this.value)},n.buildCSSText=function(t,e,n){return n},n.getType=function(){return io.kColorType},e}(po),go=function(t){function e(e){var n;return n=t.call(this)||this,n.value=void 0,n.value=e,n}Ki(e,t);var n=e.prototype;return n.clone=function(){return new e(this.value)},n.getType=function(){return io.kKeywordType},n.buildCSSText=function(t,e,n){return n+this.value},e}(po);function mo(t,e){if("function"!==typeof t||null!=e&&"function"!==typeof e)throw new TypeError("Expected a function");var n=function n(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=e?e.apply(this,i):i[0],s=n.cache;if(s.has(a))return s.get(a);var u=t.apply(this,i);return n.cache=s.set(a,u)||s,u};return n.cache=new(mo.Cache||Map),n}mo.Cache=Map;var xo=mo((function(t){return void 0===t&&(t=""),t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))})),bo=function(t){return t.split("").map((function(t,e){return t.toUpperCase()===t?(0!==e?"-":"")+t.toLowerCase():t})).join("")};function wo(t){if(!t)throw new Error}function ko(t){return"function"===typeof t}function Eo(t){return"symbol"===typeof t}var Mo=function(t){return Object.fromEntries(Object.entries(t).filter((function(t){var e=t[1];return void 0!==e})))},So={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},To=mo((function(t){var e=xo(t),n=So[e];return e=(null===n||void 0===n?void 0:n.alias)||e,e})),Po=function(t,e){void 0===e&&(e="");var n="";return Number.isFinite(t)?(wo(Number.isNaN(t)),n="NaN"):n=t>0?"infinity":"-infinity",n+e},Oo=function(t){return co(lo(t))},Co=function(t){function e(e,n){var r,i;return void 0===n&&(n=Di.kNumber),r=t.call(this)||this,r.unit=void 0,r.value=void 0,i="string"===typeof n?uo(n):n,r.unit=i,r.value=e,r}Ki(e,t);var n=e.prototype;return n.clone=function(){return new e(this.value,this.unit)},n.equals=function(t){var e=t;return this.value===e.value&&this.unit===e.unit},n.getType=function(){return io.kUnitType},n.convertTo=function(t){if(this.unit===t)return new e(this.value,this.unit);var n=Oo(this.unit);if(n!==Oo(t)||n===Di.kUnknown)return null;var r=ho(this.unit)/ho(t);return new e(this.value*r,t)},n.buildCSSText=function(t,e,n){var r;switch(this.unit){case Di.kUnknown:break;case Di.kInteger:r=Number(this.value).toFixed(0);break;case Di.kNumber:case Di.kPercentage:case Di.kEms:case Di.kRems:case Di.kPixels:case Di.kDegrees:case Di.kRadians:case Di.kGradians:case Di.kMilliseconds:case Di.kSeconds:case Di.kTurns:var i=-999999,o=999999,a=this.value,s=fo(this.unit);if(a<i||a>o){var u=fo(this.unit);r=!Number.isFinite(a)||Number.isNaN(a)?Po(a,u):a+(u||"")}else r=""+a+s}return n+=r,n},e}(po),No=new Co(0,"px"),Ao=(new Co(1,"px"),new Co(0,"deg")),Lo=function(t){function e(e,n,r,i,o){var a;return void 0===i&&(i=1),void 0===o&&(o=!1),a=t.call(this,"rgb")||this,a.r=void 0,a.g=void 0,a.b=void 0,a.alpha=void 0,a.isNone=void 0,a.r=e,a.g=n,a.b=r,a.alpha=i,a.isNone=o,a}Ki(e,t);var n=e.prototype;return n.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},n.buildCSSText=function(t,e,n){return n+"rgba("+this.r+","+this.g+","+this.b+","+this.alpha+")"},e}(vo),_o={number:function(t){return new Co(t)},percent:function(t){return new Co(t,"%")},px:function(t){return new Co(t,"px")},em:function(t){return new Co(t,"em")},rem:function(t){return new Co(t,"rem")},deg:function(t){return new Co(t,"deg")},grad:function(t){return new Co(t,"grad")},rad:function(t){return new Co(t,"rad")},turn:function(t){return new Co(t,"turn")},s:function(t){return new Co(t,"s")},ms:function(t){return new Co(t,"ms")},registerProperty:function(t){var e=t.name,n=t.inherits,r=t.interpolable,i=t.initialValue,o=t.syntax;fh.styleValueRegistry.registerMetadata({n:e,inh:n,int:r,d:i,syntax:o})},registerLayout:function(t,e){fh.layoutRegistry.registerLayout(t,e)}},Ro=new go("unset"),Io=new go("initial"),Do=new go("inherit"),Fo={"":Ro,unset:Ro,initial:Io,inherit:Do},jo=function(t){return Fo[t]||(Fo[t]=new go(t)),Fo[t]},Bo=new Lo(0,0,0,0,!0),Go=new Lo(0,0,0,0),Yo=mo((function(t,e,n,r){return new Lo(t,e,n,r)}),(function(t,e,n,r){return"rgba("+t+","+e+","+n+","+r+")"})),Wo=function(t,e){return void 0===e&&(e=Di.kNumber),new Co(t,e)},zo=new Co(50,"%"),Xo={},Vo=0;function Uo(t,e){if(t){var n="string"===typeof t?t:t.id||Vo++;Xo[n]&&Xo[n].destroy(),Xo[n]=e}}var Ho="undefined"!==typeof window&&"undefined"!==typeof window.document;function qo(t,e){var n=Number(t.parsedStyle.zIndex),r=Number(e.parsedStyle.zIndex);if(n===r){var i=t.parentNode;if(i){var o=i.childNodes||[];return o.indexOf(t)-o.indexOf(e)}}return n-r}function Ko(t){var e=t;do{var n,r=null===(n=e.parsedStyle)||void 0===n?void 0:n.clipPath;if(r)return e;e=e.parentElement}while(null!==e);return null}function Zo(t,e){if(Ho)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function $o(t){var e=Zo(t,"width");return"auto"===e?t.offsetWidth:parseFloat(e)}function Jo(t){var e=Zo(t,"height");return"auto"===e?t.offsetHeight:parseFloat(e)}var Qo="Method not implemented.",ta="Use document.documentElement instead.",ea="Cannot append a destroyed element.",na=1,ra={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};function ia(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function oa(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function aa(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function sa(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function ua(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function la(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function ca(t){return void 0===t?0:t>360||t<-360?t%360:t}function ha(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Array.isArray(t)&&3===t.length?tn(t):it(t)?nn(t,e,n):nn(t[0],t[1]||e,t[2]||n)}function fa(t){return t*(Math.PI/180)}function pa(t){return t*(180/Math.PI)}function da(t){return 360*t}function va(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n,s=r*r,u=i*i,l=o*o,c=a+s+u+l,h=n*o-r*i;return h>.499995*c?(t[0]=Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):h<-.499995*c?(t[0]=-Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):(t[0]=Math.asin(2*(n*i-o*r)),t[1]=Math.atan2(2*(n*o+r*i),1-2*(u+l)),t[2]=Math.atan2(2*(n*r+i*o),1-2*(s+u))),t}function ya(t,e){var n,r,i=.5*Math.PI,o=Vn(Qe(),e),a=o[0],s=o[1],u=o[2],l=Math.asin(-e[2]/a);return l<i?l>-i?(n=Math.atan2(e[6]/s,e[10]/u),r=Math.atan2(e[1]/a,e[0]/a)):(r=0,n=-Math.atan2(e[4]/s,e[5]/s)):(r=0,n=Math.atan2(e[4]/s,e[5]/s)),t[0]=n,t[1]=l,t[2]=r,t}function ga(t,e){return 16===e.length?ya(t,e):va(t,e)}function ma(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t);return mr(r*o,i*a,0,-r*a,i*o,0,e,n,1)}function xa(t,e,n,r,i,o,a){var s=2*o/(n-e),u=2*o/(r-i),l=(n+e)/(n-e),c=(r+i)/(r-i),h=-(a+o)/(a-o),f=-2*a*o/(a-o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=l,t[9]=c,t[10]=h,t[11]=-1,t[12]=0,t[13]=0,t[14]=f,t[15]=0,t}function ba(t){var e=t[0],n=t[1],r=t[3],i=t[4],o=Math.sqrt(e*e+n*n),a=Math.sqrt(r*r+i*i),s=e*i-n*r;s<0&&(e<i?o=-o:a=-a),o&&(e*=1/o,n*=1/o),a&&(r*=1/a,i*=1/a);var u=Math.atan2(n,e),l=pa(u);return[t[6],t[7],o,a,l]}var wa=xn(),ka=xn(),Ea=xr(),Ma=[Qe(),Qe(),Qe()],Sa=Qe();function Ta(t,e,n,r,i,o){if(!Pa(wa,t))return!1;if(wn(ka,wa),ka[3]=0,ka[7]=0,ka[11]=0,ka[15]=1,Math.abs(On(ka))<1e-8)return!1;var a=wa[3],s=wa[7],u=wa[11],l=wa[12],c=wa[13],h=wa[14],f=wa[15];if(0!==a||0!==s||0!==u){Ea[0]=a,Ea[1]=s,Ea[2]=u,Ea[3]=f;var p=Tn(ka,ka);if(!p)return!1;Sn(ka,ka),Er(i,Ea,ka)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=l,e[1]=c,e[2]=h,Oa(Ma,wa),n[0]=en(Ma[0]),cn(Ma[0],Ma[0]),r[0]=hn(Ma[0],Ma[1]),Ca(Ma[1],Ma[1],Ma[0],1,-r[0]),n[1]=en(Ma[1]),cn(Ma[1],Ma[1]),r[0]/=n[1],r[1]=hn(Ma[0],Ma[2]),Ca(Ma[2],Ma[2],Ma[0],1,-r[1]),r[2]=hn(Ma[1],Ma[2]),Ca(Ma[2],Ma[2],Ma[1],1,-r[2]),n[2]=en(Ma[2]),cn(Ma[2],Ma[2]),r[1]/=n[2],r[2]/=n[2],fn(Sa,Ma[1],Ma[2]),hn(Ma[0],Sa)<0)for(var d=0;d<3;d++)n[d]*=-1,Ma[d][0]*=-1,Ma[d][1]*=-1,Ma[d][2]*=-1;return o[0]=.5*Math.sqrt(Math.max(1+Ma[0][0]-Ma[1][1]-Ma[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-Ma[0][0]+Ma[1][1]-Ma[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-Ma[0][0]-Ma[1][1]+Ma[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+Ma[0][0]+Ma[1][1]+Ma[2][2],0)),Ma[2][1]>Ma[1][2]&&(o[0]=-o[0]),Ma[0][2]>Ma[2][0]&&(o[1]=-o[1]),Ma[1][0]>Ma[0][1]&&(o[2]=-o[2]),!0}function Pa(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}function Oa(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function Ca(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}var Na=xn();function Aa(e,n){if(e&&e.length){var r=0,i=0;n?(r=n.parsedStyle.defX||0,i=n.parsedStyle.defY||0,n.resetLocalTransform(),n.setLocalPosition(r,i)):n=new nc({}),e.forEach((function(e){var o=e.t,a=e.d;if("scale"===o){var s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1,1];n.scaleLocal(s[0],s[1],1)}else if("scalex"===o){var u=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];n.scaleLocal(u[0],1,1)}else if("scaley"===o){var l=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];n.scaleLocal(1,l[0],1)}else if("scalez"===o){var c=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];n.scaleLocal(1,1,c[0])}else if("scale3d"===o){var h=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1,1,1];n.scaleLocal(h[0],h[1],h[2])}else if("translate"===o){var f=a||[No,No];n.translateLocal(f[0].value,f[1].value,0)}else if("translatex"===o){var p=a||[No];n.translateLocal(p[0].value,0,0)}else if("translatey"===o){var d=a||[No];n.translateLocal(0,d[0].value,0)}else if("translatez"===o){var v=a||[No];n.translateLocal(0,0,v[0].value)}else if("translate3d"===o){var y=a||[No,No,No];n.translateLocal(y[0].value,y[1].value,y[2].value)}else if("rotate"===o){var g=a||[Ao];n.rotateLocal(0,0,vu(g[0]))}else if("rotatex"===o){var m=a||[Ao];n.rotateLocal(vu(m[0]),0,0)}else if("rotatey"===o){var x=a||[Ao];n.rotateLocal(0,vu(x[0]),0)}else if("rotatez"===o){var b=a||[Ao];n.rotateLocal(0,0,vu(b[0]))}else if("rotate3d"===o);else if("skew"===o){var w=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0,0];n.setLocalSkew(fa(w[0]),fa(w[1]))}else if("skewx"===o){var k=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0];n.setLocalSkew(fa(k[0]),n.getLocalSkew()[1])}else if("skewy"===o){var E=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0];n.setLocalSkew(n.getLocalSkew()[0],fa(E[0]))}else if("matrix"===o){var M=a.map((function(t){return t.value})),S=M[0],T=M[1],P=M[2],O=M[3],C=M[4],N=M[5];n.setLocalTransform(En(Na,S,T,0,0,P,O,0,0,0,0,1,0,C+r,N+i,0,1))}else"matrix3d"===o&&(En.apply(t,[Na].concat(a.map((function(t){return t.value})))),Na[12]+=r,Na[13]+=i,n.setLocalTransform(Na))}))}return n.getLocalTransform()}function La(t){var e=t.type,n=t.value;return"hex"===e?"#"+n:"literal"===e?n:"rgb"===e?"rgb("+n.join(",")+")":"rgba("+n.join(",")+")"}var _a,Ra=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(t){throw new Error(e+": "+t)}function r(){var t=i();return e.length>0&&n("Invalid input not EOF"),t}function i(){return x(o)}function o(){return a("linear-gradient",t.linearGradient,u)||a("repeating-linear-gradient",t.repeatingLinearGradient,u)||a("radial-gradient",t.radialGradient,h)||a("repeating-radial-gradient",t.repeatingRadialGradient,h)||a("conic-gradient",t.conicGradient,h)}function a(e,r,i){return s(r,(function(r){var o=i();return o&&(A(t.comma)||n("Missing comma before color stops")),{type:e,orientation:o,colorStops:x(b)}}))}function s(e,r){var i=A(e);if(i){A(t.startCall)||n("Missing (");var o=r(i);return A(t.endCall)||n("Missing )"),o}}function u(){return l()||c()}function l(){return N("directional",t.sideOrCorner,1)}function c(){return N("angular",t.angleValue,1)}function h(){var n,r,i=f();return i&&(n=[],n.push(i),r=e,A(t.comma)&&(i=f(),i?n.push(i):e=r)),n}function f(){var t=p()||d();if(t)t.at=y();else{var e=v();if(e){t=e;var n=y();n&&(t.at=n)}else{var r=g();r&&(t={type:"default-radial",at:r})}}return t}function p(){var t=N("shape",/^(circle)/i,0);return t&&(t.style=C()||v()),t}function d(){var t=N("shape",/^(ellipse)/i,0);return t&&(t.style=P()||v()),t}function v(){return N("extent-keyword",t.extentKeywords,1)}function y(){if(N("position",/^at/,0)){var t=g();return t||n("Missing positioning value"),t}}function g(){var t=m();if(t.x||t.y)return{type:"position",value:t}}function m(){return{x:P(),y:P()}}function x(e){var r=e(),i=[];if(r){i.push(r);while(A(t.comma))r=e(),r?i.push(r):n("One extra comma")}return i}function b(){var t=w();return t||n("Expected color definition"),t.length=P(),t}function w(){return E()||S()||M()||k()}function k(){return N("literal",t.literalColor,0)}function E(){return N("hex",t.hexColor,1)}function M(){return s(t.rgbColor,(function(){return{type:"rgb",value:x(T)}}))}function S(){return s(t.rgbaColor,(function(){return{type:"rgba",value:x(T)}}))}function T(){return A(t.number)[1]}function P(){return N("%",t.percentageValue,1)||O()||C()}function O(){return N("position-keyword",t.positionKeywords,1)}function C(){return N("px",t.pixelValue,1)||N("em",t.emValue,1)}function N(t,e,n){var r=A(e);if(r)return{type:t,value:r[n]}}function A(t){var n=/^[\n\r\t\s]+/.exec(e);n&&L(n[0].length);var r=t.exec(e);return r&&L(r[0].length),r}function L(t){e=e.substring(t)}return function(t){return e=t,r()}}();function Ia(t,e,n){var r=fa(n.value),i=0,o=0,a=i+t/2,s=o+e/2,u=Math.abs(t*Math.cos(r))+Math.abs(e*Math.sin(r)),l=a-Math.cos(r)*u/2,c=s-Math.sin(r)*u/2,h=a+Math.cos(r)*u/2,f=s+Math.sin(r)*u/2;return{x1:l,y1:c,x2:h,y2:f}}function Da(t,e,n,r,i){var o=n.value,a=r.value;n.unit===Di.kPercentage&&(o=n.value/100*t),r.unit===Di.kPercentage&&(a=r.value/100*e);var s=Math.max(ot([0,0],[o,a]),ot([0,e],[o,a]),ot([t,e],[o,a]),ot([t,0],[o,a]));return i&&(i instanceof Co?s=i.value:i instanceof go&&("closest-side"===i.value?s=Math.min(o,t-o,a,e-a):"farthest-side"===i.value?s=Math.max(o,t-o,a,e-a):"closest-corner"===i.value&&(s=Math.min(ot([0,0],[o,a]),ot([0,e],[o,a]),ot([t,e],[o,a]),ot([t,0],[o,a]))))),{x:o,y:a,r:s}}function Fa(t){return 0===t.parsedStyle.path.totalLength&&(t.parsedStyle.path.totalLength=Ft(t.parsedStyle.path.absolutePath)),t.parsedStyle.path.totalLength}function ja(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],o=i[0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}function Ba(t){for(var e=[],n=[],r=[],i=0;i<t.length;i++){var o=t[i],a=o[0];"M"===a?(r.length&&(n.push(r),r=[]),r.push([o[1],o[2]])):"Z"===a?r.length&&(e.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}}function Ga(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ya(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=t[o],s=a.currentPoint,u=a.params,l=a.prePoint,c=void 0;switch(a.command){case"Q":c=ci.box(l[0],l[1],u[1],u[2],u[3],u[4]);break;case"C":c=yi.box(l[0],l[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var h=a.arcParams;c=Oi.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}c&&(a.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===a.command||"M"===a.command)&&a.prePoint&&a.nextPoint&&i.push(a)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var f=jt(n),p=jt(r),d=Bt(n),v=Bt(r);if(0===i.length)return{x:f,y:p,width:d-f,height:v-p};for(var y=0;y<i.length;y++){var g=i[y],m=g.currentPoint,x=void 0;m[0]===f?(x=Wa(g,e),f-=x.xExtra):m[0]===d&&(x=Wa(g,e),d+=x.xExtra),m[1]===p?(x=Wa(g,e),p-=x.yExtra):m[1]===v&&(x=Wa(g,e),v+=x.yExtra)}return{x:f,y:p,width:d-f,height:v-p}}function Wa(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||Yt(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c;var h={xExtra:Math.cos(u/2-l)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(c-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0};return h}function za(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}(function(t){t["GROUP"]="g",t["CIRCLE"]="circle",t["ELLIPSE"]="ellipse",t["IMAGE"]="image",t["RECT"]="rect",t["LINE"]="line",t["POLYLINE"]="polyline",t["POLYGON"]="polygon",t["TEXT"]="text",t["PATH"]="path",t["HTML"]="html",t["MESH"]="mesh"})(_a||(_a={}));var Xa=function(t,e){var n=t.x*e.x+t.y*e.y,r=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),i=t.x*e.y-t.y*e.x<0?-1:1,o=i*Math.acos(n/r);return o},Va=function(t,e,n,r,i,o,a,s){e=Math.abs(e),n=Math.abs(n),r=zt(r,360);var u=fa(r);if(t.x===a.x&&t.y===a.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(0===e||0===n)return{x:0,y:0,ellipticalArcAngle:0};var l=(t.x-a.x)/2,c=(t.y-a.y)/2,h={x:Math.cos(u)*l+Math.sin(u)*c,y:-Math.sin(u)*l+Math.cos(u)*c},f=Math.pow(h.x,2)/Math.pow(e,2)+Math.pow(h.y,2)/Math.pow(n,2);f>1&&(e=Math.sqrt(f)*e,n=Math.sqrt(f)*n);var p=Math.pow(e,2)*Math.pow(n,2)-Math.pow(e,2)*Math.pow(h.y,2)-Math.pow(n,2)*Math.pow(h.x,2),d=Math.pow(e,2)*Math.pow(h.y,2)+Math.pow(n,2)*Math.pow(h.x,2),v=p/d;v=v<0?0:v;var y=(i!==o?1:-1)*Math.sqrt(v),g={x:y*(e*h.y/n),y:y*(-n*h.x/e)},m={x:Math.cos(u)*g.x-Math.sin(u)*g.y+(t.x+a.x)/2,y:Math.sin(u)*g.x+Math.cos(u)*g.y+(t.y+a.y)/2},x={x:(h.x-g.x)/e,y:(h.y-g.y)/n},b=Xa({x:1,y:0},x),w={x:(-h.x-g.x)/e,y:(-h.y-g.y)/n},k=Xa(x,w);!o&&k>0?k-=2*Math.PI:o&&k<0&&(k+=2*Math.PI),k%=2*Math.PI;var E=b+k*s,M=e*Math.cos(E),S=n*Math.sin(E),T={x:Math.cos(u)*M-Math.sin(u)*S+m.x,y:Math.sin(u)*M+Math.cos(u)*S+m.y,ellipticalArcStartAngle:b,ellipticalArcEndAngle:b+k,ellipticalArcAngle:E,ellipticalArcCenter:m,resultantRx:e,resultantRy:n};return T};function Ua(t){for(var e=[],n=null,r=null,i=null,o=0,a=t.length,s=0;s<a;s++){var u=t[s];r=t[s+1];var l=u[0],c={command:l,prePoint:n,params:u,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(l){case"M":i=[u[1],u[2]],o=s;break;case"A":var h=$a(n,u);c.arcParams=h;break}if("Z"===l)n=i,r=t[o+1];else{var f=u.length;n=[u[f-2],u[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),c.currentPoint=n,e[o]&&Ga(n,e[o].currentPoint)&&(e[o].prePoint=c.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=p;var d=c.prePoint;if(["L","H","V"].includes(l))c.startTangent=[d[0]-n[0],d[1]-n[1]],c.endTangent=[n[0]-d[0],n[1]-d[1]];else if("Q"===l){var v=[u[1],u[2]];c.startTangent=[d[0]-v[0],d[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===l){var y=e[s-1],g=za(y.currentPoint,d);"Q"===y.command?(c.command="Q",c.startTangent=[d[0]-g[0],d[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]):(c.command="TL",c.startTangent=[d[0]-n[0],d[1]-n[1]],c.endTangent=[n[0]-d[0],n[1]-d[1]])}else if("C"===l){var m=[u[1],u[2]],x=[u[3],u[4]];c.startTangent=[d[0]-m[0],d[1]-m[1]],c.endTangent=[n[0]-x[0],n[1]-x[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[m[0]-x[0],m[1]-x[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[x[0]-m[0],x[1]-m[1]])}else if("S"===l){var b=e[s-1],w=za(b.currentPoint,d),k=[u[1],u[2]];"C"===b.command?(c.command="C",c.startTangent=[d[0]-w[0],d[1]-w[1]],c.endTangent=[n[0]-k[0],n[1]-k[1]]):(c.command="SQ",c.startTangent=[d[0]-k[0],d[1]-k[1]],c.endTangent=[n[0]-k[0],n[1]-k[1]])}else if("A"===l){var E=Ha(c,0),M=E.x,S=E.y,T=Ha(c,1,!1),P=T.x,O=T.y;c.startTangent=[M,S],c.endTangent=[P,O]}e.push(c)}return e}function Ha(t,e,n){void 0===n&&(n=!0);var r=t.arcParams,i=r.rx,o=void 0===i?0:i,a=r.ry,s=void 0===a?0:a,u=r.xRotation,l=r.arcFlag,c=r.sweepFlag,h=Va({x:t.prePoint[0],y:t.prePoint[1]},o,s,u,!!l,!!c,{x:t.currentPoint[0],y:t.currentPoint[1]},e),f=Va({x:t.prePoint[0],y:t.prePoint[1]},o,s,u,!!l,!!c,{x:t.currentPoint[0],y:t.currentPoint[1]},n?e+.005:e-.005),p=f.x-h.x,d=f.y-h.y,v=Math.sqrt(p*p+d*d);return{x:-p/v,y:-d/v}}function qa(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ka(t,e){return qa(t)*qa(e)?(t[0]*e[0]+t[1]*e[1])/(qa(t)*qa(e)):1}function Za(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ka(t,e))}function $a(t,e){var n=e[1],r=e[2],i=zt(fa(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],u=t[1],l=e[6],c=e[7],h=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,f=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,p=h*h/(n*n)+f*f/(r*r);p>1&&(n*=Math.sqrt(p),r*=Math.sqrt(p));var d=n*n*(f*f)+r*r*(h*h),v=d?Math.sqrt((n*n*(r*r)-d)/d):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var y=r?v*n*f/r:0,g=n?v*-r*h/n:0,m=(s+l)/2+Math.cos(i)*y-Math.sin(i)*g,x=(u+c)/2+Math.sin(i)*y+Math.cos(i)*g,b=[(h-y)/n,(f-g)/r],w=[(-1*h-y)/n,(-1*f-g)/r],k=Za([1,0],b),E=Za(b,w);return Ka(b,w)<=-1&&(E=Math.PI),Ka(b,w)>=1&&(E=0),0===a&&E>0&&(E-=2*Math.PI),1===a&&E<0&&(E+=2*Math.PI),{cx:m,cy:x,rx:Ga(t,[l,c])?0:n,ry:Ga(t,[l,c])?0:r,startAngle:k,endAngle:k+E,xRotation:i,arcFlag:o,sweepFlag:a}}function Ja(t,e,n){var r=e.parsedStyle,i=r.defX,o=void 0===i?0:i,a=r.defY,s=void 0===a?0:a;return t.reduce((function(t,e){var r="";if("M"===e[0]||"L"===e[0]){var i=nn(e[1]-o,e[2]-s,0);n&&dn(i,i,n),r=""+e[0]+i[0]+","+i[1]}else if("Z"===e[0])r=e[0];else if("C"===e[0]){var a=nn(e[1]-o,e[2]-s,0),u=nn(e[3]-o,e[4]-s,0),l=nn(e[5]-o,e[6]-s,0);n&&(dn(a,a,n),dn(u,u,n),dn(l,l,n)),r=""+e[0]+a[0]+","+a[1]+","+u[0]+","+u[1]+","+l[0]+","+l[1]}else if("A"===e[0]){var c=nn(e[6]-o,e[7]-s,0);n&&dn(c,c,n),r=""+e[0]+e[1]+","+e[2]+","+e[3]+","+e[4]+","+e[5]+","+c[0]+","+c[1]}else if("Q"===e[0]){var h=nn(e[1]-o,e[2]-s,0),f=nn(e[3]-o,e[4]-s,0);n&&(dn(h,h,n),dn(f,f,n)),r=""+e[0]+e[1]+","+e[2]+","+e[3]+","+e[4]+"}"}return t+r}),"")}function Qa(t,e,n,r){return[["M",t,e],["L",n,r]]}function ts(t,e,n,r){var i=(-1+Math.sqrt(2))/3*4,o=t*i,a=e*i,s=n-t,u=n+t,l=r-e,c=r+e;return[["M",s,r],["C",s,r-a,n-o,l,n,l],["C",n+o,l,u,r-a,u,r],["C",u,r+a,n+o,c,n,c],["C",n-o,c,s,r+a,s,r],["Z"]]}function es(t,e){var n=t.map((function(t,e){return[0===e?"M":"L",t[0],t[1]]}));return e&&n.push(["Z"]),n}function ns(t,e,n,r,i){if(i){var o=i[0],a=i[1],s=i[2],u=i[3],l=t>0?1:-1,c=e>0?1:-1,h=l+c!==0?1:0;return[["M",l*o+n,r],["L",t-l*a+n,r],a?["A",a,a,0,0,h,t+n,c*a+r]:null,["L",t+n,e-c*s+r],s?["A",s,s,0,0,h,t+n-l*s,e+r]:null,["L",n+l*u,e+r],u?["A",u,u,0,0,h,n,e+r-c*u]:null,["L",n,c*o+r],o?["A",o,o,0,0,h,l*o+n,r]:null,["Z"]].filter((function(t){return t}))}return[["M",n,r],["L",n+t,r],["L",n+t,r+e],["L",n,r+e],["Z"]]}function rs(t,e){void 0===e&&(e=t.getLocalTransform());var n=[];switch(t.nodeName){case _a.LINE:var r=t.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2;n=Qa(i,o,a,s);break;case _a.CIRCLE:var u=t.parsedStyle,l=u.r,c=u.cx,h=u.cy;n=ts(l,l,c,h);break;case _a.ELLIPSE:var f=t.parsedStyle,p=f.rx,d=f.ry,v=f.cx,y=f.cy;n=ts(p,d,v,y);break;case _a.POLYLINE:case _a.POLYGON:var g=t.parsedStyle.points;n=es(g.points,t.nodeName===_a.POLYGON);break;case _a.RECT:var m=t.parsedStyle,x=m.width,b=m.height,w=m.x,k=m.y,E=m.radius,M=E&&E.some((function(t){return 0!==t}));n=ns(x,b,w,k,M&&E.map((function(t){return Vt(t,0,Math.min(Math.abs(x)/2,Math.abs(b)/2))})));break;case _a.PATH:var S=t.parsedStyle.path.absolutePath;n=[].concat(S);break}if(n.length)return Ja(n,t,e)}function is(t,e,n){var r=!1,i=!1,o=!!e&&!e.isNone,a=!!n&&!n.isNone;return"visiblepainted"===t||"painted"===t||"auto"===t?(r=o,i=a):"visiblefill"===t||"fill"===t?r=!0:"visiblestroke"===t||"stroke"===t?i=!0:"visible"!==t&&"all"!==t||(r=!0,i=!0),[r,i]}var os=function(){return this.call=this._createCall("sync"),this.call.apply(this,arguments)},as=function(){return this.callAsync=this._createCall("async"),this.callAsync.apply(this,arguments)},ss=function(){return this.promise=this._createCall("promise"),this.promise.apply(this,arguments)},us=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=void 0),this.name=void 0,this.taps=void 0,this.promise=void 0,this._promise=void 0,this._args=t,this.name=e,this.taps=[],this.interceptors=[],this._call=os,this.call=os,this._callAsync=as,this.callAsync=as,this._promise=ss,this.promise=ss,this._x=void 0}var e=t.prototype;return e.compile=function(t){throw new Error("Abstract: should be overridden")},e._createCall=function(t){return this.compile({taps:this.taps,interceptors:this.interceptors,args:this._args,type:t})},e._tap=function(t,e,n){if("string"===typeof e)e={name:e.trim()};else if("object"!==typeof e||null===e)throw new Error("Invalid tap options");if("string"!==typeof e.name||""===e.name)throw new Error("Missing name for tap");e=Object.assign({type:t,fn:n},e),e=this._runRegisterInterceptors(e),this._insert(e)},e.tap=function(t,e){this._tap("sync",t,e)},e.tapAsync=function(t,e){this._tap("async",t,e)},e.tapPromise=function(t,e){this._tap("promise",t,e)},e._runRegisterInterceptors=function(t){for(var e,n=eo(this.interceptors);!(e=n()).done;){var r=e.value;if(r.register){var i=r.register(t);void 0!==i&&(t=i)}}return t},e.withOptions=function(t){var e=this,n=function(e){return Object.assign({},t,"string"===typeof e?{name:e}:e)};return{name:this.name,tap:function(t,r){return e.tap(n(t),r)},tapAsync:function(t,r){return e.tapAsync(n(t),r)},tapPromise:function(t,r){return e.tapPromise(n(t),r)},isUsed:function(){return e.isUsed()},withOptions:function(t){return e.withOptions(n(t))}}},e.isUsed=function(){return this.taps.length>0||this.interceptors.length>0},e._resetCompilation=function(){this.call=this._call,this.callAsync=this._callAsync,this.promise=this._promise},e._insert=function(t){var e;this._resetCompilation(),"string"===typeof t.before?e=new Set([t.before]):Array.isArray(t.before)&&(e=new Set(t.before));var n=0;"number"===typeof t.stage&&(n=t.stage);var r=this.taps.length;while(r>0){r--;var i=this.taps[r];this.taps[r+1]=i;var o=i.stage||0;if(e){if(e.has(i.name)){e["delete"](i.name);continue}if(e.size>0)continue}if(!(o>n)){r++;break}}this.taps[r]=t},t}(),ls=function(){function t(t){this.config=t,this.options=void 0,this._args=void 0}var e=t.prototype;return e.create=function(t){var e;switch(this.init(t),this.options.type){case"sync":e=new Function(this.args(),'"use strict";\n'+this.header()+this.contentWithInterceptors({onError:function(t){return"throw "+t+";\n"},onResult:function(t){return"return "+t+";\n"},resultReturns:!0,onDone:function(){return""},rethrowIfPossible:!0}));break;case"async":e=new Function(this.args({after:"_callback"}),'"use strict";\n'+this.header()+this.contentWithInterceptors({onError:function(t){return"_callback("+t+");\n"},onResult:function(t){return"_callback(null, "+t+");\n"},onDone:function(){return"_callback();\n"}}));break;case"promise":var n=!1,r=this.contentWithInterceptors({onError:function(t){return n=!0,"_error("+t+");\n"},onResult:function(t){return"_resolve("+t+");\n"},onDone:function(){return"_resolve();\n"}}),i="";i+='"use strict";\n',i+=this.header(),i+="return new Promise((function(_resolve, _reject) {\n",n&&(i+="var _sync = true;\n",i+="function _error(_err) {\n",i+="if(_sync)\n",i+="_resolve(Promise.resolve().then((function() { throw _err; })));\n",i+="else\n",i+="_reject(_err);\n",i+="};\n"),i+=r,n&&(i+="_sync = false;\n"),i+="}));\n",e=new Function(this.args(),i);break}return this.deinit(),e},e.setup=function(t,e){t._x=e.taps.map((function(t){return t.fn}))},e.init=function(t){this.options=t,this._args=t.args.slice()},e.deinit=function(){this.options=void 0,this._args=void 0},e.contentWithInterceptors=function(t){var e=this;if(this.options.interceptors.length>0){for(var n=t.onError,r=t.onResult,i=t.onDone,o="",a=0;a<this.options.interceptors.length;a++){var s=this.options.interceptors[a];s.call&&(o+=this.getInterceptor(a)+".call("+this.args({before:s.context?"_context":void 0})+");\n")}return o+=this.content(Object.assign(t,{onError:n&&function(t){for(var r="",i=0;i<e.options.interceptors.length;i++){var o=e.options.interceptors[i];o.error&&(r+=e.getInterceptor(i)+".error("+t+");\n")}return r+=n(t),r},onResult:r&&function(t){for(var n="",i=0;i<e.options.interceptors.length;i++){var o=e.options.interceptors[i];o.result&&(n+=e.getInterceptor(i)+".result("+t+");\n")}return n+=r(t),n},onDone:i&&function(){for(var t="",n=0;n<e.options.interceptors.length;n++){var r=e.options.interceptors[n];r.done&&(t+=e.getInterceptor(n)+".done();\n")}return t+=i(),t}})),o}return this.content(t)},e.header=function(){var t="";return this.needContext()?t+="var _context = {};\n":t+="var _context;\n",t+="var _x = this._x;\n",this.options.interceptors.length>0&&(t+="var _taps = this.taps;\n",t+="var _interceptors = this.interceptors;\n"),t},e.needContext=function(){for(var t,e=eo(this.options.taps);!(t=e()).done;){var n=t.value;if(n.context)return!0}return!1},e.callTap=function(t,e){for(var n=e.onError,r=e.onResult,i=e.onDone,o=e.rethrowIfPossible,a="",s=!1,u=0;u<this.options.interceptors.length;u++){var l=this.options.interceptors[u];l.tap&&(s||(a+="var _tap"+t+" = "+this.getTap(t)+";\n",s=!0),a+=this.getInterceptor(u)+".tap("+(l.context?"_context, ":"")+"_tap"+t+");\n")}a+="var _fn"+t+" = "+this.getTapFn(t)+";\n";var c=this.options.taps[t];switch(c.type){case"sync":o||(a+="var _hasError"+t+" = false;\n",a+="try {\n"),a+=r?"var _result"+t+" = _fn"+t+"("+this.args({before:c.context?"_context":void 0})+");\n":"_fn"+t+"("+this.args({before:c.context?"_context":void 0})+");\n",o||(a+="} catch(_err) {\n",a+="_hasError"+t+" = true;\n",a+=n("_err"),a+="}\n",a+="if(!_hasError"+t+") {\n"),r&&(a+=r("_result"+t)),i&&(a+=i()),o||(a+="}\n");break;case"async":var h="";h+=r?"(function(_err"+t+", _result"+t+") {\n":"(function(_err"+t+") {\n",h+="if(_err"+t+") {\n",h+=n("_err"+t),h+="} else {\n",r&&(h+=r("_result"+t)),i&&(h+=i()),h+="}\n",h+="})",a+="_fn"+t+"("+this.args({before:c.context?"_context":void 0,after:h})+");\n";break;case"promise":a+="var _hasResult"+t+" = false;\n",a+="var _promise"+t+" = _fn"+t+"("+this.args({before:c.context?"_context":void 0})+");\n",a+="if (!_promise"+t+" || !_promise"+t+".then)\n",a+="  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise"+t+" + ')');\n",a+="_promise"+t+".then((function(_result"+t+") {\n",a+="_hasResult"+t+" = true;\n",r&&(a+=r("_result"+t)),i&&(a+=i()),a+="}), function(_err"+t+") {\n",a+="if(_hasResult"+t+") throw _err"+t+";\n",a+=n("_err"+t),a+="});\n";break}return a},e.callTapsSeries=function(t){var e=this,n=t.onError,r=t.onResult,i=t.resultReturns,o=t.onDone,a=t.doneReturns,s=t.rethrowIfPossible;if(0===this.options.taps.length)return o();for(var u=this.options.taps.findIndex((function(t){return"sync"!==t.type})),l=i||a,c="",h=o,f=0,p=function(){var t=d,i=h!==o&&("sync"!==e.options.taps[t].type||f++>20);i&&(f=0,c+="function _next"+t+"() {\n",c+=h(),c+="}\n",h=function(){return(l?"return ":"")+"_next"+t+"();\n"});var a=h,p=function(t){return t?"":o()},v=e.callTap(t,{onError:function(e){return n(t,e,a,p)},onResult:r&&function(e){return r(t,e,a,p)},onDone:!r&&a,rethrowIfPossible:s&&(u<0||t<u)});h=function(){return v}},d=this.options.taps.length-1;d>=0;d--)p();return c+=h(),c},e.callTapsLooping=function(t){var e=t.onError,n=t.onDone,r=t.rethrowIfPossible;if(0===this.options.taps.length)return n();var i=this.options.taps.every((function(t){return"sync"===t.type})),o="";i||(o+="var _looper = (function() {\n",o+="var _loopAsync = false;\n"),o+="var _loop;\n",o+="do {\n",o+="_loop = false;\n";for(var a=0;a<this.options.interceptors.length;a++){var s=this.options.interceptors[a];s.loop&&(o+=this.getInterceptor(a)+".loop("+this.args({before:s.context?"_context":void 0})+");\n")}return o+=this.callTapsSeries({onError:e,onResult:function(t,e,n,r){var o="";return o+="if("+e+" !== undefined) {\n",o+="_loop = true;\n",i||(o+="if(_loopAsync) _looper();\n"),o+=r(!0),o+="} else {\n",o+=n(),o+="}\n",o},onDone:n&&function(){var t="";return t+="if(!_loop) {\n",t+=n(),t+="}\n",t},rethrowIfPossible:r&&i}),o+="} while(_loop);\n",i||(o+="_loopAsync = true;\n",o+="});\n",o+="_looper();\n"),o},e.callTapsParallel=function(t){var e=this,n=t.onError,r=t.onResult,i=t.onDone,o=t.rethrowIfPossible,a=t.onTap,s=void 0===a?function(t,e){return e()}:a;if(this.options.taps.length<=1)return this.callTapsSeries({onError:n,onResult:r,onDone:i,rethrowIfPossible:o});var u="";u+="do {\n",u+="var _counter = "+this.options.taps.length+";\n",i&&(u+="var _done = (function() {\n",u+=i(),u+="});\n");for(var l=function(t){var a=function(){return i?"if(--_counter === 0) _done();\n":"--_counter;"},l=function(t){return t||!i?"_counter = 0;\n":"_counter = 0;\n_done();\n"};u+="if(_counter <= 0) break;\n",u+=s(t,(function(){return e.callTap(t,{onError:function(e){var r="";return r+="if(_counter > 0) {\n",r+=n(t,e,a,l),r+="}\n",r},onResult:r&&function(e){var n="";return n+="if(_counter > 0) {\n",n+=r(t,e,a,l),n+="}\n",n},onDone:!r&&function(){return a()},rethrowIfPossible:o})}),a,l)},c=0;c<this.options.taps.length;c++)l(c);return u+="} while(false);\n",u},e.args=function(t){var e=void 0===t?{}:t,n=e.before,r=e.after,i=this._args;return n&&(i=[n].concat(i)),r&&(i=i.concat(r)),0===i.length?"":i.join(", ")},e.getTapFn=function(t){return"_x["+t+"]"},e.getTap=function(t){return"_taps["+t+"]"},e.getInterceptor=function(t){return"_interceptors["+t+"]"},t}(),cs=function(t){function e(){return t.apply(this,arguments)||this}Ki(e,t);var n=e.prototype;return n.content=function(t){var e=t.onError,n=t.onDone;return this.callTapsParallel({onError:function(t,n,r,i){return e(n)+i(!0)},onDone:n})},e}(ls),hs=new cs,fs=function(t){return hs.setup(this,t),hs.create(t)},ps=function(t){function e(e,n){var r;return void 0===e&&(e=[]),void 0===n&&(n=void 0),r=t.call(this,e,n)||this,r.compile=fs,r._call=void 0,r.call=void 0,r}return Ki(e,t),e}(us),ds=function(t){function e(){return t.apply(this,arguments)||this}Ki(e,t);var n=e.prototype;return n.content=function(t){var e=this,n=t.onError,r=t.onResult;t.onDone;return this.callTapsSeries({onError:function(t,e,r,i){return n(e)+i(!0)},onResult:function(t,n,r){var i="";return i+="if("+n+" !== undefined) {\n",i+=e._args[0]+" = "+n+";\n",i+="}\n",i+=r(),i},onDone:function(){return r(e._args[0])}})},e}(ls),vs=new ds,ys=function(t){return vs.setup(this,t),vs.create(t)},gs=function(t){function e(e,n){var r;return void 0===e&&(e=[]),void 0===n&&(n=void 0),r=t.call(this,e,n)||this,r.compile=ys,r._call=void 0,r.call=void 0,r}return Ki(e,t),e}(us),ms=function(t){function e(){return t.apply(this,arguments)||this}Ki(e,t);var n=e.prototype;return n.content=function(t){var e=t.onError,n=t.onDone,r=t.rethrowIfPossible;return this.callTapsSeries({onError:function(t,n){return e(n)},onDone:n,rethrowIfPossible:r})},e}(ls),xs=new ms,bs=function(){throw new Error("tapAsync is not supported on a SyncHook")},ws=function(){throw new Error("tapPromise is not supported on a SyncHook")},ks=function(t){return xs.setup(this,t),xs.create(t)},Es=function(t){function e(e,n){var r;return void 0===e&&(e=[]),void 0===n&&(n=void 0),r=t.call(this,e,n)||this,r.tapAsync=bs,r.tapPromise=ws,r.compile=ks,r}return Ki(e,t),e}(us),Ms=function(t){function e(){return t.apply(this,arguments)||this}Ki(e,t);var n=e.prototype;return n.content=function(t){var e=this,n=t.onError,r=t.onResult,i=t.resultReturns,o=t.rethrowIfPossible;return this.callTapsSeries({onError:function(t,e){return n(e)},onResult:function(t,n,r){var i="";return i+="if("+n+" !== undefined) {\n",i+=e._args[0]+" = "+n+";\n",i+="}\n",i+=r(),i},onDone:function(){return r(e._args[0])},doneReturns:i,rethrowIfPossible:o})},e}(ls),Ss=new Ms,Ts=function(){throw new Error("tapAsync is not supported on a SyncWaterfallHook")},Ps=function(){throw new Error("tapPromise is not supported on a SyncWaterfallHook")},Os=function(t){return Ss.setup(this,t),Ss.create(t)},Cs=function(t){function e(e,n){var r;return void 0===e&&(e=[]),void 0===n&&(n=void 0),r=t.call(this,e,n)||this,r.tapAsync=Ts,r.tapPromise=Ps,r.compile=Os,r}return Ki(e,t),e}(Es),Ns=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],As=/([\"\'])[^\'\"]+\1/;function Ls(t){for(var e=t.fontSize,n=t.fontFamily,r=t.fontStyle,i=t.fontVariant,o=t.fontWeight,a=it(e)&&e+"px"||"16px",s=n.split(","),u=s.length-1;u>=0;u--){var l=s[u].trim();!As.test(l)&&Ns.indexOf(l)<0&&(l='"'+l+'"'),s[u]=l}return r+" "+i+" "+o+" "+a+" "+s.join(",")}var _s=1,Rs=function(){return _s++},Is="object"===typeof self&&self.self==self?self:"object"===typeof i.g&&i.g.global==i.g?i.g:{},Ds=Date.now(),Fs=function(){return Is.performance&&"function"===typeof Is.performance.now?Is.performance.now():Date.now()-Ds},js={},Bs=Date.now(),Gs=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");var e=Date.now(),n=e-Bs,r=n>16?0:16-n,i=Rs();return js[i]=t,Object.keys(js).length>1||setTimeout((function(){Bs=e;var t=js;js={},Object.keys(t).forEach((function(e){return t[e](Fs())}))}),r),i},Ys=function(t){delete js[t]},Ws=["","webkit","moz","ms","o"],zs=function(t){return"string"!==typeof t?Gs:""===t?Is["requestAnimationFrame"]:Is[t+"RequestAnimationFrame"]},Xs=function(t){return"string"!==typeof t?Ys:""===t?Is["cancelAnimationFrame"]:Is[t+"CancelAnimationFrame"]||Is[t+"CancelRequestAnimationFrame"]},Vs=function(t,e){var n=0;while(void 0!==t[n]){if(e(t[n]))return t[n];n+=1}},Us=Vs(Ws,(function(t){return!!zs(t)})),Hs=zs(Us),qs=Xs(Us);Is.requestAnimationFrame=Hs,Is.cancelAnimationFrame=qs;var Ks=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Zs=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,$s=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Js=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Qs(t){var e,n,r=t.length;(t[r-1].length=null!==(e=t[r-1].length)&&void 0!==e?e:{type:"%",value:"100"},r>1)&&(t[0].length=null!==(n=t[0].length)&&void 0!==n?n:{type:"%",value:"0"});for(var i=0,o=Number(t[0].length.value),a=1;a<r;a++){var s,u=null===(s=t[a].length)||void 0===s?void 0:s.value;if(!Ht(u)&&!Ht(o)){for(var l=1;l<a-i;l++)t[i+l].length={type:"%",value:""+(o+(Number(u)-o)*l/(a-i))};i=a,o=Number(u)}}}var tu={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},eu=mo((function(t){var e;return e="angular"===t.type?Number(t.value):tu[t.value]||0,Wo(e,"deg")})),nu=mo((function(t){var e=50,n=50,r="%",i="%";if("position"===(null===t||void 0===t?void 0:t.type)){var o=t.value,a=o.x,s=o.y;"position-keyword"===(null===a||void 0===a?void 0:a.type)&&("left"===a.value?e=0:"center"===a.value?e=50:"right"===a.value?e=100:"top"===a.value?n=0:"bottom"===a.value&&(n=100)),"position-keyword"===(null===s||void 0===s?void 0:s.type)&&("left"===s.value?e=0:"center"===s.value?n=50:"right"===s.value?e=100:"top"===s.value?n=0:"bottom"===s.value&&(n=100)),"px"!==(null===a||void 0===a?void 0:a.type)&&"%"!==(null===a||void 0===a?void 0:a.type)&&"em"!==(null===a||void 0===a?void 0:a.type)||(r=null===a||void 0===a?void 0:a.type,e=Number(a.value)),"px"!==(null===s||void 0===s?void 0:s.type)&&"%"!==(null===s||void 0===s?void 0:s.type)&&"em"!==(null===s||void 0===s?void 0:s.type)||(i=null===s||void 0===s?void 0:s.type,n=Number(s.value))}return{cx:Wo(e,r),cy:Wo(n,i)}})),ru=mo((function(t){if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var e=Ra(t);return e.map((function(t){var e=t.type,n=t.orientation,r=t.colorStops;Qs(r);var i=r.map((function(t){return{offset:Wo(Number(t.length.value),"%"),color:La(t)}}));if("linear-gradient"===e)return new yo(ao.LinearGradient,{angle:n?eu(n):Ao,steps:i});if("radial-gradient"===e&&(n||(n=[{type:"shape",value:"circle"}]),"shape"===n[0].type&&"circle"===n[0].value)){var o,a=nu(n[0].at),s=a.cx,u=a.cy;if(n[0].style){var l=n[0].style,c=l.type,h=l.value;o="extent-keyword"===c?jo(h):Wo(h,c)}return new yo(ao.RadialGradient,{cx:s,cy:u,size:o,steps:i})}}))}var n=t[0];if("("===t[1]||"("===t[2])if("l"===n){var r=Ks.exec(t);if(r){var i,o=(null===(i=r[2].match(Js))||void 0===i?void 0:i.map((function(t){return t.split(":")})))||[];return[new yo(ao.LinearGradient,{angle:Wo(parseFloat(r[1]),"deg"),steps:o.map((function(t){var e=t[0],n=t[1];return{offset:Wo(100*Number(e),"%"),color:n}}))})]}}else if("r"===n){var a=iu(t);if(a){if(!qt(a))return[new yo(ao.RadialGradient,a)];t=a}}else if("p"===n)return ou(t)}));function iu(t){var e=Zs.exec(t);if(e){var n,r=(null===(n=e[4].match(Js))||void 0===n?void 0:n.map((function(t){return t.split(":")})))||[];return{cx:Wo(50,"%"),cy:Wo(50,"%"),steps:r.map((function(t){var e=t[0],n=t[1];return{offset:Wo(100*Number(e),"%"),color:n}}))}}return null}function ou(t){var e=$s.exec(t);if(e){var n=e[1],r=e[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function au(t){return t&&!!t.image}function su(t){return t&&!Ht(t.r)&&!Ht(t.g)&&!Ht(t.b)}var uu=mo((function(t){if(au(t))return qi({repetition:"repeat"},t);if(Ht(t)&&(t=""),"transparent"===t)return Go;"currentColor"===t&&(t="black");var e=ru(t);if(e)return e;var n=Fe(t),r=[0,0,0,0];return null!==n&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),Yo.apply(void 0,r)}));function lu(t,e){if(su(t)&&su(e))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var e=t.slice();if(e[3])for(var n=0;n<3;n++)e[n]=Math.round(Vt(e[n],0,255));return e[3]=Vt(e[3],0,1),"rgba("+e.join(",")+")"}]}function cu(t,e){if(Ht(e))return Wo(0,"px");if(e=(""+e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return Wo(Number(e),"px");if("deg".search(t)>=0)return Wo(Number(e),"deg")}var n=[];e=e.replace(t,(function(t){return n.push(t),"U"+t}));var r="U("+t.source+")";return n.map((function(t){return Wo(Number(e.replace(new RegExp("U"+t,"g"),"").replace(new RegExp(r,"g"),"*0")),t)}))[0]}var hu=mo((function(t){return cu(new RegExp("px","g"),t)})),fu=(mo((function(t){return cu(new RegExp("%","g"),t)})),function(t){return it(t)||isFinite(Number(t))?Wo(Number(t)||0,"px"):cu(new RegExp("px|%|em|rem","g"),t)}),pu=mo((function(t){return cu(new RegExp("deg|rad|grad|turn","g"),t)}));function du(t,e,n,r,i){void 0===i&&(i=0);var o="",a=t.value||0,s=e.value||0,u=Oo(t.unit),l=t.convertTo(u),c=e.convertTo(u);return l&&c?(a=l.value,s=c.value,o=fo(t.unit)):(Co.isLength(t.unit)||Co.isLength(e.unit))&&(a=mu(t,i,n),s=mu(e,i,n),o="px"),[a,s,function(t){return r&&(t=Math.max(t,0)),t+o}]}function vu(t){var e=0;return t.unit===Di.kDegrees?e=t.value:t.unit===Di.kRadians?e=pa(Number(t.value)):t.unit===Di.kTurns&&(e=da(Number(t.value))),e}function yu(t,e){var n;return Array.isArray(t)?n=t.map((function(t){return Number(t)})):qt(t)?n=t.split(" ").map((function(t){return Number(t)})):it(t)&&(n=[t]),2===e?1===n.length?[n[0],n[0]]:[n[0],n[1]]:1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]}function gu(t){return qt(t)?t.split(" ").map((function(t){return fu(t)})):t.map((function(t){return fu(t.toString())}))}function mu(t,e,n){if(0===t.value)return 0;if(t.unit===Di.kPixels)return Number(t.value);if(t.unit===Di.kPercentage&&n){var r=n.nodeName===_a.GROUP?n.getLocalBounds():n.geometry.contentBounds;return t.value/100*r.halfExtents[e]*2}return 0}var xu=function(t){return cu(/deg|rad|grad|turn|px|%/g,t)},bu=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function wu(t){if(void 0===t&&(t=""),t=t.toLowerCase().trim(),"none"===t)return[];var e,n=/\s*([\w-]+)\(([^)]*)\)/g,r=[],i=0;while(e=n.exec(t)){if(e.index!==i)return[];if(i=e.index+e[0].length,bu.indexOf(e[1])>-1&&r.push({name:e[1],params:e[2].split(" ").map((function(t){return xu(t)||uu(t)}))}),n.lastIndex===t.length)return r}return[]}function ku(t){return t.toString()}var Eu=mo((function(t){return"number"===typeof t?Wo(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?Wo(Number(t)):Wo(0)}));mo((function(t){return qt(t)?t.split(" ").map(Eu):t.map(Eu)}));function Mu(t,e){return[t,e,ku]}function Su(t,e){return function(n,r){return[n,r,function(n){return ku(Vt(n,t,e))}]}}function Tu(t,e){if(t.length===e.length)return[t,e,function(t){return t}]}var Pu=function(t){if(""===t||Array.isArray(t)&&0===t.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=Tt(t)}catch(Hd){e=Tt(""),console.error("[g]: Invalid SVG Path definition: "+t)}var n=ja(e),r=Ba(e),i=r.polygons,o=r.polylines,a=Ua(e),s=Ya(a,0),u=s.x,l=s.y,c=s.width,h=s.height;return{absolutePath:e,hasArc:n,segments:a,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(u)?u:0,y:Number.isFinite(l)?l:0,width:Number.isFinite(c)?c:0,height:Number.isFinite(h)?h:0}}},Ou=mo(Pu);function Cu(t,e){var n=qt(t)?Ou(t):Pu(t);return e&&(e.parsedStyle.defX=n.rect.x,e.parsedStyle.defY=n.rect.y),n}function Nu(t,e,n){var r=t.curve,i=e.curve;r&&0!==r.length||(r=ne(t.absolutePath,!1),t.curve=r),i&&0!==i.length||(i=ne(e.absolutePath,!1),e.curve=i);var o=[r,i];r.length!==i.length&&(o=oe(r,i));var a=ue(o[0])!==ue(o[1])?le(o[0]):ht(o[0]);return[a,he(o[1],a),function(t){return t}]}function Au(t,e){var n;n=qt(t)?t.split(" ").map((function(t){var e=t.split(","),n=e[0],r=e[1];return[Number(n),Number(r)]})):t;var r,i,o=[],a=0,s=Ri.length(n);n.forEach((function(t,e){n[e+1]&&(r=[0,0],r[0]=a/s,i=ei.length(t[0],t[1],n[e+1][0],n[e+1][1]),a+=i,r[1]=a/s,o.push(r))}));var u=Math.min.apply(Math,n.map((function(t){return t[0]}))),l=Math.min.apply(Math,n.map((function(t){return t[1]})));return e&&(e.parsedStyle.defX=u,e.parsedStyle.defY=l),{points:n,totalLength:s,segments:o}}function Lu(t,e){return[t.points,e.points,function(t){return t}]}var _u=null;function Ru(t){return function(e){var n=0;return t.map((function(t){return t===_u?e[n++]:t}))}}function Iu(t){return t}var Du={matrix:["NNNNNN",[_u,_u,0,0,_u,_u,0,0,0,0,1,0,_u,_u,0,1],Iu],matrix3d:["NNNNNNNNNNNNNNNN",Iu],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Ru([_u,_u,new Co(1)]),Iu],scalex:["N",Ru([_u,new Co(1),new Co(1)]),Ru([_u,new Co(1)])],scaley:["N",Ru([new Co(1),_u,new Co(1)]),Ru([new Co(1),_u])],scalez:["N",Ru([new Co(1),new Co(1),_u])],scale3d:["NNN",Iu],skew:["Aa",null,Iu],skewx:["A",null,Ru([_u,Ao])],skewy:["A",null,Ru([Ao,_u])],translate:["Tt",Ru([_u,_u,No]),Iu],translatex:["T",Ru([_u,No,No]),Ru([_u,No])],translatey:["T",Ru([No,_u,No]),Ru([No,_u])],translatez:["L",Ru([No,No,_u])],translate3d:["TTL",Iu]};function Fu(t){if(t=(t||"none").toLowerCase().trim(),"none"===t)return[];var e,n=/\s*(\w+)\(([^)]*)\)/g,r=[],i=0;while(e=n.exec(t)){if(e.index!==i)return[];i=e.index+e[0].length;var o=e[1],a=Du[o];if(!a)return[];var s=e[2].split(","),u=a[0];if(u.length<s.length)return[];for(var l=[],c=0;c<u.length;c++){var h=s[c],f=u[c],p=void 0;if(p=h?{A:function(t){return"0"===t.trim()?Ao:pu(t)},N:Eu,T:fu,L:hu}[f.toUpperCase()](h):{a:Ao,n:l[0],t:No}[f],void 0===p)return[];l.push(p)}if(r.push({t:o,d:l}),n.lastIndex===t.length)return r}return[]}function ju(t){var e,n,r,i;switch(t.t){case"rotatex":return i=fa(vu(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":return i=fa(vu(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":return i=fa(vu(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,n=t.d[1].value,r=t.d[2].value,i=fa(vu(t.d[3]));var o=e*e+n*n+r*r;if(0===o)e=1,n=0,r=0;else if(1!==o){var a=Math.sqrt(o);e/=a,n/=a,r/=a}var s=Math.sin(i/2),u=s*Math.cos(i/2),l=s*s;return[1-2*(n*n+r*r)*l,2*(e*n*l+r*u),2*(e*r*l-n*u),0,2*(e*n*l-r*u),1-2*(e*e+r*r)*l,2*(n*r*l+e*u),0,2*(e*r*l+n*u),2*(n*r*l-e*u),1-2*(e*e+n*n)*l,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var c=fa(vu(t.d[0])),h=fa(vu(t.d[1]));return[1,Math.tan(h),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return i=fa(vu(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return i=fa(vu(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=mu(t.d[0],0,null)||0,n=mu(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];case"translatex":return e=mu(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translatey":return n=mu(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translatez":return r=mu(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return e=mu(t.d[0],0,null)||0,n=mu(t.d[1],0,null)||0,r=mu(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,r,1];case"perspective":var f=mu(t.d[0],0,null)||0,p=f?-1/f:0;return[1,0,0,0,0,1,0,0,0,0,1,p,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map((function(t){return t.value}))}}function Bu(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function Gu(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(ju).reduce(Bu)}function Yu(t){var e=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],o=[0,0,0,1];return Ta(Gu(t),e,n,r,i,o),[[e,n,r,o,i]]}var Wu=function(){function t(t,e){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=e[r][o]*t[o][i];return n}function e(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}function n(n,r,i,o,a){for(var s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)s[u][3]=a[u];for(var l=0;l<3;l++)for(var c=0;c<3;c++)s[3][l]+=n[c]*s[c][l];var h=o[0],f=o[1],p=o[2],d=o[3],v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];v[0][0]=1-2*(f*f+p*p),v[0][1]=2*(h*f-p*d),v[0][2]=2*(h*p+f*d),v[1][0]=2*(h*f+p*d),v[1][1]=1-2*(h*h+p*p),v[1][2]=2*(f*p-h*d),v[2][0]=2*(h*p-f*d),v[2][1]=2*(f*p+h*d),v[2][2]=1-2*(h*h+f*f),s=t(s,v);var y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];i[2]&&(y[2][1]=i[2],s=t(s,y)),i[1]&&(y[2][1]=0,y[2][0]=i[0],s=t(s,y)),i[0]&&(y[2][0]=0,y[1][0]=i[0],s=t(s,y));for(var g=0;g<3;g++)for(var m=0;m<3;m++)s[g][m]*=r[g];return e(s)?[s[0][0],s[0][1],s[1][0],s[1][1],s[3][0],s[3][1]]:s[0].concat(s[1],s[2],s[3])}return n}();function zu(t){return t.toFixed(6).replace(".000000","")}function Xu(t,e){var n,r;return t.decompositionPair!==e&&(t.decompositionPair=e,n=Yu(t)),e.decompositionPair!==t&&(e.decompositionPair=t,r=Yu(e)),null===n[0]||null===r[0]?[[!1],[!0],function(n){return n?e[0].d:t[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(t){var e=Uu(n[0][3],r[0][3],t[5]),i=Wu(t[0],t[1],t[2],e,t[4]),o=i.map(zu).join(",");return o}])}function Vu(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function Uu(t,e,n){var r=Vu(t,e);r=Vt(r,-1,1);var i=[];if(1===r)i=t;else for(var o=Math.acos(r),a=1*Math.sin(n*o)/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(n*o)-r*a)+e[s]*a);return i}function Hu(t){return t.replace(/[xy]/,"")}function qu(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var Ku=function(t,e){return"perspective"===t&&"perspective"===e||("matrix"===t||"matrix3d"===t)&&("matrix"===e||"matrix3d"===e)};function Zu(t,e,n){var r=!1;if(!t.length||!e.length){t.length||(r=!0,t=e,e=[]);for(var i=function(){var n=t[o],r=n.t,i=n.d,a="scale"===r.substring(0,5)?1:0;e.push({t:r,d:i.map((function(t){return"number"===typeof t?Wo(a):Wo(a,t.unit)}))})},o=0;o<t.length;o++)i()}var a=[],s=[],u=[];if(t.length!==e.length){var l=Xu(t,e);a=[l[0]],s=[l[1]],u=[["matrix",[l[2]]]]}else for(var c=0;c<t.length;c++){var h=t[c].t,f=e[c].t,p=t[c].d,d=e[c].d,v=Du[h],y=Du[f],g=void 0;if(Ku(h,f)){var m=Xu([t[c]],[e[c]]);a.push(m[0]),s.push(m[1]),u.push(["matrix",[m[2]]])}else{if(h===f)g=h;else if(v[2]&&y[2]&&Hu(h)===Hu(f))g=Hu(h),p=v[2](p),d=y[2](d);else{if(!v[1]||!y[1]||qu(h)!==qu(f)){var x=Xu(t,e);a=[x[0]],s=[x[1]],u=[["matrix",[x[2]]]];break}g=qu(h),p=v[1](p),d=y[1](d)}for(var b=[],w=[],k=[],E=0;E<p.length;E++){var M=du(p[E],d[E],n,!1,E);b[E]=M[0],w[E]=M[1],k.push(M[2])}a.push(b),s.push(w),u.push([g,k])}}if(r){var S=a;a=s,s=S}return[a,s,function(t){return t.map((function(t,e){var n=t.map((function(t,n){return u[e][1][n](t)})).join(",");return"matrix"===u[e][0]&&16===n.split(",").length&&(u[e][0]="matrix3d"),"matrix3d"===u[e][0]&&6===n.split(",").length&&(u[e][0]="matrix"),u[e][0]+"("+n+")"})).join(" ")}]}var $u=mo((function(t){if(qt(t)){if("text-anchor"===t)return[Wo(0,"px"),Wo(0,"px")];var e=t.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[fu(Ju(e[0])),fu(Ju(e[1]))]}return[Wo(t[0]||0,"px"),Wo(t[1]||0,"px")]}));function Ju(t){return"center"===t?"50%":"left"===t||"top"===t?"0":"right"===t||"bottom"===t?"100%":t}var Qu=function(){function t(){this.parser=pu,this.parserWithCSSDisabled=null,this.mixer=Mu}var e=t.prototype;return e.calculator=function(t,e,n,r){return vu(n)},t}(),tl=function(){function t(){}var e=t.prototype;return e.calculator=function(t,e,n,r){return n instanceof go&&(n=null),fh.sceneGraphService.updateDisplayObjectDependency(t,e,n,r),"clipPath"===t&&r.forEach((function(t){0===t.childNodes.length&&fh.sceneGraphService.dirtifyToRoot(t)})),n},t}(),el=function(){function t(){this.parser=uu,this.parserWithCSSDisabled=uu,this.mixer=lu}var e=t.prototype;return e.calculator=function(t,e,n,r){return n instanceof go?"none"===n.value?Bo:Go:n},t}(),nl=function(){function t(){this.parser=wu}var e=t.prototype;return e.calculator=function(t,e,n){return n instanceof go?[]:n},t}();function rl(t){var e=t.parsedStyle.fontSize;return Ht(e)?null:e}var il,ol=function(){function t(){this.parser=fu,this.parserWithCSSDisabled=null,this.mixer=Mu}var e=t.prototype;return e.calculator=function(t,e,n,r,i){if(it(n))return n;if(!Co.isRelativeUnit(n.unit))return n.value;if(n.unit===Di.kPercentage)return 0;if(n.unit===Di.kEms){if(r.parentNode){var o=rl(r.parentNode);if(o)return o*=n.value,o;i.addUnresolveProperty(r,t)}else i.addUnresolveProperty(r,t);return 0}if(n.unit===Di.kRems){var a;if(null===r||void 0===r||null===(a=r.ownerDocument)||void 0===a?void 0:a.documentElement){var s=rl(r.ownerDocument.documentElement);if(s)return s*=n.value,s;i.addUnresolveProperty(r,t)}else i.addUnresolveProperty(r,t);return 0}},t}(),al=function(){function t(){this.mixer=Tu}var e=t.prototype;return e.parser=function(t){var e,n=gu(it(t)?[t]:t);return e=1===n.length?[n[0],n[0]]:[n[0],n[1]],e},e.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),sl=function(){function t(){this.mixer=Tu}var e=t.prototype;return e.parser=function(t){var e,n=gu(it(t)?[t]:t);return e=1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]],e},e.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),ul=function(t){function e(){return t.apply(this,arguments)||this}Ki(e,t);var n=e.prototype;return n.postProcessor=function(t,e){var n,r,i;switch(t.nodeName){case _a.CIRCLE:case _a.ELLIPSE:var o=t.parsedStyle,a=o.cx,s=o.cy;Ht(a)||(n=a),Ht(s)||(r=s);break;case _a.LINE:var u=t.parsedStyle,l=u.x1,c=u.x2,h=u.y1,f=u.y2,p=Math.min(l,c),d=Math.min(h,f);n=p,r=d,i=0;break;case _a.RECT:case _a.IMAGE:case _a.GROUP:case _a.HTML:case _a.TEXT:case _a.MESH:Ht(t.parsedStyle.x)||(n=t.parsedStyle.x),Ht(t.parsedStyle.y)||(r=t.parsedStyle.y);break}t.nodeName!==_a.PATH&&t.nodeName!==_a.POLYLINE&&t.nodeName!==_a.POLYGON&&(t.parsedStyle.defX=n||0,t.parsedStyle.defY=r||0);var v=!Ht(n)||!Ht(r)||!Ht(i);if(v&&-1===e.indexOf("transform")){var y=t.parsedStyle.transform;if(y&&y.length)Aa(y,t);else{var g=t.getLocalPosition(),m=g[0],x=g[1],b=g[2];t.setLocalPosition(Ht(n)?m:n,Ht(r)?x:r,Ht(i)?b:i)}}},e}(ol),ll=function(){function t(){}var e=t.prototype;return e.calculator=function(t,e,n,r){var i;n instanceof go&&(n=null);var o=null===(i=n)||void 0===i?void 0:i.cloneNode(!0);return o&&(o.style.isMarker=!0),o},t}(),cl=function(){function t(){this.mixer=Mu,this.parser=Eu,this.parserWithCSSDisabled=null}var e=t.prototype;return e.calculator=function(t,e,n){return n.value},t}(),hl=function(){function t(){this.parser=Eu,this.parserWithCSSDisabled=null,this.mixer=Su(0,1)}var e=t.prototype;return e.calculator=function(t,e,n){return n.value},e.postProcessor=function(t){var e=t.parsedStyle,n=e.offsetPath,r=e.offsetDistance;if(n){var i=n.nodeName;if(i===_a.LINE||i===_a.PATH||i===_a.POLYLINE){var o=n.getPoint(r);o&&(t.parsedStyle.defX=o.x,t.parsedStyle.defY=o.y,t.setLocalPosition(o.x,o.y))}}},t}(),fl=function(){function t(){this.parser=Eu,this.parserWithCSSDisabled=null,this.mixer=Su(0,1)}var e=t.prototype;return e.calculator=function(t,e,n){return n.value},t}(),pl=function(){function t(){this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}t.isEmpty=function(t){return!t||0===t.halfExtents[0]&&0===t.halfExtents[1]&&0===t.halfExtents[2]};var e=t.prototype;return e.update=function(t,e){ia(this.center,t),ia(this.halfExtents,e),oa(this.min,this.center,this.halfExtents),aa(this.max,this.center,this.halfExtents)},e.setMinMax=function(t,e){aa(this.center,e,t),sa(this.center,this.center,.5),oa(this.halfExtents,e,t),sa(this.halfExtents,this.halfExtents,.5),ia(this.min,t),ia(this.max,e)},e.getMin=function(){return this.min},e.getMax=function(){return this.max},e.add=function(e){if(!t.isEmpty(e))if(t.isEmpty(this))this.setMinMax(e.getMin(),e.getMax());else{var n=this.center,r=n[0],i=n[1],o=n[2],a=this.halfExtents,s=a[0],u=a[1],l=a[2],c=r-s,h=r+s,f=i-u,p=i+u,d=o-l,v=o+l,y=e.center,g=y[0],m=y[1],x=y[2],b=e.halfExtents,w=b[0],k=b[1],E=b[2],M=g-w,S=g+w,T=m-k,P=m+k,O=x-E,C=x+E;M<c&&(c=M),S>h&&(h=S),T<f&&(f=T),P>p&&(p=P),O<d&&(d=O),C>v&&(v=C),n[0]=.5*(c+h),n[1]=.5*(f+p),n[2]=.5*(d+v),a[0]=.5*(h-c),a[1]=.5*(p-f),a[2]=.5*(v-d),this.min[0]=c,this.min[1]=f,this.min[2]=d,this.max[0]=h,this.max[1]=p,this.max[2]=v}},e.setFromTransformedAABB=function(t,e){var n=this.center,r=this.halfExtents,i=t.center,o=t.halfExtents,a=e[0],s=e[4],u=e[8],l=e[1],c=e[5],h=e[9],f=e[2],p=e[6],d=e[10],v=Math.abs(a),y=Math.abs(s),g=Math.abs(u),m=Math.abs(l),x=Math.abs(c),b=Math.abs(h),w=Math.abs(f),k=Math.abs(p),E=Math.abs(d);n[0]=e[12]+a*i[0]+s*i[1]+u*i[2],n[1]=e[13]+l*i[0]+c*i[1]+h*i[2],n[2]=e[14]+f*i[0]+p*i[1]+d*i[2],r[0]=v*o[0]+y*o[1]+g*o[2],r[1]=m*o[0]+x*o[1]+b*o[2],r[2]=w*o[0]+k*o[1]+E*o[2],oa(this.min,n,r),aa(this.max,n,r)},e.intersects=function(t){var e=this.getMax(),n=this.getMin(),r=t.getMax(),i=t.getMin();return n[0]<=r[0]&&e[0]>=i[0]&&n[1]<=r[1]&&e[1]>=i[1]&&n[2]<=r[2]&&e[2]>=i[2]},e.intersection=function(e){if(!this.intersects(e))return null;var n=new t,r=ua([0,0,0],this.getMin(),e.getMin()),i=la([0,0,0],this.getMax(),e.getMax());return n.setMinMax(r,i),n},e.getNegativeFarPoint=function(t){return 273===t.pnVertexFlag?ia([0,0,0],this.min):272===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},e.getPositiveFarPoint=function(t){return 273===t.pnVertexFlag?ia([0,0,0],this.max):272===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},t}(),dl=function(){function t(t,e){this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=e||nn(0,1,0),this.updatePNVertexFlag()}var e=t.prototype;return e.updatePNVertexFlag=function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)},e.distanceToPoint=function(t){return hn(t,this.normal)-this.distance},e.normalize=function(){var t=1/mn(this.normal);ln(this.normal,this.normal,t),this.distance*=t},e.intersectsLine=function(t,e,n){var r=this.distanceToPoint(t),i=this.distanceToPoint(e),o=r/(r-i),a=o>=0&&o<=1;return a&&n&&pn(n,t,e,o),a},t}();(function(t){t[t["OUTSIDE"]=4294967295]="OUTSIDE",t[t["INSIDE"]=0]="INSIDE",t[t["INDETERMINATE"]=2147483647]="INDETERMINATE"})(il||(il={}));var vl=function(){function t(t){if(this.planes=[],t)this.planes=t;else for(var e=0;e<6;e++)this.planes.push(new dl)}var e=t.prototype;return e.extractFromVPMatrix=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],p=t[12],d=t[13],v=t[14],y=t[15];on(this.planes[0].normal,i-e,u-o,f-l),this.planes[0].distance=y-p,on(this.planes[1].normal,i+e,u+o,f+l),this.planes[1].distance=y+p,on(this.planes[2].normal,i+n,u+a,f+c),this.planes[2].distance=y+d,on(this.planes[3].normal,i-n,u-a,f-c),this.planes[3].distance=y-d,on(this.planes[4].normal,i-r,u-s,f-h),this.planes[4].distance=y-v,on(this.planes[5].normal,i+r,u+s,f+h),this.planes[5].distance=y+v,this.planes.forEach((function(t){t.normalize(),t.updatePNVertexFlag()}))},t}(),yl=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}var e=t.prototype;return e.clone=function(){return new t(this.x,this.y)},e.copyFrom=function(t){this.x=t.x,this.y=t.y},t}(),gl=function(){function t(t,e,n,r){this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.left=void 0,this.right=void 0,this.top=void 0,this.bottom=void 0,this.x=t,this.y=e,this.width=n,this.height=r,this.left=t,this.right=t+n,this.top=e,this.bottom=e+r}var e=t.prototype;return e.toJSON=function(){},t}(),ml=function(){function t(){this.parser=Cu,this.parserWithCSSDisabled=Cu,this.mixer=Nu}var e=t.prototype;return e.calculator=function(t,e,n){return n instanceof go&&"unset"===n.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new gl(0,0,0,0)}:n},e.postProcessor=function(t,e){if(t.nodeName===_a.PATH&&-1===e.indexOf("transform")){var n=t.parsedStyle,r=n.defX,i=void 0===r?0:r,o=n.defY,a=void 0===o?0:o;t.setLocalPosition(i,a)}},t}(),xl=function(){function t(){this.parser=Au,this.mixer=Lu}var e=t.prototype;return e.postProcessor=function(t,e){if((t.nodeName===_a.POLYGON||t.nodeName===_a.POLYLINE)&&-1===e.indexOf("transform")){var n=t.parsedStyle,r=n.defX,i=n.defY;t.setLocalPosition(r,i)}},t}(),bl=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.mixer=Su(0,1/0),e}return Ki(e,t),e}(ol),wl=function(){function t(){}var e=t.prototype;return e.calculator=function(t,e,n,r){return n instanceof go?"unset"===n.value?"":n.value:""+n},e.postProcessor=function(t){t.nodeValue=""+t.parsedStyle.text||""},t}(),kl=function(){function t(){}var e=t.prototype;return e.calculator=function(t,e,n,r){var i=r.getAttribute("text");if(i){var o=i;"capitalize"===n.value?o=i.charAt(0).toUpperCase()+i.slice(1):"lowercase"===n.value?o=i.toLowerCase():"uppercase"===n.value&&(o=i.toUpperCase()),r.parsedStyle.text=o}return n.value},t}(),El=function(){function t(){this.parser=Fu,this.parserWithCSSDisabled=Fu,this.mixer=Zu}var e=t.prototype;return e.calculator=function(t,e,n,r){return n instanceof go?[]:n},e.postProcessor=function(t){var e=t.parsedStyle.transform;Aa(e,t)},t}(),Ml=function(){this.parser=$u},Sl=function(){function t(){this.parser=Eu}var e=t.prototype;return e.calculator=function(t,e,n,r){return n.value},e.postProcessor=function(t){if(t.parentNode){var e=t.parentNode,n=e.renderable,r=e.sortable;n&&(n.dirty=!0),r&&(r.dirty=!0)}},t}(),Tl=function(){function t(){this.registry={},this.define(_a.CIRCLE,ic),this.define(_a.ELLIPSE,ac),this.define(_a.RECT,Ec),this.define(_a.IMAGE,fc),this.define(_a.LINE,dc),this.define(_a.GROUP,uc),this.define(_a.PATH,gc),this.define(_a.POLYGON,xc),this.define(_a.POLYLINE,wc),this.define(_a.TEXT,Sc),this.define(_a.HTML,cc)}var e=t.prototype;return e.define=function(t,e){this.registry[t]=e},e.get=function(t){return this.registry[t]},t}();function Pl(t){return!!t.type}var Ol=function(){function t(e){this.type=void 0,this.eventPhase=t.prototype.NONE,this.target=void 0,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.currentTarget=void 0,this.defaultPrevented=!1,this.timeStamp=void 0,this.nativeEvent=void 0,this.originalEvent=void 0,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.manager=void 0,this.detail=void 0,this.layer=new yl,this.page=new yl,this.canvas=new yl,this.viewport=new yl,this.path=void 0,this.view=void 0,this.which=void 0,this.returnValue=void 0,this.srcElement=void 0,this.composed=!1,this.isTrusted=void 0,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}var e=t.prototype;return e.composedPath=function(){return!this.manager||this.path&&this.path[0]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},e.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},e.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},e.stopPropagation=function(){this.propagationStopped=!0},e.initEvent=function(){},e.initUIEvent=function(){},e.clone=function(){throw new Error(Qo)},Hi(t,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"propagationPath",get:function(){return this.composedPath()}}]),t}(),Cl=function(t){function e(e,n){var r;return r=t.call(this,null)||this,r.type=e,r.detail=n,Object.assign(Ji(r),n),r}return Ki(e,t),e}(Ol),Nl=":",Al=function(){function t(){this.emitter=new(Wi())}var e=t.prototype;return e.on=function(t,e,n){return this.addEventListener(t,e,n),this},e.addEventListener=function(t,e,n){var r=pe(n)&&n||de(n)&&n.capture,i=de(n)&&n.once,o=ko(e)?void 0:e,a=!1,s="";if(t.indexOf(Nl)>-1){var u=t.split(Nl),l=u[0],c=u[1];t=c,s=l,a=!0}if(t=r?t+"capture":t,e=ko(e)?e:e.handleEvent,a){var h=e;e=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(null===(t=n[0].target)||void 0===t?void 0:t.name)===s&&h.apply(void 0,n)}}return i?this.emitter.once(t,e,o):this.emitter.on(t,e,o),this},e.off=function(t,e,n){return t?this.removeEventListener(t,e,n):this.removeAllEventListeners(),this},e.removeAllEventListeners=function(){this.emitter.removeAllListeners()},e.removeEventListener=function(t,e,n){var r,i=pe(n)&&n||de(n)&&n.capture,o=ko(e)?void 0:e;return t=i?t+"capture":t,e=ko(e)?e:null===(r=e)||void 0===r?void 0:r.handleEvent,this.emitter.off(t,e,o),this},e.emit=function(t,e){this.dispatchEvent(new Cl(t,e))},e.dispatchEvent=function(t,e){if(void 0===e&&(e=!1),!Pl(t))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");var n;if(this.document)n=this;else if(this.defaultView)n=this.defaultView;else{var r;n=null===(r=this.ownerDocument)||void 0===r?void 0:r.defaultView}if(n){var i;if(t.manager=n.getEventService()||null,!t.manager)return!1;t.defaultPrevented=!1,t.path=[],e||(t.target=this),null===(i=t.manager)||void 0===i||i.dispatchEvent(t,t.type,e)}return!t.defaultPrevented},t}(),Ll=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.parentNode=null,e}Ki(e,t),e.isNode=function(t){return!!t.childNodes};var n=e.prototype;return n.getRootNode=function(t){return void 0===t&&(t={}),this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this},n.hasChildNodes=function(){return this.childNodes.length>0},n.isDefaultNamespace=function(t){throw new Error(Qo)},n.lookupNamespaceURI=function(t){throw new Error(Qo)},n.lookupPrefix=function(t){throw new Error(Qo)},n.normalize=function(){throw new Error(Qo)},n.isEqualNode=function(t){return this===t},n.isSameNode=function(t){return this.isEqualNode(t)},n.compareDocumentPosition=function(t){if(t===this)return 0;if(!(t instanceof e))throw new TypeError("Node.compareDocumentPosition: Argument 1 does not implement interface Node.");var n=t,r=this,i=[n],o=[r];while(null!==(a=n.parentNode)&&void 0!==a?a:r.parentNode){var a;n=n.parentNode?(i.push(n.parentNode),n.parentNode):n,r=r.parentNode?(o.push(r.parentNode),r.parentNode):r}if(n!==r)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var s=i.length>o.length?i:o,u=s===i?o:i;if(s[s.length-u.length]===u[0])return s===i?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var l=s.length-u.length,c=u.length-1;c>=0;c--){var h=u[c],f=s[l+c];if(f!==h){var p=h.parentNode.childNodes;return p.indexOf(h)<p.indexOf(f)?u===i?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:s===i?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},n.contain=function(t){return this.contains(t)},n.contains=function(t){var e=t;while(e&&this!==e)e=e.parentNode;return!!e},n.getAncestor=function(t){var e=this;while(t>0&&e)e=e.parentNode,t--;return e},n.forEach=function(t,e){void 0===e&&(e=!1),t(this)||(e?this.childNodes.slice():this.childNodes).forEach((function(e){e.forEach(t)}))},Hi(e,[{key:"textContent",get:function(){var t="";this.nodeName===_a.TEXT&&(t+=this.style.text);for(var e,n=eo(this.childNodes);!(e=n()).done;){var r=e.value;r.nodeName===_a.TEXT?t+=r.nodeValue:t+=r.textContent}return t},set:function(t){var e=this;this.childNodes.slice().forEach((function(t){e.removeChild(t)})),this.nodeName===_a.TEXT&&(this.style.text=""+t)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}}]),e}(Al);Ll.DOCUMENT_POSITION_DISCONNECTED=1,Ll.DOCUMENT_POSITION_PRECEDING=2,Ll.DOCUMENT_POSITION_FOLLOWING=4,Ll.DOCUMENT_POSITION_CONTAINS=8,Ll.DOCUMENT_POSITION_CONTAINED_BY=16,Ll.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var _l,Rl,Il=function(t){function e(){var e;e=t.call(this)||this,e.defaultView=null,e.documentElement=void 0,e.timeline=void 0,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new fh.AnimationTimeline(Ji(e))}catch(Hd){}var n={};return Tc.forEach((function(t){var e=t.n,r=t.inh,i=t.d;r&&i&&(n[e]=ko(i)?i(_a.GROUP):i)})),e.documentElement=new uc({id:"g-root",style:n}),e.documentElement.ownerDocument=Ji(e),e.documentElement.parentNode=Ji(e),e.childNodes=[e.documentElement],e}Ki(e,t);var n=e.prototype;return n.createElement=function(t,e){if("svg"===t)return this.documentElement;var n=this.defaultView.customElements.get(t);n||(console.warn("Unsupported tagName: ",t),n="tspan"===t?Sc:uc);var r=new n(e);return r.ownerDocument=this,r},n.createElementNS=function(t,e,n){return this.createElement(e,n)},n.cloneNode=function(t){throw new Error(Qo)},n.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(Hd){}},n.elementsFromBBox=function(t,e,n,r){var i=this.defaultView.context.rBushRoot,o=i.search({minX:t,minY:e,maxX:n,maxY:r}),a=[];return o.forEach((function(t){var e=t.displayObject,n=e.parsedStyle.pointerEvents,r=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(n);(!r||r&&e.isVisible())&&!e.isCulled()&&e.isInteractive()&&a.push(e)})),a.sort((function(t,e){return e.sortable.renderOrder-t.sortable.renderOrder})),a},n.elementFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return null;var u=this.defaultView.viewport2Client({x:r,y:i}),l=u.x,c=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:l,clientY:c},picked:[]}),f=h.picked;return f&&f[0]||this.documentElement},n.elementFromPoint=function(){var t=Vi(zi().mark((function t(e,n){var r,i,o,a,s,u,l,c,h,f,p;return zi().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=this.defaultView.canvas2Viewport({x:e,y:n}),i=r.x,o=r.y,a=this.defaultView.getConfig(),s=a.width,u=a.height,!(i<0||o<0||i>s||o>u)){t.next=4;break}return t.abrupt("return",null);case 4:return l=this.defaultView.viewport2Client({x:i,y:o}),c=l.x,h=l.y,t.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:e,y:n,viewportX:i,viewportY:o,clientX:c,clientY:h},picked:[]});case 7:return f=t.sent,p=f.picked,t.abrupt("return",p&&p[0]||this.documentElement);case 10:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),n.elementsFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return[];var u=this.defaultView.viewport2Client({x:r,y:i}),l=u.x,c=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:l,clientY:c},picked:[]}),f=h.picked;return f[f.length-1]!==this.documentElement&&f.push(this.documentElement),f},n.elementsFromPoint=function(){var t=Vi(zi().mark((function t(e,n){var r,i,o,a,s,u,l,c,h,f,p;return zi().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=this.defaultView.canvas2Viewport({x:e,y:n}),i=r.x,o=r.y,a=this.defaultView.getConfig(),s=a.width,u=a.height,!(i<0||o<0||i>s||o>u)){t.next=4;break}return t.abrupt("return",[]);case 4:return l=this.defaultView.viewport2Client({x:i,y:o}),c=l.x,h=l.y,t.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:e,y:n,viewportX:i,viewportY:o,clientX:c,clientY:h},picked:[]});case 7:return f=t.sent,p=f.picked,p[p.length-1]!==this.documentElement&&p.push(this.documentElement),t.abrupt("return",p);case 11:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),n.appendChild=function(t,e){throw new Error(ta)},n.insertBefore=function(t,e){throw new Error(ta)},n.removeChild=function(t,e){throw new Error(ta)},n.replaceChild=function(t,e,n){throw new Error(ta)},n.append=function(){throw new Error(ta)},n.prepend=function(){throw new Error(ta)},n.getElementById=function(t){return this.documentElement.getElementById(t)},n.getElementsByName=function(t){return this.documentElement.getElementsByName(t)},n.getElementsByTagName=function(t){return this.documentElement.getElementsByTagName(t)},n.getElementsByClassName=function(t){return this.documentElement.getElementsByClassName(t)},n.querySelector=function(t){return this.documentElement.querySelector(t)},n.querySelectorAll=function(t){return this.documentElement.querySelectorAll(t)},n.find=function(t){return this.documentElement.find(t)},n.findAll=function(t){return this.documentElement.findAll(t)},Hi(e,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}}]),e}(Ll);(function(t){t[t["Standard"]=0]="Standard"})(_l||(_l={})),function(t){t["REPARENT"]="reparent",t["DESTROY"]="destroy",t["ATTR_MODIFIED"]="DOMAttrModified",t["INSERTED"]="DOMNodeInserted",t["REMOVED"]="removed",t["MOUNTED"]="DOMNodeInsertedIntoDocument",t["UNMOUNTED"]="DOMNodeRemovedFromDocument",t["BOUNDS_CHANGED"]="bounds-changed",t["RENDER_ORDER_CHANGED"]="render-order-changed",t["CULLED"]="culled"}(Rl||(Rl={}));var Dl=function(t){function e(e,n,r,i,o,a,s,u){var l;return l=t.call(this,null)||this,l.relatedNode=void 0,l.prevValue=void 0,l.newValue=void 0,l.attrName=void 0,l.attrChange=void 0,l.prevParsedValue=void 0,l.newParsedValue=void 0,l.relatedNode=n,l.prevValue=r,l.newValue=i,l.attrName=o,l.attrChange=a,l.prevParsedValue=s,l.newParsedValue=u,l.type=e,l}return Ki(e,t),e}(Ol);Dl.ADDITION=2,Dl.MODIFICATION=1,Dl.REMOVAL=3;var Fl=0;var jl=new Dl(Rl.INSERTED,null,"","","",0,"",""),Bl=new Dl(Rl.REMOVED,null,"","","",0,"",""),Gl=new Cl(Rl.DESTROY),Yl=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.entity=Fl++,e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1,proxyNodeName:void 0},e.cullable={strategy:_l.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.sortable={dirty:!1,sorted:void 0,lastSortedIndex:void 0,renderOrder:0},e.geometry={contentBounds:void 0,renderBounds:void 0},e.rBushNode={aabb:void 0},e.id=void 0,e.name=void 0,e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.destroyed=!1,e.style={},e.computedStyle=fh.enableCSSParsing?{anchor:Ro,opacity:Ro,fillOpacity:Ro,strokeOpacity:Ro,fill:Ro,stroke:Ro,transform:Ro,transformOrigin:Ro,visibility:Ro,pointerEvents:Ro,lineWidth:Ro,lineCap:Ro,lineJoin:Ro,increasedLineWidthForHitTesting:Ro,fontSize:Ro,fontFamily:Ro,fontStyle:Ro,fontWeight:Ro,fontVariant:Ro,textAlign:Ro,textBaseline:Ro,textTransform:Ro,zIndex:Ro,filter:Ro,shadowType:Ro}:null,e.parsedStyle={},e.attributes={},e}Ki(e,t),e.isElement=function(t){return!!t.getAttribute};var n=e.prototype;return n.cloneNode=function(t){throw new Error(Qo)},n.appendChild=function(t,e){var n;if(t.destroyed)throw new Error(ea);return fh.sceneGraphService.attach(t,this,e),(null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView)&&this.ownerDocument.defaultView.mountChildren(t),jl.relatedNode=this,t.dispatchEvent(jl),t},n.insertBefore=function(t,e){if(e){var n=this.childNodes.indexOf(e);this.appendChild(t,n-1)}else this.appendChild(t);return t},n.replaceChild=function(t,e){var n=this.childNodes.indexOf(e);return this.removeChild(e),this.appendChild(t,n),e},n.removeChild=function(t){var e;return Bl.relatedNode=this,t.dispatchEvent(Bl),(null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)&&t.ownerDocument.defaultView.unmountChildren(t),fh.sceneGraphService.detach(t),t},n.removeChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];this.removeChild(e)}},n.destroyChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];e.childNodes.length&&e.destroyChildren(),e.destroy()}},n.matches=function(t){return fh.sceneGraphService.matches(t,this)},n.getElementById=function(t){return fh.sceneGraphService.querySelector("#"+t,this)},n.getElementsByName=function(t){return fh.sceneGraphService.querySelectorAll('[name="'+t+'"]',this)},n.getElementsByClassName=function(t){return fh.sceneGraphService.querySelectorAll("."+t,this)},n.getElementsByTagName=function(t){return fh.sceneGraphService.querySelectorAll(t,this)},n.querySelector=function(t){return fh.sceneGraphService.querySelector(t,this)},n.querySelectorAll=function(t){return fh.sceneGraphService.querySelectorAll(t,this)},n.closest=function(t){var e=this;do{if(fh.sceneGraphService.matches(t,e))return e;e=e.parentElement}while(null!==e);return null},n.find=function(t){var e=this,n=null;return this.forEach((function(r){return!(r===e||!t(r))&&(n=r,!0)})),n},n.findAll=function(t){var e=this,n=[];return this.forEach((function(r){r!==e&&t(r)&&n.push(r)})),n},n.after=function(){var t=this;if(this.parentNode){for(var e=this.parentNode.childNodes.indexOf(this),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(n,r){var i;return null===(i=t.parentNode)||void 0===i?void 0:i.appendChild(n,e+r+1)}))}},n.before=function(){if(this.parentNode){for(var t=this.parentNode.childNodes.indexOf(this),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n.slice(1);this.parentNode.appendChild(i,t),i.after.apply(i,o)}},n.replaceWith=function(){this.after.apply(this,arguments),this.remove()},n.append=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){return t.appendChild(e)}))},n.prepend=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e,n){return t.appendChild(e,n)}))},n.replaceChildren=function(){while(this.childNodes.length&&this.firstChild)this.removeChild(this.firstChild);this.append.apply(this,arguments)},n.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},n.destroy=function(){this.dispatchEvent(Gl),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},n.getGeometryBounds=function(){return fh.sceneGraphService.getGeometryBounds(this)},n.getRenderBounds=function(){return fh.sceneGraphService.getBounds(this,!0)},n.getBounds=function(){return fh.sceneGraphService.getBounds(this)},n.getLocalBounds=function(){return fh.sceneGraphService.getLocalBounds(this)},n.getBoundingClientRect=function(){return fh.sceneGraphService.getBoundingClientRect(this)},n.getClientRects=function(){return[this.getBoundingClientRect()]},n.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},n.getAttributeNames=function(){return Object.keys(this.attributes)},n.getAttribute=function(t){if(Eo(t))return fh.enableCSSParsing?null:void 0;var e=this.attributes[t];if(void 0===e){var n=To(t);return e=this.attributes[n],fh.enableCSSParsing&&Ht(e)?null:e}return e},n.hasAttribute=function(t){return this.getAttributeNames().includes(t)},n.hasAttributes=function(){return!!this.getAttributeNames().length},n.removeAttribute=function(t){this.setAttribute(t,null),delete this.attributes[t]},n.setAttribute=function(t,e,n){this.attributes[t]=e},n.getAttributeNS=function(t,e){throw new Error(Qo)},n.getAttributeNode=function(t){throw new Error(Qo)},n.getAttributeNodeNS=function(t,e){throw new Error(Qo)},n.hasAttributeNS=function(t,e){throw new Error(Qo)},n.removeAttributeNS=function(t,e){throw new Error(Qo)},n.removeAttributeNode=function(t){throw new Error(Qo)},n.setAttributeNS=function(t,e,n){throw new Error(Qo)},n.setAttributeNode=function(t){throw new Error(Qo)},n.setAttributeNodeNS=function(t){throw new Error(Qo)},n.toggleAttribute=function(t,e){throw new Error(Qo)},Hi(e,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}},{key:"classList",get:function(){return this.className.split(" ").filter((function(t){return""!==t}))}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null}}]),e}(Ll),Wl=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.altKey=void 0,e.button=void 0,e.buttons=void 0,e.ctrlKey=void 0,e.metaKey=void 0,e.relatedTarget=void 0,e.shiftKey=void 0,e.client=new yl,e.movement=new yl,e.offset=new yl,e.global=new yl,e.screen=new yl,e}Ki(e,t);var n=e.prototype;return n.getModifierState=function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)},n.initMouseEvent=function(){throw new Error(Qo)},Hi(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}}]),e}(Ol),zl=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.pointerId=void 0,e.width=0,e.height=0,e.isPrimary=!1,e.pointerType=void 0,e.pressure=void 0,e.tangentialPressure=void 0,e.tiltX=void 0,e.tiltY=void 0,e.twist=void 0,e}Ki(e,t);var n=e.prototype;return n.getCoalescedEvents=function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]},n.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},n.clone=function(){return this.manager.clonePointerEvent(this)},e}(Wl),Xl=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.deltaMode=void 0,e.deltaX=void 0,e.deltaY=void 0,e.deltaZ=void 0,e.DOM_DELTA_LINE=0,e.DOM_DELTA_PAGE=1,e.DOM_DELTA_PIXEL=2,e}Ki(e,t);var n=e.prototype;return n.clone=function(){return this.manager.cloneWheelEvent(this)},e}(Wl);function Vl(t){return!!(null===t||void 0===t?void 0:t.nodeName)}var Ul,Hl,ql,Kl=new Dl(Rl.ATTR_MODIFIED,null,null,null,null,Dl.MODIFICATION,null,null),Zl={anchor:"",opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},$l={anchor:[0,0],fill:Bo,stroke:Bo,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},Jl=qi({},$l,{opacity:1,fillOpacity:1,strokeOpacity:1,visibility:"visible",pointerEvents:"auto",lineWidth:1,lineCap:"butt",lineJoin:"miter",increasedLineWidthForHitTesting:0,fillRule:"nonzero"}),Ql=["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"],tc=[].concat(Ql,["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"]),ec="data-",nc=function(t){function e(e){var n,r;r=t.call(this)||this,r.config=void 0,r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.dataset=void 0,r.getClip=function(){return this.style.clipPath||null},r.config=e,r.config.interactive=null!==(n=r.config.capture)&&void 0!==n?n:r.config.interactive,r.id=r.config.id||"",r.name=r.config.name||"",(r.config.className||r.config["class"])&&(r.className=r.config.className||r.config["class"]),r.nodeName=r.config.type||_a.GROUP,r.config.style=r.config.style||r.config.attrs||{},Object.assign(r.config.style,r.config.attrs),null!=r.config.visible&&(r.config.style.visibility=!1===r.config.visible?"hidden":"visible"),null!=r.config.interactive&&(r.config.style.pointerEvents=!1===r.config.interactive?"none":"auto"),Object.assign(r.parsedStyle,fh.enableCSSParsing?$l:Jl,r.config.initialParsedStyle),fh.enableCSSParsing&&Object.assign(r.attributes,Zl),r.initAttributes(r.config.style);var i=fh.globalThis.Proxy?fh.globalThis.Proxy:function(){};return r.dataset=new i({},{get:function(t,e){var n=""+ec+bo(e);return void 0!==t[n]?t[n]:r.getAttribute(n)},set:function(t,e,n){return r.setAttribute(""+ec+bo(e),n),!0}}),r.style=new i({setProperty:function(t,e){r.setAttribute(t,e)},getPropertyValue:function(t){return r.getAttribute(t)},removeProperty:function(t){r.removeAttribute(t)},item:function(){return""}},{get:function(t,e){return void 0!==t[e]?t[e]:r.getAttribute(e)},set:function(t,e,n){return r.setAttribute(e,n),!0}}),r}Ki(e,t);var n=e.prototype;return n.destroy=function(){t.prototype.destroy.call(this),this.getAnimations().forEach((function(t){t.cancel()}))},n.cloneNode=function(t,e){var n=qi({},this.attributes);for(var r in n){var i=n[r];Vl(i)&&"clipPath"!==r&&"offsetPath"!==r&&"textPath"!==r&&(n[r]=i.cloneNode(t)),e&&(n[r]=e(r,i))}var o=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:n});return o.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach((function(e){if(!e.style.isMarker){var n=e.cloneNode(t);o.appendChild(n)}})),o},n.initAttributes=function(t){void 0===t&&(t={});var e=this.renderable,n={forceUpdateGeometry:!0};fh.enableCSSParsing&&(n.usedAttributes=tc);var r={};for(var i in t){var o=To(i);r[o]=t[i]}fh.styleValueRegistry.processProperties(this,r,n),e.dirty=!0},n.setAttribute=function(e,n,r){void 0===r&&(r=!1);var i=To(e);ye(n)||(r||n!==this.attributes[i])&&(this.internalSetAttribute(i,n),t.prototype.setAttribute.call(this,i,n))},n.internalSetAttribute=function(t,e,n){var r;void 0===n&&(n={});var i=this.renderable,o=this.attributes[t],a=this.parsedStyle[t];fh.styleValueRegistry.processProperties(this,(r={},r[t]=e,r),n),i.dirty=!0;var s=this.parsedStyle[t];this.isConnected&&(Kl.relatedNode=this,Kl.prevValue=o,Kl.newValue=e,Kl.attrName=t,Kl.prevParsedValue=a,Kl.newParsedValue=s,this.isMutationObserved?this.dispatchEvent(Kl):(Kl.target=this,this.ownerDocument.defaultView.dispatchEvent(Kl,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(t,o,e,a,s)},n.getBBox=function(){var t=this.getBounds(),e=t.getMin(),n=e[0],r=e[1],i=t.getMax(),o=i[0],a=i[1];return new gl(n,r,o-n,a-r)},n.setOrigin=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),fh.sceneGraphService.setOrigin(this,ha(t,e,n)),this},n.getOrigin=function(){return fh.sceneGraphService.getOrigin(this)},n.setPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),fh.sceneGraphService.setPosition(this,ha(t,e,n)),this},n.setLocalPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),fh.sceneGraphService.setLocalPosition(this,ha(t,e,n)),this},n.translate=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),fh.sceneGraphService.translate(this,ha(t,e,n)),this},n.translateLocal=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),fh.sceneGraphService.translateLocal(this,ha(t,e,n)),this},n.getPosition=function(){return fh.sceneGraphService.getPosition(this)},n.getLocalPosition=function(){return fh.sceneGraphService.getLocalPosition(this)},n.scale=function(t,e,n){return this.scaleLocal(t,e,n)},n.scaleLocal=function(t,e,n){return"number"===typeof t&&(e=e||t,n=n||t,t=ha(t,e,n)),fh.sceneGraphService.scaleLocal(this,t),this},n.setLocalScale=function(t,e,n){return"number"===typeof t&&(e=e||t,n=n||t,t=ha(t,e,n)),fh.sceneGraphService.setLocalScale(this,t),this},n.getLocalScale=function(){return fh.sceneGraphService.getLocalScale(this)},n.getScale=function(){return fh.sceneGraphService.getScale(this)},n.getEulerAngles=function(){var t=ga(Qe(),fh.sceneGraphService.getWorldTransform(this)),e=t[2];return pa(e)},n.getLocalEulerAngles=function(){var t=ga(Qe(),fh.sceneGraphService.getLocalRotation(this)),e=t[2];return pa(e)},n.setEulerAngles=function(t){return fh.sceneGraphService.setEulerAngles(this,0,0,t),this},n.setLocalEulerAngles=function(t){return fh.sceneGraphService.setLocalEulerAngles(this,0,0,t),this},n.rotateLocal=function(t,e,n){return Ht(e)&&Ht(n)?fh.sceneGraphService.rotateLocal(this,0,0,t):fh.sceneGraphService.rotateLocal(this,t,e,n),this},n.rotate=function(t,e,n){return Ht(e)&&Ht(n)?fh.sceneGraphService.rotate(this,0,0,t):fh.sceneGraphService.rotate(this,t,e,n),this},n.setRotation=function(t,e,n,r){return fh.sceneGraphService.setRotation(this,t,e,n,r),this},n.setLocalRotation=function(t,e,n,r){return fh.sceneGraphService.setLocalRotation(this,t,e,n,r),this},n.setLocalSkew=function(t,e){return fh.sceneGraphService.setLocalSkew(this,t,e),this},n.getRotation=function(){return fh.sceneGraphService.getRotation(this)},n.getLocalRotation=function(){return fh.sceneGraphService.getLocalRotation(this)},n.getLocalSkew=function(){return fh.sceneGraphService.getLocalSkew(this)},n.getLocalTransform=function(){return fh.sceneGraphService.getLocalTransform(this)},n.getWorldTransform=function(){return fh.sceneGraphService.getWorldTransform(this)},n.setLocalTransform=function(t){return fh.sceneGraphService.setLocalTransform(this,t),this},n.resetLocalTransform=function(){fh.sceneGraphService.resetLocalTransform(this)},n.getAnimations=function(){return this.activeAnimations},n.animate=function(t,e){var n,r=null===(n=this.ownerDocument)||void 0===n?void 0:n.timeline;return r?r.play(this,t,e):null},n.isVisible=function(){var t;return"visible"===(null===(t=this.parsedStyle)||void 0===t?void 0:t.visibility)},n.isInteractive=function(){var t;return"none"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.pointerEvents)},n.isCulled=function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)},n.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,this.parentNode.children.map((function(t){return Number(t.style.zIndex)})))+1),this},n.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,this.parentNode.children.map((function(t){return Number(t.style.zIndex)})))-1),this},n.getConfig=function(){return this.config},n.attr=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1];return i?de(i)?(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),this):2===n.length?(this.setAttribute(i,o),this):this.attributes[i]:this.attributes},n.getMatrix=function(t){var e=t||this.getWorldTransform(),n=Xn(Qe(),e),r=n[0],i=n[1],o=Vn(Qe(),e),a=o[0],s=o[1],u=Un(Mr(),e),l=ga(Qe(),u),c=l[0],h=l[2];return ma(c||h,r,i,a,s)},n.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},n.setMatrix=function(t){var e=ba(t),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setEulerAngles(a).setPosition(n,r).setLocalScale(i,o)},n.setLocalMatrix=function(t){var e=ba(t),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setLocalEulerAngles(a).setLocalPosition(n,r).setLocalScale(i,o)},n.show=function(){fh.enableCSSParsing?this.style.visibility="visible":this.forEach((function(t){t.style.visibility="visible"}))},n.hide=function(){fh.enableCSSParsing?this.style.visibility="hidden":this.forEach((function(t){t.style.visibility="hidden"}))},n.getCount=function(){return this.childElementCount},n.getParent=function(){return this.parentElement},n.getChildren=function(){return this.children},n.getFirst=function(){return this.firstElementChild},n.getLast=function(){return this.lastElementChild},n.getChildByIndex=function(t){return this.children[t]||null},n.add=function(t,e){return this.appendChild(t,e)},n.setClip=function(t){this.style.clipPath=t},n.set=function(t,e){this.config[t]=e},n.get=function(t){return this.config[t]},n.moveTo=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},n.move=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},n.setZIndex=function(t){return this.style.zIndex=t,this},Hi(e,[{key:"interactive",get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"}}]),e}(Yl),rc=["style"],ic=function(t){function e(e){var n=void 0===e?{}:e,r=n.style,i=$i(n,rc);return t.call(this,qi({type:_a.CIRCLE,style:fh.enableCSSParsing?qi({cx:"",cy:"",r:""},r):qi({},r),initialParsedStyle:{anchor:[.5,.5],transformOrigin:fh.enableCSSParsing?null:[zo,zo]}},i))||this}return Ki(e,t),e}(nc),oc=["style"],ac=function(t){function e(e){var n=void 0===e?{}:e,r=n.style,i=$i(n,oc);return t.call(this,qi({type:_a.ELLIPSE,style:fh.enableCSSParsing?qi({cx:"",cy:"",rx:"",ry:""},r):qi({},r),initialParsedStyle:{anchor:[.5,.5],transformOrigin:fh.enableCSSParsing?null:[zo,zo]}},i))||this}return Ki(e,t),e}(nc),sc=["style"],uc=function(t){function e(e){var n=void 0===e?{}:e,r=n.style,i=$i(n,sc);return t.call(this,qi({type:_a.GROUP,style:fh.enableCSSParsing?qi({x:"",y:"",width:"",height:""},r):qi({},r)},i))||this}return Ki(e,t),e}(nc),lc=["style"],cc=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.style,o=$i(r,lc);return n=t.call(this,qi({type:_a.HTML,style:fh.enableCSSParsing?qi({x:"",y:"",width:"auto",height:"auto",innerHTML:""},i):qi({},i)},o))||this,n.cullable.enable=!1,n}Ki(e,t);var n=e.prototype;return n.getDomElement=function(){return this.parsedStyle.$el},n.getBoundingClientRect=function(){return this.parsedStyle.$el.getBoundingClientRect()},n.getClientRects=function(){return[this.getBoundingClientRect()]},n.getBounds=function(){var t,e,n=this.getBoundingClientRect(),r=null===(t=this.ownerDocument)||void 0===t||null===(e=t.defaultView)||void 0===e?void 0:e.getContextService().getBoundingClientRect();if(r){var i=n.left-r.left,o=n.top-r.top,a=new pl;return a.setMinMax([i,o,0],[i+n.width,o+n.height,0]),a}return null},n.getLocalBounds=function(){if(this.parentNode){var t=Tn(xn(),this.parentNode.getWorldTransform()),e=this.getBounds();if(!pl.isEmpty(e)){var n=new pl;return n.setFromTransformedAABB(e,t),n}}return this.getBounds()},e}(nc),hc=["style"],fc=function(t){function e(e){var n=void 0===e?{}:e,r=n.style,i=$i(n,hc);return t.call(this,qi({type:_a.IMAGE,style:fh.enableCSSParsing?qi({x:"",y:"",img:"",width:"",height:""},r):qi({},r)},i))||this}return Ki(e,t),e}(nc),pc=["style"],dc=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.style,o=$i(r,pc);n=t.call(this,qi({type:_a.LINE,style:qi({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0,isBillboard:!1},i)},o))||this,n.markerStartAngle=0,n.markerEndAngle=0;var a=n.parsedStyle,s=a.markerStart,u=a.markerEnd;return s&&Vl(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),u&&Vl(u)&&(n.markerEndAngle=u.getLocalEulerAngles(),n.appendChild(u)),n.transformMarker(!0),n.transformMarker(!1),n}Ki(e,t);var n=e.prototype;return n.attributeChangedCallback=function(t,e,n,r,i){"x1"===t||"y1"===t||"x2"===t||"y2"===t||"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&Vl(r)&&(this.markerStartAngle=0,r.remove()),i&&Vl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t&&(r&&Vl(r)&&(this.markerEndAngle=0,r.remove()),i&&Vl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1)))},n.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.x1,s=e.x2,u=e.y1,l=e.y2,c=e.defX,h=e.defY,f=t?n:r;if(f&&Vl(f)){var p,d,v,y,g,m,x=0;t?(v=a-c,y=u-h,p=s-a,d=l-u,g=i||0,m=this.markerStartAngle):(v=s-c,y=l-h,p=a-s,d=u-l,g=o||0,m=this.markerEndAngle),x=Math.atan2(d,p),f.setLocalEulerAngles(180*x/Math.PI+m),f.setLocalPosition(v+Math.cos(x)*g,y+Math.sin(x)*g)}},n.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.x1,i=n.y1,o=n.x2,a=n.y2,s=n.defX,u=n.defY,l=ei.pointAt(r,i,o,a,t),c=l.x,h=l.y,f=dn(Qe(),nn(c-s,h-u,0),e?this.getWorldTransform():this.getLocalTransform());return new yl(f[0],f[1])},n.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},n.getTotalLength=function(){var t=this.parsedStyle,e=t.x1,n=t.y1,r=t.x2,i=t.y2;return ei.length(e,n,r,i)},e}(nc),vc=["style"],yc={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new gl(0,0,0,0)},gc=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.style,o=$i(r,vc);n=t.call(this,qi({type:_a.PATH,style:fh.enableCSSParsing?qi({path:"",miterLimit:""},i):qi({},i),initialParsedStyle:fh.enableCSSParsing?null:{miterLimit:4,path:qi({},yc)}},o))||this,n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var a=n.parsedStyle,s=a.markerStart,u=a.markerEnd,l=a.markerMid;return s&&Vl(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),l&&Vl(l)&&n.placeMarkerMid(l),u&&Vl(u)&&(n.markerEndAngle=u.getLocalEulerAngles(),n.appendChild(u)),n.transformMarker(!0),n.transformMarker(!1),n}Ki(e,t);var n=e.prototype;return n.attributeChangedCallback=function(t,e,n,r,i){"path"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&Vl(r)&&(this.markerStartAngle=0,r.remove()),i&&Vl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&Vl(r)&&(this.markerEndAngle=0,r.remove()),i&&Vl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},n.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.defX,s=e.defY,u=t?n:r;if(u&&Vl(u)){var l,c,h,f,p,d,v=0;if(t){var y=this.getStartTangent(),g=y[0],m=y[1];h=m[0]-a,f=m[1]-s,l=g[0]-m[0],c=g[1]-m[1],p=i||0,d=this.markerStartAngle}else{var x=this.getEndTangent(),b=x[0],w=x[1];h=w[0]-a,f=w[1]-s,l=b[0]-w[0],c=b[1]-w[1],p=o||0,d=this.markerEndAngle}v=Math.atan2(c,l),u.setLocalEulerAngles(180*v/Math.PI+d),u.setLocalPosition(h+Math.cos(v)*p,f+Math.sin(v)*p)}},n.placeMarkerMid=function(t){var e=this.parsedStyle,n=e.path.segments,r=e.defX,i=e.defY;if(this.markerMidList.forEach((function(t){t.remove()})),t&&Vl(t))for(var o=1;o<n.length-1;o++){var a=n[o].currentPoint,s=a[0],u=a[1],l=1===o?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(s-r,u-i)}},n.getTotalLength=function(){return Fa(this)},n.getPointAtLength=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.defX,i=n.defY,o=n.path.absolutePath,a=ge(o,t),s=a.x,u=a.y,l=dn(Qe(),nn(s-r,u-i,0),e?this.getWorldTransform():this.getLocalTransform());return new yl(l[0],l[1])},n.getPoint=function(t,e){return void 0===e&&(e=!1),this.getPointAtLength(t*Fa(this),e)},n.getStartTangent=function(){var t=this.parsedStyle.path.segments,e=[];if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},n.getEndTangent=function(){var t=this.parsedStyle.path.segments,e=t.length,n=[];if(e>1){var r=t[e-2].currentPoint,i=t[e-1].currentPoint,o=t[e-1].endTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([r[0],r[1]]),n.push([i[0],i[1]]))}return n},e}(nc),mc=["style"],xc=function(t){function e(e){var n,r=void 0===e?{}:e,i=r.style,o=$i(r,mc);n=t.call(this,qi({type:_a.POLYGON,style:fh.enableCSSParsing?qi({points:"",miterLimit:"",isClosed:!0},i):qi({},i),initialParsedStyle:fh.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},o))||this,n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var a=n.parsedStyle,s=a.markerStart,u=a.markerEnd,l=a.markerMid;return s&&Vl(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),l&&Vl(l)&&n.placeMarkerMid(l),u&&Vl(u)&&(n.markerEndAngle=u.getLocalEulerAngles(),n.appendChild(u)),n.transformMarker(!0),n.transformMarker(!1),n}Ki(e,t);var n=e.prototype;return n.attributeChangedCallback=function(t,e,n,r,i){"points"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&Vl(r)&&(this.markerStartAngle=0,r.remove()),i&&Vl(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&Vl(r)&&(this.markerEndAngle=0,r.remove()),i&&Vl(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},n.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.points.points,s=e.defX,u=e.defY,l=t?n:r;if(l&&Vl(l)){var c,h,f,p,d,v,y=0;if(f=a[0][0]-s,p=a[0][1]-u,t)c=a[1][0]-a[0][0],h=a[1][1]-a[0][1],d=i||0,v=this.markerStartAngle;else{var g=a.length;this.parsedStyle.isClosed?(c=a[g-1][0]-a[0][0],h=a[g-1][1]-a[0][1]):(f=a[g-1][0]-s,p=a[g-1][1]-u,c=a[g-2][0]-a[g-1][0],h=a[g-2][1]-a[g-1][1]),d=o||0,v=this.markerEndAngle}y=Math.atan2(h,c),l.setLocalEulerAngles(180*y/Math.PI+v),l.setLocalPosition(f+Math.cos(y)*d,p+Math.sin(y)*d)}},n.placeMarkerMid=function(t){var e=this.parsedStyle,n=e.points.points,r=e.defX,i=e.defY;if(this.markerMidList.forEach((function(t){t.remove()})),this.markerMidList=[],t&&Vl(t))for(var o=1;o<(this.parsedStyle.isClosed?n.length:n.length-1);o++){var a=n[o][0]-r,s=n[o][1]-i,u=1===o?t:t.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(a,s)}},e}(nc),bc=["style"],wc=function(t){function e(e){var n=void 0===e?{}:e,r=n.style,i=$i(n,bc);return t.call(this,qi({type:_a.POLYLINE,style:fh.enableCSSParsing?qi({points:"",miterLimit:"",isClosed:!1},r):qi({},r),initialParsedStyle:fh.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i))||this}Ki(e,t);var n=e.prototype;return n.getTotalLength=function(){return this.parsedStyle.points.totalLength},n.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},n.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.defX,i=n.defY,o=n.points,a=o.points,s=o.segments,u=0,l=0;s.forEach((function(e,n){t>=e[0]&&t<=e[1]&&(u=(t-e[0])/(e[1]-e[0]),l=n)}));var c=ei.pointAt(a[l][0],a[l][1],a[l+1][0],a[l+1][1],u),h=c.x,f=c.y,p=dn(Qe(),nn(h-r,f-i,0),e?this.getWorldTransform():this.getLocalTransform());return new yl(p[0],p[1])},n.getStartTangent=function(){var t=this.parsedStyle.points.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},n.getEndTangent=function(){var t=this.parsedStyle.points.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(xc),kc=["style"],Ec=function(t){function e(e){var n=void 0===e?{}:e,r=n.style,i=$i(n,kc);return t.call(this,qi({type:_a.RECT,style:fh.enableCSSParsing?qi({x:"",y:"",width:"",height:"",radius:""},r):qi({},r)},i))||this}return Ki(e,t),e}(nc),Mc=["style"],Sc=function(t){function e(e){var n=void 0===e?{}:e,r=n.style,i=$i(n,Mc);return t.call(this,qi({type:_a.TEXT,style:fh.enableCSSParsing?qi({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:""},r):qi({fill:"black"},r),initialParsedStyle:fh.enableCSSParsing?{}:{x:0,y:0,fontSize:16,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",lineHeight:0,letterSpacing:0,textBaseline:"alphabetic",textAlign:"start",wordWrap:!1,wordWrapWidth:0,leading:0,dx:0,dy:0}},i))||this}Ki(e,t);var n=e.prototype;return n.getComputedTextLength=function(){var t;return(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.maxLineWidth)||0},n.getLineBoundingRects=function(){var t;return(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.lineMetrics)||[]},n.isOverflowing=function(){return!!this.parsedStyle.isOverflowing},e}(nc),Tc=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Ii.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Ii.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Ii.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Ii.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Ii.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Ii.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Ii.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Ii.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Ii.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Ii.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Ii.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Ii.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Ii.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Ii.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Ii.FILTER},{n:"clipPath",syntax:Ii.DEFINED_PATH},{n:"textPath",syntax:Ii.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Ii.TRANSFORM},{n:"transformOrigin",p:100,d:function(t){return t===_a.CIRCLE||t===_a.ELLIPSE?"center":t===_a.TEXT?"text-anchor":"left top"},l:!0,syntax:Ii.TRANSFORM_ORIGIN},{n:"anchor",p:99,d:function(t){return t===_a.CIRCLE||t===_a.ELLIPSE?"0.5 0.5":"0 0"},l:!0,syntax:Ii.LENGTH_PERCENTAGE_12},{n:"cx",int:!0,d:"0",syntax:Ii.COORDINATE},{n:"cy",int:!0,d:"0",syntax:Ii.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"x",int:!0,d:"0",syntax:Ii.COORDINATE},{n:"y",int:!0,d:"0",syntax:Ii.COORDINATE},{n:"z",int:!0,d:"0",syntax:Ii.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ii.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Ii.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Ii.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Ii.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Ii.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Ii.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Ii.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Ii.COORDINATE},{n:"path",int:!0,l:!0,d:"",a:["d"],syntax:Ii.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Ii.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Ii.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Ii.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Ii.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Ii.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Ii.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Ii.NUMBER,d:function(t){return t===_a.PATH||t===_a.POLYGON||t===_a.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Ii.MARKER},{n:"markerEnd",syntax:Ii.MARKER},{n:"markerMid",syntax:Ii.MARKER},{n:"markerStartOffset",syntax:Ii.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Ii.LENGTH,l:!0,int:!0,d:"0"}],Pc=Tc.filter((function(t){return!!t.l})).map((function(t){return t.n})),Oc={},Cc=new WeakMap,Nc=function(t,e){var n=Cc.get(t);return!n||0===n.length||n.includes(e)},Ac=function(){function t(){var t=this;Tc.forEach((function(e){t.registerMetadata(e)}))}var e=t.prototype;return e.registerMetadata=function(t){[t.n].concat(t.a||[]).forEach((function(e){Oc[e]=t}))},e.unregisterMetadata=function(t){delete Oc[t]},e.getPropertySyntax=function(t){return fh.CSSPropertySyntaxFactory[t]},e.processProperties=function(t,e,n){var r=this;if(void 0===n&&(n={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[]}),!fh.enableCSSParsing){Object.assign(t.attributes,e);var i=Object.keys(e),o=t.parsedStyle.clipPath,a=t.parsedStyle.offsetPath;t.parsedStyle=Object.assign(t.parsedStyle,e);var s=!!n.forceUpdateGeometry;if(!s)for(var u=0;u<Pc.length;u++)if(Pc[u]in e){s=!0;break}return e.fill&&(t.parsedStyle.fill=uu(e.fill)),e.stroke&&(t.parsedStyle.stroke=uu(e.stroke)),e.shadowColor&&(t.parsedStyle.shadowColor=uu(e.shadowColor)),e.filter&&(t.parsedStyle.filter=wu(e.filter)),Ht(e.radius)||(t.parsedStyle.radius=yu(e.radius,4)),Ht(e.lineDash)||(t.parsedStyle.lineDash=yu(e.lineDash,2)),e.points&&(t.parsedStyle.points=Au(e.points,t)),""===e.path&&(t.parsedStyle.path=qi({},yc)),e.path&&(t.parsedStyle.path=Cu(e.path,t)),e.textTransform&&fh.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:e.textTransform},t,null),e.clipPath&&fh.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",o,e.clipPath,t,this),e.offsetPath&&fh.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",a,e.offsetPath,t,this),e.anchor&&(t.parsedStyle.anchor=yu(e.anchor,2)),e.transform&&(t.parsedStyle.transform=Fu(e.transform)),e.transformOrigin&&(t.parsedStyle.transformOrigin=$u(e.transformOrigin)),e.markerStart&&(t.parsedStyle.markerStart=fh.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerStart,e.markerStart,null,null)),e.markerEnd&&(t.parsedStyle.markerEnd=fh.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerEnd,e.markerEnd,null,null)),e.markerMid&&(t.parsedStyle.markerMid=fh.CSSPropertySyntaxFactory["<marker>"].calculator("",e.markerMid,e.markerMid,null,null)),(t.nodeName!==_a.CIRCLE&&t.nodeName!==_a.ELLIPSE||Ht(e.cx)&&Ht(e.cy))&&(t.nodeName!==_a.RECT&&t.nodeName!==_a.IMAGE&&t.nodeName!==_a.GROUP&&t.nodeName!==_a.HTML&&t.nodeName!==_a.TEXT&&t.nodeName!==_a.MESH||Ht(e.x)&&Ht(e.y)&&Ht(e.z))&&(t.nodeName!==_a.LINE||Ht(e.x1)&&Ht(e.y1)&&Ht(e.z1)&&Ht(e.x2)&&Ht(e.y2)&&Ht(e.z2))||fh.CSSPropertySyntaxFactory["<coordinate>"].postProcessor(t,i),Ht(e.zIndex)||fh.CSSPropertySyntaxFactory["<z-index>"].postProcessor(t,i),e.path&&fh.CSSPropertySyntaxFactory["<path>"].postProcessor(t,i),e.points&&fh.CSSPropertySyntaxFactory["<list-of-points>"].postProcessor(t,i),Ht(e.offsetDistance)||fh.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(t,i),e.transform&&fh.CSSPropertySyntaxFactory["<transform>"].postProcessor(t,i),void(s&&this.updateGeometry(t))}var l=n,c=l.skipUpdateAttribute,h=l.skipParse,f=l.forceUpdateGeometry,p=l.usedAttributes,d=f,v=Object.keys(e);v.forEach((function(n){var r;c||(t.attributes[n]=e[n]),!d&&(null===(r=Oc[n])||void 0===r?void 0:r.l)&&(d=!0)})),h||v.forEach((function(e){t.computedStyle[e]=r.parseProperty(e,t.attributes[e],t)})),(null===p||void 0===p?void 0:p.length)&&(v=Array.from(new Set(v.concat(p)))),v.forEach((function(e){e in t.computedStyle&&(t.parsedStyle[e]=r.computeProperty(e,t.computedStyle[e],t))})),d&&this.updateGeometry(t),v.forEach((function(e){e in t.parsedStyle&&r.postProcessProperty(e,t,v)})),fh.enableCSSParsing&&t.children.length&&v.forEach((function(e){e in t.parsedStyle&&r.isPropertyInheritable(e)&&t.children.forEach((function(t){t.internalSetAttribute(e,null,{skipUpdateAttribute:!0,skipParse:!0})}))}))},e.parseProperty=function(t,e,n){var r=Oc[t],i=e;if((""===e||Ht(e))&&(e="unset"),"unset"===e||"initial"===e||"inherit"===e)i=jo(e);else if(r){var o=r.k,a=r.syntax,s=a&&this.getPropertySyntax(a);o&&o.indexOf(e)>-1?i=jo(e):s&&s.parser&&(i=s.parser(e,n))}return i},e.computeProperty=function(t,e,n){var r=Oc[t],i="g-root"===n.id,o=e;if(r){var a=r.syntax,s=r.inh,u=r.d;if(e instanceof go){var l=e.value;if("unset"===l&&(l=s&&!i?"inherit":"initial"),"initial"===l)Ht(u)||(e=this.parseProperty(t,ko(u)?u(n.nodeName):u,n));else if("inherit"===l){var c=this.tryToResolveProperty(n,t,{inherited:!0});return Ht(c)?void this.addUnresolveProperty(n,t):c}}var h=a&&this.getPropertySyntax(a);if(h&&h.calculator){var f=n.parsedStyle[t];o=h.calculator(t,f,e,n,this)}else o=e instanceof go?e.value:e}return o},e.postProcessProperty=function(t,e,n){var r=Oc[t];if(r&&r.syntax){var i=r.syntax&&this.getPropertySyntax(r.syntax),o=i;o&&o.postProcessor&&o.postProcessor(e,n)}},e.addUnresolveProperty=function(t,e){var n=Cc.get(t);n||(Cc.set(t,[]),n=Cc.get(t)),-1===n.indexOf(e)&&n.push(e)},e.tryToResolveProperty=function(t,e,n){void 0===n&&(n={});var r=n,i=r.inherited;if(i&&t.parentElement&&Nc(t.parentElement,e)){var o=t.parentElement.parsedStyle[e];if("unset"===o||"initial"===o||"inherit"===o)return;return o}},e.recalc=function(t){var e=Cc.get(t);if(e&&e.length){var n={};e.forEach((function(e){n[e]=t.attributes[e]})),this.processProperties(t,n),Cc["delete"](t)}},e.updateGeometry=function(t){var e=t.nodeName,n=fh.geometryUpdaterFactory[e];if(n){var r=t.geometry;r.contentBounds||(r.contentBounds=new pl),r.renderBounds||(r.renderBounds=new pl);var i=t.parsedStyle,o=n.update(i,t),a=o.width,s=o.height,u=o.depth,l=void 0===u?0:u,c=o.offsetX,h=void 0===c?0:c,f=o.offsetY,p=void 0===f?0:f,d=o.offsetZ,v=void 0===d?0:d,y=[Math.abs(a)/2,Math.abs(s)/2,l/2],g=i.stroke,m=i.lineWidth,x=i.increasedLineWidthForHitTesting,b=i.shadowType,w=i.shadowColor,k=i.filter,E=void 0===k?[]:k,M=i.transformOrigin,S=i.anchor;e===_a.TEXT&&delete i.anchor;var T=[(1-2*(S&&S[0]||0))*a/2+h,(1-2*(S&&S[1]||0))*s/2+p,(1-2*(S&&S[2]||0))*y[2]+v];r.contentBounds.update(T,y);var P=e===_a.POLYLINE||e===_a.POLYGON||e===_a.PATH?Math.SQRT2:.5,O=g&&!g.isNone;if(O){var C=((m||0)+(x||0))*P;y[0]+=C,y[1]+=C}if(r.renderBounds.update(T,y),w&&b&&"inner"!==b){var N=r.renderBounds,A=N.min,L=N.max,_=i.shadowBlur,R=i.shadowOffsetX,I=i.shadowOffsetY,D=_||0,F=R||0,j=I||0,B=A[0]-D+F,G=L[0]+D+F,Y=A[1]-D+j,W=L[1]+D+j;A[0]=Math.min(A[0],B),L[0]=Math.max(L[0],G),A[1]=Math.min(A[1],Y),L[1]=Math.max(L[1],W),r.renderBounds.setMinMax(A,L)}E.forEach((function(t){var e=t.name,n=t.params;if("blur"===e){var i=n[0].value;r.renderBounds.update(r.renderBounds.center,aa(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[i,i,0]))}else if("drop-shadow"===e){var o=n[0].value,a=n[1].value,s=n[2].value,u=r.renderBounds,l=u.min,c=u.max,h=l[0]-s+o,f=c[0]+s+o,p=l[1]-s+a,d=c[1]+s+a;l[0]=Math.min(l[0],h),c[0]=Math.max(c[0],f),l[1]=Math.min(l[1],p),c[1]=Math.max(c[1],d),r.renderBounds.setMinMax(l,c)}})),S=i.anchor;var z=a<0,X=s<0,V=(z?-1:1)*(M?mu(M[0],0,t):0),U=(X?-1:1)*(M?mu(M[1],1,t):0);V-=(z?-1:1)*(S&&S[0]||0)*r.contentBounds.halfExtents[0]*2,U-=(X?-1:1)*(S&&S[1]||0)*r.contentBounds.halfExtents[1]*2,t.setOrigin(V,U),fh.sceneGraphService.dirtifyToRoot(t)}},e.isPropertyInheritable=function(t){var e=Oc[t];return!!e&&e.inh},t}();(function(t){t[t["ORBITING"]=0]="ORBITING",t[t["EXPLORING"]=1]="EXPLORING",t[t["TRACKING"]=2]="TRACKING"})(Ul||(Ul={})),function(t){t[t["DEFAULT"]=0]="DEFAULT",t[t["ROTATIONAL"]=1]="ROTATIONAL",t[t["TRANSLATIONAL"]=2]="TRANSLATIONAL",t[t["CINEMATIC"]=3]="CINEMATIC"}(Hl||(Hl={})),function(t){t[t["ORTHOGRAPHIC"]=0]="ORTHOGRAPHIC",t[t["PERSPECTIVE"]=1]="PERSPECTIVE"}(ql||(ql={}));var Lc,_c={UPDATED:"updated"},Rc=2e-4,Ic=function(){function t(){this.canvas=void 0,this.eventEmitter=new(Wi()),this.matrix=xn(),this.right=nn(1,0,0),this.up=nn(0,1,0),this.forward=nn(0,0,1),this.position=nn(0,0,1),this.focalPoint=nn(0,0,0),this.distanceVector=nn(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.projectionMatrix=xn(),this.projectionMatrixInverse=xn(),this.jitteredProjectionMatrix=void 0,this.view=void 0,this.enableUpdate=!0,this.type=Ul.EXPLORING,this.trackingMode=Hl.DEFAULT,this.projectionMode=ql.PERSPECTIVE,this.frustum=new vl,this.orthoMatrix=xn()}var e=t.prototype;return e.isOrtho=function(){return this.projectionMode===ql.ORTHOGRAPHIC},e.getProjectionMode=function(){return this.projectionMode},e.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},e.getPerspectiveInverse=function(){return this.projectionMatrixInverse},e.getFrustum=function(){return this.frustum},e.getPosition=function(){return this.position},e.getFocalPoint=function(){return this.focalPoint},e.getDollyingStep=function(){return this.dollyingStep},e.getNear=function(){return this.near},e.getFar=function(){return this.far},e.getZoom=function(){return this.zoom},e.getOrthoMatrix=function(){return this.orthoMatrix},e.getView=function(){return this.view},e.setEnableUpdate=function(t){this.enableUpdate=t},e.setType=function(t,e){return this.type=t,this.type===Ul.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Ul.TRACKING&&void 0!==e&&this.setTrackingMode(e),this},e.setProjectionMode=function(t){return this.projectionMode=t,this},e.setTrackingMode=function(t){if(this.type!==Ul.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this},e.setWorldRotation=function(t){return this.rotateWorld=t,this._getAngles(),this},e.getViewTransform=function(){return Tn(xn(),this.matrix)},e.getWorldTransform=function(){return this.matrix},e.jitterProjectionMatrix=function(t,e){var n=Dn(xn(),[t,e,0]);this.jitteredProjectionMatrix=Cn(xn(),n,this.projectionMatrix)},e.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},e.setMatrix=function(t){return this.matrix=t,this._update(),this},e.setFov=function(t){return this.setPerspective(this.near,this.far,t,this.aspect),this},e.setAspect=function(t){return this.setPerspective(this.near,this.far,this.fov,t),this},e.setNear=function(t){return this.projectionMode===ql.PERSPECTIVE?this.setPerspective(t,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,t,this.far),this},e.setFar=function(t){return this.projectionMode===ql.PERSPECTIVE?this.setPerspective(this.near,t,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,t),this},e.setViewOffset=function(t,e,n,r,i,o){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===ql.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},e.clearViewOffset=function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===ql.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},e.setZoom=function(t){return this.zoom=t,this.projectionMode===ql.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===ql.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},e.setZoomByViewportPoint=function(t,e){var n=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),r=n.x,i=n.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(r,i),this.setFocalPoint(r,i),this.setZoom(t),this.rotate(0,0,o);var a=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),s=a.x,u=a.y,l=nn(s-r,u-i,0),c=hn(l,this.right)/en(this.right),h=hn(l,this.up)/en(this.up);return this.pan(-c,-h),this},e.setPerspective=function(t,e,n,r){var i;this.projectionMode=ql.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=r;var o=this.near*Math.tan(fa(.5*this.fov))/this.zoom,a=2*o,s=this.aspect*a,u=-.5*s;if(null===(i=this.view)||void 0===i?void 0:i.enabled){var l=this.view.fullWidth,c=this.view.fullHeight;u+=this.view.offsetX*s/l,o-=this.view.offsetY*a/c,s*=this.view.width/l,a*=this.view.height/c}return xa(this.projectionMatrix,u,u+s,o,o-a,t,this.far),An(this.projectionMatrix,this.projectionMatrix,nn(1,-1,1)),Tn(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},e.setOrthographic=function(t,e,n,r,i,o){var a;this.projectionMode=ql.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=r,this.near=i,this.far=o;var s=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),l=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,h=l-s,f=l+s,p=c+u,d=c-u;if(null===(a=this.view)||void 0===a?void 0:a.enabled){var v=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=v*this.view.offsetX,f=h+v*this.view.width,p-=y*this.view.offsetY,d=p-y*this.view.height}return nr(this.projectionMatrix,h,f,d,p,i,o),An(this.projectionMatrix,this.projectionMatrix,nn(1,-1,1)),Tn(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},e.setPosition=function(t,e,n){void 0===e&&(e=this.position[1]),void 0===n&&(n=this.position[2]);var r=ha(t,e,n);return this._setPosition(r),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},e.setFocalPoint=function(t,e,n){void 0===e&&(e=this.focalPoint[1]),void 0===n&&(n=this.focalPoint[2]);var r=nn(0,1,0);if(this.focalPoint=ha(t,e,n),this.trackingMode===Hl.CINEMATIC){var i=sn(Qe(),this.focalPoint,this.position);t=i[0],e=i[1],n=i[2];var o=en(i),a=pa(Math.asin(e/o)),s=90+pa(Math.atan2(n,t)),u=xn();Rn(u,u,fa(s)),_n(u,u,fa(a)),r=dn(Qe(),[0,1,0],u)}return Tn(this.matrix,ir(xn(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},e.getDistance=function(){return this.distance},e.getDistanceVector=function(){return this.distanceVector},e.setDistance=function(t){if(this.distance===t||t<0)return this;this.distance=t,this.distance<Rc&&(this.distance=Rc),this.dollyingStep=this.distance/100;var e=Qe();t=this.distance;var n=this.forward,r=this.focalPoint;return e[0]=t*n[0]+r[0],e[1]=t*n[1]+r[1],e[2]=t*n[2]+r[2],this._setPosition(e),this.triggerUpdate(),this},e.setMaxDistance=function(t){return this.maxDistance=t,this},e.setMinDistance=function(t){return this.minDistance=t,this},e.setAzimuth=function(t){return this.azimuth=ca(t),this.computeMatrix(),this._getAxes(),this.type===Ul.ORBITING||this.type===Ul.EXPLORING?this._getPosition():this.type===Ul.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},e.getAzimuth=function(){return this.azimuth},e.setElevation=function(t){return this.elevation=ca(t),this.computeMatrix(),this._getAxes(),this.type===Ul.ORBITING||this.type===Ul.EXPLORING?this._getPosition():this.type===Ul.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},e.getElevation=function(){return this.elevation},e.setRoll=function(t){return this.roll=ca(t),this.computeMatrix(),this._getAxes(),this.type===Ul.ORBITING||this.type===Ul.EXPLORING?this._getPosition():this.type===Ul.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},e.getRoll=function(){return this.roll},e._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},e.computeMatrix=function(){var t=Sr(Mr(),[0,0,1],fa(this.roll));Mn(this.matrix);var e=Sr(Mr(),[1,0,0],fa((this.rotateWorld&&this.type!==Ul.TRACKING||this.type===Ul.TRACKING?1:-1)*this.elevation)),n=Sr(Mr(),[0,1,0],fa((this.rotateWorld&&this.type!==Ul.TRACKING||this.type===Ul.TRACKING?1:-1)*this.azimuth)),r=Tr(Mr(),n,e);r=Tr(Mr(),r,t);var i=Kn(xn(),r);this.type===Ul.ORBITING||this.type===Ul.EXPLORING?(Nn(this.matrix,this.matrix,this.focalPoint),Cn(this.matrix,this.matrix,i),Nn(this.matrix,this.matrix,[0,0,this.distance])):this.type===Ul.TRACKING&&(Nn(this.matrix,this.matrix,this.position),Cn(this.matrix,this.matrix,i))},e._setPosition=function(t,e,n){this.position=ha(t,e,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()},e._getAxes=function(){rn(this.right,ha(Er(xr(),[1,0,0,0],this.matrix))),rn(this.up,ha(Er(xr(),[0,1,0,0],this.matrix))),rn(this.forward,ha(Er(xr(),[0,0,1,0],this.matrix))),cn(this.right,this.right),cn(this.up,this.up),cn(this.forward,this.forward)},e._getAngles=function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],r=en(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===Ul.TRACKING||this.rotateWorld?(this.elevation=pa(Math.asin(e/r)),this.azimuth=pa(Math.atan2(-t,-n))):(this.elevation=-pa(Math.asin(e/r)),this.azimuth=-pa(Math.atan2(-t,-n)))},e._getPosition=function(){rn(this.position,ha(Er(xr(),[0,0,0,1],this.matrix))),this._getDistance()},e._getFocalPoint=function(){vn(this.distanceVector,[0,0,-this.distance],gr(yr(),this.matrix)),an(this.focalPoint,this.position,this.distanceVector),this._getDistance()},e._getDistance=function(){this.distanceVector=sn(Qe(),this.focalPoint,this.position),this.distance=en(this.distanceVector),this.dollyingStep=this.distance/100},e._getOrthoMatrix=function(){if(this.projectionMode===ql.ORTHOGRAPHIC){var t=this.position,e=Sr(Mr(),[0,0,1],-this.roll*Math.PI/180);qn(this.orthoMatrix,e,nn((this.rright-this.left)/2-t[0],(this.top-this.bottom)/2-t[1],0),nn(this.zoom,this.zoom,1),t)}},e.triggerUpdate=function(){if(this.enableUpdate){var t=this.getViewTransform(),e=Cn(xn(),this.getPerspective(),t);this.getFrustum().extractFromVPMatrix(e),this.eventEmitter.emit(_c.UPDATED)}},e.rotate=function(t,e,n){throw new Error(Qo)},e.pan=function(t,e){throw new Error(Qo)},e.dolly=function(t){throw new Error(Qo)},e.createLandmark=function(t,e){throw new Error(Qo)},e.gotoLandmark=function(t,e){throw new Error(Qo)},e.cancelLandmarkAnimation=function(){throw new Error(Qo)},t}(),Dc=function(){function t(){}var e=t.prototype;return e.update=function(t,e){var n=t.r,r=2*n,i=2*n;return{width:r,height:i}},t}(),Fc=function(){function t(){}var e=t.prototype;return e.update=function(t,e){var n=t.rx,r=t.ry,i=2*n,o=2*r;return{width:i,height:o}},t}(),jc=function(){function t(){}var e=t.prototype;return e.update=function(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=Math.min(e,r),a=Math.max(e,r),s=Math.min(n,i),u=Math.max(n,i),l=a-o,c=u-s;return{width:l,height:c}},t}(),Bc=function(){function t(){}var e=t.prototype;return e.update=function(t){var e=t.path,n=e.rect,r=n.width,i=n.height;return{width:r,height:i}},t}(),Gc=function(){function t(){}var e=t.prototype;return e.update=function(t){var e=t.points.points,n=Math.min.apply(Math,e.map((function(t){return t[0]}))),r=Math.max.apply(Math,e.map((function(t){return t[0]}))),i=Math.min.apply(Math,e.map((function(t){return t[1]}))),o=Math.max.apply(Math,e.map((function(t){return t[1]}))),a=r-n,s=o-i;return{width:a,height:s}},t}(),Yc=function(){function t(){}var e=t.prototype;return e.update=function(t,e){var n=t.img,r=t.width,i=void 0===r?0:r,o=t.height,a=void 0===o?0:o,s=i,u=a;return n&&!qt(n)&&(s||(s=n.width,t.width=s),u||(u=n.height,t.height=u)),{width:s,height:u}},t}(),Wc=function(){function t(t){this.globalRuntime=void 0,this.globalRuntime=t}var e=t.prototype;return e.isReadyToMeasure=function(t,e){var n=t.text,r=t.textAlign,i=t.textBaseline,o=t.fontSize,a=t.fontStyle,s=t.fontWeight,u=t.fontVariant,l=t.lineWidth;return n&&o&&a&&s&&u&&r&&i&&!Ht(l)},e.update=function(t,e){var n,r,i=t.text,o=t.textAlign,a=t.lineWidth,s=t.textBaseline,u=t.dx,l=t.dy,c=(null===e||void 0===e||null===(n=e.ownerDocument)||void 0===n||null===(r=n.defaultView)||void 0===r?void 0:r.getConfig())||{},h=c.offscreenCanvas;if(!this.isReadyToMeasure(t,e))return t.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{width:0,height:0,x:0,y:0,offsetX:0,offsetY:0};var f=this.globalRuntime.textService.measureText(i,t,h);t.metrics=f;var p=f.width,d=f.height,v=f.lineHeight,y=f.fontProperties,g=[p/2,d/2,0],m=[0,1],x=0;"center"===o||"middle"===o?(x=a/2,m=[.5,1]):"right"!==o&&"end"!==o||(x=a,m=[1,1]);var b=0;return"middle"===s?b=g[1]:"top"===s||"hanging"===s?b=2*g[1]:"alphabetic"===s?b=fh.enableCSSParsing?v-y.ascent:0:"bottom"!==s&&"ideographic"!==s||(b=0),u&&(x+=u),l&&(b+=l),t.anchor=[m[0],m[1],0],{width:2*g[0],height:2*g[1],offsetX:x,offsetY:b}},t}(),zc=2048,Xc=function(){function t(t,e){var n=this;this.globalRuntime=void 0,this.context=void 0,this.rootTarget=void 0,this.emitter=new(Wi()),this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.pickHandler=void 0,this.tmpMatrix=xn(),this.tmpVec3=Qe(),this.onPointerDown=function(t){var e=n.createPointerEvent(t);if(n.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)n.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){var r=2===e.button;n.dispatchEvent(e,r?"rightdown":"mousedown")}var i=n.trackingData(t.pointerId);i.pressTargetsByButton[t.button]=e.composedPath(),n.freeEvent(e)},this.onPointerUp=function(t){var e=performance.now(),r=n.createPointerEvent(t);if(n.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)n.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){var i=2===r.button;n.dispatchEvent(r,i?"rightup":"mouseup")}var o=n.trackingData(t.pointerId),a=n.findMountedTarget(o.pressTargetsByButton[t.button]),s=a;if(a&&!r.composedPath().includes(a)){var u=a;while(u&&!r.composedPath().includes(u)){if(r.currentTarget=u,n.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)n.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){var l=2===r.button;n.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}Ll.isNode(u)&&(u=u.parentNode)}delete o.pressTargetsByButton[t.button],s=u}if(s){var c,h=n.clonePointerEvent(r,"click");h.target=s,h.path=[],o.clicksByButton[t.button]||(o.clicksByButton[t.button]={clickCount:0,target:h.target,timeStamp:e});var f=o.clicksByButton[t.button];f.target===h.target&&e-f.timeStamp<200?++f.clickCount:f.clickCount=1,f.target=h.target,f.timeStamp=e,h.detail=f.clickCount,(null===(c=r.detail)||void 0===c?void 0:c.preventClick)||(n.context.config.useNativeClickEvent||"mouse"!==h.pointerType&&"touch"!==h.pointerType||n.dispatchEvent(h,"click"),n.dispatchEvent(h,"pointertap")),n.freeEvent(h)}n.freeEvent(r)},this.onPointerMove=function(t){var e=n.createPointerEvent(t),r="mouse"===e.pointerType||"pen"===e.pointerType,i=n.trackingData(t.pointerId),o=n.findMountedTarget(i.overTargets);if(i.overTargets&&o!==e.target){var a="mousemove"===t.type?"mouseout":"pointerout",s=n.createPointerEvent(t,a,o||void 0);if(n.dispatchEvent(s,"pointerout"),r&&n.dispatchEvent(s,"mouseout"),!e.composedPath().includes(o)){var u=n.createPointerEvent(t,"pointerleave",o||void 0);u.eventPhase=u.AT_TARGET;while(u.target&&!e.composedPath().includes(u.target))u.currentTarget=u.target,n.notifyTarget(u),r&&n.notifyTarget(u,"mouseleave"),Ll.isNode(u.target)&&(u.target=u.target.parentNode);n.freeEvent(u)}n.freeEvent(s)}if(o!==e.target){var l="mousemove"===t.type?"mouseover":"pointerover",c=n.clonePointerEvent(e,l);n.dispatchEvent(c,"pointerover"),r&&n.dispatchEvent(c,"mouseover");var h=o&&Ll.isNode(o)&&o.parentNode;while(h&&h!==(Ll.isNode(n.rootTarget)&&n.rootTarget.parentNode)){if(h===e.target)break;h=h.parentNode}var f=!h||h===(Ll.isNode(n.rootTarget)&&n.rootTarget.parentNode);if(f){var p=n.clonePointerEvent(e,"pointerenter");p.eventPhase=p.AT_TARGET;while(p.target&&p.target!==o&&p.target!==(Ll.isNode(n.rootTarget)&&n.rootTarget.parentNode))p.currentTarget=p.target,n.notifyTarget(p),r&&n.notifyTarget(p,"mouseenter"),Ll.isNode(p.target)&&(p.target=p.target.parentNode);n.freeEvent(p)}n.freeEvent(c)}n.dispatchEvent(e,"pointermove"),"touch"===e.pointerType&&n.dispatchEvent(e,"touchmove"),r&&(n.dispatchEvent(e,"mousemove"),n.cursor=n.getCursor(e.target)),i.overTargets=e.composedPath(),n.freeEvent(e)},this.onPointerOut=function(t){var e=n.trackingData(t.pointerId);if(e.overTargets){var r="mouse"===t.pointerType||"pen"===t.pointerType,i=n.findMountedTarget(e.overTargets),o=n.createPointerEvent(t,"pointerout",i||void 0);n.dispatchEvent(o),r&&n.dispatchEvent(o,"mouseout");var a=n.createPointerEvent(t,"pointerleave",i||void 0);a.eventPhase=a.AT_TARGET;while(a.target&&a.target!==(Ll.isNode(n.rootTarget)&&n.rootTarget.parentNode))a.currentTarget=a.target,n.notifyTarget(a),r&&n.notifyTarget(a,"mouseleave"),Ll.isNode(a.target)&&(a.target=a.target.parentNode);e.overTargets=null,n.freeEvent(o),n.freeEvent(a)}n.cursor=null},this.onPointerOver=function(t){var e=n.trackingData(t.pointerId),r=n.createPointerEvent(t),i="mouse"===r.pointerType||"pen"===r.pointerType;n.dispatchEvent(r,"pointerover"),i&&n.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(n.cursor=n.getCursor(r.target));var o=n.clonePointerEvent(r,"pointerenter");o.eventPhase=o.AT_TARGET;while(o.target&&o.target!==(Ll.isNode(n.rootTarget)&&n.rootTarget.parentNode))o.currentTarget=o.target,n.notifyTarget(o),i&&n.notifyTarget(o,"mouseenter"),Ll.isNode(o.target)&&(o.target=o.target.parentNode);e.overTargets=r.composedPath(),n.freeEvent(r),n.freeEvent(o)},this.onPointerUpOutside=function(t){var e=n.trackingData(t.pointerId),r=n.findMountedTarget(e.pressTargetsByButton[t.button]),i=n.createPointerEvent(t);if(r){var o=r;while(o)i.currentTarget=o,n.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType||"mouse"!==i.pointerType&&"pen"!==i.pointerType||n.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),Ll.isNode(o)&&(o=o.parentNode);delete e.pressTargetsByButton[t.button]}n.freeEvent(i)},this.onWheel=function(t){var e=n.createWheelEvent(t);n.dispatchEvent(e),n.freeEvent(e)},this.onClick=function(t){if(n.context.config.useNativeClickEvent){var e=n.createPointerEvent(t);n.dispatchEvent(e),n.freeEvent(e)}},this.onPointerCancel=function(t){var e=n.createPointerEvent(t);n.dispatchEvent(e),n.freeEvent(e)},this.globalRuntime=t,this.context=e}var e=t.prototype;return e.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)},e.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},e.client2Viewport=function(t){var e=this.context.contextService.getBoundingClientRect();return new yl(t.x-((null===e||void 0===e?void 0:e.left)||0),t.y-((null===e||void 0===e?void 0:e.top)||0))},e.viewport2Client=function(t){var e=this.context.contextService.getBoundingClientRect();return new yl(t.x+((null===e||void 0===e?void 0:e.left)||0),t.y+((null===e||void 0===e?void 0:e.top)||0))},e.viewport2Canvas=function(t){var e=t.x,n=t.y,r=this.rootTarget.defaultView,i=r.getCamera(),o=this.context.config,a=o.width,s=o.height,u=i.getPerspectiveInverse(),l=i.getWorldTransform(),c=Cn(this.tmpMatrix,l,u),h=on(this.tmpVec3,e/a*2-1,2*(1-n/s)-1,0);return dn(h,h,c),new yl(h[0],h[1])},e.canvas2Viewport=function(t){var e=this.rootTarget.defaultView,n=e.getCamera(),r=n.getPerspective(),i=n.getViewTransform(),o=Cn(this.tmpMatrix,r,i),a=on(this.tmpVec3,t.x,t.y,0);dn(this.tmpVec3,this.tmpVec3,o);var s=this.context.config,u=s.width,l=s.height;return new yl((a[0]+1)/2*u,(1-(a[1]+1)/2)*l)},e.setPickHandler=function(t){this.pickHandler=t},e.addEventMapping=function(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((function(t,e){return t.priority-e.priority}))},e.mapEvent=function(t){if(this.rootTarget){var e=this.mappingTable[t.type];if(e)for(var n=0,r=e.length;n<r;n++)e[n].fn(t);else console.warn("[EventService]: Event mapping not defined for "+t.type)}},e.dispatchEvent=function(t,e,n){if(n){t.eventPhase=t.AT_TARGET;var r=this.rootTarget.defaultView||null;t.currentTarget=r,this.notifyListeners(t,e)}else t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e);this.emitter.emit(e||t.type,t)},e.propagate=function(t,e){if(t.target){var n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(var r=n.length-1;r>=1;r--)if(t.currentTarget=n[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){var i=n.indexOf(t.currentTarget);t.eventPhase=t.BUBBLING_PHASE;for(var o=i+1;o<n.length;o++)if(t.currentTarget=n[o],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}},e.propagationPath=function(t){var e=[t],n=this.rootTarget.defaultView||null;if(n&&n===t)return e.unshift(n.document),e;for(var r=0;r<zc&&t!==this.rootTarget;r++)Ll.isNode(t)&&t.parentNode&&(e.push(t.parentNode),t=t.parentNode);return n&&e.push(n),e},e.hitTest=function(t){var e=t.viewportX,n=t.viewportY,r=this.context.config,i=r.width,o=r.height;return e<0||n<0||e>i||n>o?null:this.pickHandler(t)||this.rootTarget||null},e.isNativeEventFromCanvas=function(t){var e,n=this.context.contextService.getDomElement(),r=null===(e=t.nativeEvent)||void 0===e?void 0:e.target;if(r){if(r===n)return!0;if(n&&n.contains)return n.contains(r)}return!!t.nativeEvent.composedPath&&t.nativeEvent.composedPath().indexOf(n)>-1},e.getExistedHTML=function(t){if(t.nativeEvent.composedPath)for(var e,n=eo(t.nativeEvent.composedPath());!(e=n()).done;){var r=e.value,i=fh.nativeHTMLMap.get(r);if(i)return i}return null},e.pickTarget=function(t){return this.hitTest({clientX:t.clientX,clientY:t.clientY,viewportX:t.viewportX,viewportY:t.viewportY,x:t.canvasX,y:t.canvasY})},e.createPointerEvent=function(t,e,n){var r=this.allocateEvent(zl);this.copyPointerData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.nativeEvent=t.nativeEvent,r.originalEvent=t;var i=this.getExistedHTML(r);return r.target=null!==n&&void 0!==n?n:i||this.isNativeEventFromCanvas(r)&&this.pickTarget(r),"string"===typeof e&&(r.type=e),r},e.createWheelEvent=function(t){var e=this.allocateEvent(Xl);this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t;var n=this.getExistedHTML(e);return e.target=n||this.isNativeEventFromCanvas(e)&&this.pickTarget(e),e},e.trackingData=function(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]},e.cloneWheelEvent=function(t){var e=this.allocateEvent(Xl);return e.nativeEvent=t.nativeEvent,e.originalEvent=t.originalEvent,this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.target=t.target,e.path=t.composedPath().slice(),e.type=t.type,e},e.clonePointerEvent=function(t,e){var n=this.allocateEvent(zl);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=null!==e&&void 0!==e?e:n.type,n},e.copyPointerData=function(t,e){e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist},e.copyMouseData=function(t,e){e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.client.copyFrom(t.client),e.movement.copyFrom(t.movement),e.canvas.copyFrom(t.canvas),e.screen.copyFrom(t.screen),e.global.copyFrom(t.global),e.offset.copyFrom(t.offset)},e.copyWheelData=function(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ},e.copyData=function(t,e){e.isTrusted=t.isTrusted,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.page.copyFrom(t.page),e.viewport.copyFrom(t.viewport)},e.allocateEvent=function(t){this.eventPool.has(t)||this.eventPool.set(t,[]);var e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=[],e.target=null,e},e.freeEvent=function(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)},e.notifyTarget=function(t,e){var n;e=null!==(n=e)&&void 0!==n?n:t.type;var r=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?e+"capture":e;this.notifyListeners(t,r),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)},e.notifyListeners=function(t,e){var n=t.currentTarget.emitter,r=n._events[e];if(r)if("fn"in r)r.once&&n.removeListener(e,r.fn,void 0,!0),r.fn.call(t.currentTarget||r.context,t);else for(var i=0;i<r.length&&!t.propagationImmediatelyStopped;i++)r[i].once&&n.removeListener(e,r[i].fn,void 0,!0),r[i].fn.call(t.currentTarget||r[i].context,t)},e.findMountedTarget=function(t){if(!t)return null;for(var e=t[t.length-1],n=t.length-2;n>=0;n--){var r=t[n];if(!(r===this.rootTarget||Ll.isNode(r)&&r.parentNode===e))break;e=t[n]}return e},e.getCursor=function(t){var e=t;while(e){var n=Yl.isElement(e)&&e.getAttribute("cursor");if(n)return n;e=Ll.isNode(e)&&e.parentNode}},t}(),Vc=function(){function t(){this.canvas=void 0,this.context=void 0}var e=t.prototype;return e.getOrCreateCanvas=function(t,e){if(this.canvas)return this.canvas;if(t)this.canvas=t,this.context=this.canvas.getContext("2d",e);else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",e),this.context&&this.context.measureText||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",e)}return this.canvas.width=10,this.canvas.height=10,this.canvas},e.getOrCreateContext=function(t,e){return this.context||this.getOrCreateCanvas(t,e),this.context},t}();(function(t){t[t["CAMERA_CHANGED"]=0]="CAMERA_CHANGED",t[t["DISPLAY_OBJECT_CHANGED"]=1]="DISPLAY_OBJECT_CHANGED",t[t["NONE"]=2]="NONE"})(Lc||(Lc={}));var Uc=function(){function t(t,e){this.globalRuntime=void 0,this.context=void 0,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.renderOrderChangedEvent=new Cl(Rl.RENDER_ORDER_CHANGED),this.hooks={init:new ps,dirtycheck:new Cs(["object"]),cull:new Cs(["object","camera"]),beginFrame:new Es([]),beforeRender:new Es(["objectToRender"]),render:new Es(["objectToRender"]),afterRender:new Es(["objectToRender"]),endFrame:new Es([]),destroy:new Es([]),pick:new gs(["result"]),pickSync:new Cs(["result"]),pointerDown:new Es(["event"]),pointerUp:new Es(["event"]),pointerMove:new Es(["event"]),pointerOut:new Es(["event"]),pointerOver:new Es(["event"]),pointerWheel:new Es(["event"]),pointerCancel:new Es(["event"]),click:new Es(["event"])},this.globalRuntime=t,this.context=e}var e=t.prototype;return e.init=function(){var t=Vi(zi().mark((function t(){var e;return zi().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=qi({},this.globalRuntime,this.context),this.context.renderingPlugins.forEach((function(t){t.apply(e,fh)})),t.next=4,this.hooks.init.promise();case 4:this.inited=!0;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),e.getStats=function(){return this.stats},e.disableDirtyRectangleRendering=function(){var t=this.context.config.renderer,e=t.getConfig(),n=e.enableDirtyRectangleRendering;return!n||this.context.renderingContext.renderReasons.has(Lc.CAMERA_CHANGED)},e.render=function(t,e){var n=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var r=this.context.renderingContext;this.globalRuntime.sceneGraphService.syncHierarchy(r.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),r.renderReasons.size&&this.inited&&(this.renderDisplayObject(r.root,t,r),this.hooks.beginFrame.call(),r.renderListCurrentFrame.forEach((function(t){n.hooks.beforeRender.call(t),n.hooks.render.call(t),n.hooks.afterRender.call(t)})),this.hooks.endFrame.call(),r.renderListCurrentFrame=[],r.renderReasons.clear(),e())},e.renderDisplayObject=function(t,e,n){var r=this,i=e.renderer.getConfig(),o=i.enableDirtyCheck,a=i.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(t);var s=o?this.hooks.dirtycheck.call(t):t;if(s){var u=a?this.hooks.cull.call(s,this.context.camera):s;u&&(this.stats.rendered++,n.renderListCurrentFrame.push(u))}t.renderable.dirty=!1,t.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var l=t.sortable,c=!1;l.dirty&&(l.sorted=t.childNodes.slice().sort(qo),c=!0,l.dirty=!1),(l.sorted||t.childNodes).forEach((function(t){r.renderDisplayObject(t,e,n)})),c&&t.forEach((function(t){r.renderOrderChangedEvent.target=t,r.renderOrderChangedEvent.detail={renderOrder:t.sortable.renderOrder},t.ownerDocument.defaultView.dispatchEvent(r.renderOrderChangedEvent,!0)}))},e.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},e.dirtify=function(){this.context.renderingContext.renderReasons.add(Lc.DISPLAY_OBJECT_CHANGED)},t}(),Hc=/\[\s*(.*)=(.*)\s*\]/,qc=function(){function t(){}var e=t.prototype;return e.selectOne=function(t,e){var n=this;if(t.startsWith("."))return e.find((function(e){return((null===e||void 0===e?void 0:e.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.find((function(e){return e.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.find((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):null}return e.find((function(n){return e!==n&&n.nodeName===t}))},e.selectAll=function(t,e){var n=this;if(t.startsWith("."))return e.findAll((function(r){return e!==r&&((null===r||void 0===r?void 0:r.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.findAll((function(r){return e!==r&&r.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.findAll((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):[]}return e.findAll((function(n){return e!==n&&n.nodeName===t}))},e.is=function(t,e){if(t.startsWith("."))return e.className===this.getIdOrClassname(t);if(t.startsWith("#"))return e.id===this.getIdOrClassname(t);if(t.startsWith("[")){var n=this.getAttribute(t),r=n.name,i=n.value;return"name"===r?e.name===i:this.attributeToString(e,r)===i}return e.nodeName===t},e.getIdOrClassname=function(t){return t.substring(1)},e.getAttribute=function(t){var e=t.match(Hc),n="",r="";return e&&e.length>2&&(n=e[1].replace(/"/g,""),r=e[2].replace(/"/g,"")),{name:n,value:r}},e.attributeToString=function(t,e){if(!t.getAttribute)return"";var n=t.getAttribute(e);return Ht(n)?"":n.toString?n.toString():""},t}();function Kc(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}var Zc=new Dl(Rl.REPARENT,null,"","","",0,"",""),$c=function(){function t(t){var e=this;this.runtime=void 0,this.pendingEvents=[],this.boundsChangedEvent=new Cl(Rl.BOUNDS_CHANGED),this.rotate=function(){var t=Mr();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=nn(r,i,o));var a=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){var s=Mr();Nr(s,r[0],r[1],r[2]);var u=e.getRotation(n),l=e.getRotation(n.parentNode);Lr(t,l),Or(t,t),Tr(s,t,s),Tr(a.localRotation,s,u),Rr(a.localRotation,a.localRotation),e.dirtifyLocal(n,a)}else e.rotateLocal(n,r)}}(),this.rotateLocal=function(){var t=Mr();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=nn(r,i,o));var a=n.transformable;Nr(t,r[0],r[1],r[2]),_r(a.localRotation,a.localRotation,t),e.dirtifyLocal(n,a)}}(),this.setEulerAngles=function(){var t=Mr();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=nn(r,i,o));var a=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){Nr(a.localRotation,r[0],r[1],r[2]);var s=e.getRotation(n.parentNode);Lr(t,Or(Mr(),s)),_r(a.localRotation,a.localRotation,t),e.dirtifyLocal(n,a)}else e.setLocalEulerAngles(n,r)}}(),this.translateLocal=function(){return function(t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0),"number"===typeof n&&(n=nn(n,r,i));var o=t.transformable;gn(n,Qe())||(yn(n,n,o.localRotation),an(o.localPosition,o.localPosition,n),e.dirtifyLocal(t,o))}}(),this.setPosition=function(){var t=xn(),n=Qe();return function(r,i){var o=r.transformable;if(n[0]=i[0],n[1]=i[1],n[2]=i[2]||0,!gn(e.getPosition(r),n)){if(rn(o.position,n),null!==r.parentNode&&r.parentNode.transformable){var a=r.parentNode.transformable;wn(t,a.worldTransform),Tn(t,t),dn(o.localPosition,n,t)}else rn(o.localPosition,n);e.dirtifyLocal(r,o)}}}(),this.setLocalPosition=function(){var t=Qe();return function(n,r){var i=n.transformable;t[0]=r[0],t[1]=r[1],t[2]=r[2]||0,gn(i.localPosition,t)||(rn(i.localPosition,t),e.dirtifyLocal(n,i))}}(),this.translate=function(){var t=Qe(),n=Qe(),r=Qe();return function(i,o,a,s){void 0===a&&(a=0),void 0===s&&(s=0),"number"===typeof o&&(o=on(n,o,a,s)),gn(o,t)||(an(r,e.getPosition(i),o),e.setPosition(i,r))}}(),this.setRotation=function(){var t=Mr();return function(n,r,i,o,a){var s=n.transformable;if("number"===typeof r&&(r=Ar(r,i,o,a)),null!==n.parentNode&&n.parentNode.transformable){var u=e.getRotation(n.parentNode);Lr(t,u),Or(t,t),Tr(s.localRotation,t,r),Rr(s.localRotation,s.localRotation),e.dirtifyLocal(n,s)}else e.setLocalRotation(n,r)}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var t=xn(),e=Qe(),n=Ar(0,0,0,1);return function(r){var i=0!==r.localSkew[0]||0!==r.localSkew[1];if(i){if(qn(r.localTransform,r.localRotation,r.localPosition,nn(1,1,1),r.origin),0!==r.localSkew[0]||0!==r.localSkew[1]){var o=Mn(t);o[4]=Math.tan(r.localSkew[0]),o[1]=Math.tan(r.localSkew[1]),Cn(r.localTransform,r.localTransform,o)}var a=qn(t,n,e,r.localScale,r.origin);Cn(r.localTransform,r.localTransform,a)}else qn(r.localTransform,r.localRotation,r.localPosition,r.localScale,r.origin)}}(),this.runtime=t}var e=t.prototype;return e.matches=function(t,e){return this.runtime.sceneGraphSelector.is(t,e)},e.querySelector=function(t,e){return this.runtime.sceneGraphSelector.selectOne(t,e)},e.querySelectorAll=function(t,e){return this.runtime.sceneGraphSelector.selectAll(t,e)},e.attach=function(t,e,n){var r,i,o=!1;t.parentNode&&(o=t.parentNode!==e,this.detach(t)),t.parentNode=e,Ht(n)?t.parentNode.childNodes.push(t):t.parentNode.childNodes.splice(n,0,t);var a=e.sortable;((null===a||void 0===a||null===(r=a.sorted)||void 0===r?void 0:r.length)||(null===(i=t.style)||void 0===i?void 0:i.zIndex))&&(a.dirty=!0);var s=t.transformable;s&&this.dirtifyWorld(t,s),s.frozen&&this.unfreezeParentToRoot(t),o&&t.dispatchEvent(Zc)},e.detach=function(t){if(t.parentNode){var e,n,r=t.transformable,i=t.parentNode.sortable;((null===i||void 0===i||null===(e=i.sorted)||void 0===e?void 0:e.length)||(null===(n=t.style)||void 0===n?void 0:n.zIndex))&&(i.dirty=!0);var o=t.parentNode.childNodes.indexOf(t);o>-1&&t.parentNode.childNodes.splice(o,1),r&&this.dirtifyWorld(t,r),t.parentNode=null}},e.getOrigin=function(t){return t.transformable.origin},e.setOrigin=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),"number"===typeof e&&(e=[e,n,r]);var i=t.transformable;if(e[0]!==i.origin[0]||e[1]!==i.origin[1]||e[2]!==i.origin[2]){var o=i.origin;o[0]=e[0],o[1]=e[1],o[2]=e[2]||0,this.dirtifyLocal(t,i)}},e.setLocalEulerAngles=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),"number"===typeof e&&(e=nn(e,n,r));var i=t.transformable;Nr(i.localRotation,e[0],e[1],e[2]),this.dirtifyLocal(t,i)},e.scaleLocal=function(t,e){var n=t.transformable;un(n.localScale,n.localScale,nn(e[0],e[1],e[2]||1)),this.dirtifyLocal(t,n)},e.setLocalScale=function(t,e){var n=t.transformable,r=nn(e[0],e[1],e[2]||n.localScale[2]);gn(r,n.localScale)||(rn(n.localScale,r),this.dirtifyLocal(t,n))},e.setLocalRotation=function(t,e,n,r,i){"number"===typeof e&&(e=Ar(e,n,r,i));var o=t.transformable;Lr(o.localRotation,e),this.dirtifyLocal(t,o)},e.setLocalSkew=function(t,e,n){"number"===typeof e&&(e=Dr(e,n));var r=t.transformable;Fr(r.localSkew,e),this.dirtifyLocal(t,r)},e.dirtifyLocal=function(t,e){e.localDirtyFlag||(e.localDirtyFlag=!0,e.dirtyFlag||this.dirtifyWorld(t,e))},e.dirtifyWorld=function(t,e){e.dirtyFlag||this.unfreezeParentToRoot(t),this.dirtifyWorldInternal(t,e),this.dirtifyToRoot(t,!0)},e.triggerPendingEvents=function(){var t=this,e=new Set,n=function(n,r){n.isConnected&&!e.has(n.entity)&&(t.boundsChangedEvent.detail=r,t.boundsChangedEvent.target=n,n.isMutationObserved?n.dispatchEvent(t.boundsChangedEvent):n.ownerDocument.defaultView.dispatchEvent(t.boundsChangedEvent,!0),e.add(n.entity))};this.pendingEvents.forEach((function(t){var e=t[0],r=t[1];r.affectChildren?e.forEach((function(t){n(t,r)})):n(e,r)})),this.clearPendingEvents(),e.clear()},e.clearPendingEvents=function(){this.pendingEvents=[]},e.dirtifyToRoot=function(t,e){void 0===e&&(e=!1);var n=t;n.renderable&&(n.renderable.dirty=!0);while(n)Kc(n),n=n.parentNode;e&&t.forEach((function(t){Kc(t)})),this.informDependentDisplayObjects(t),this.pendingEvents.push([t,{affectChildren:e}])},e.updateDisplayObjectDependency=function(t,e,n,r){if(e&&e!==n){var i=this.displayObjectDependencyMap.get(e);if(i&&i[t]){var o=i[t].indexOf(r);i[t].splice(o,1)}}if(n){var a=this.displayObjectDependencyMap.get(n);a||(this.displayObjectDependencyMap.set(n,{}),a=this.displayObjectDependencyMap.get(n)),a[t]||(a[t]=[]),a[t].push(r)}},e.informDependentDisplayObjects=function(t){var e=this,n=this.displayObjectDependencyMap.get(t);n&&Object.keys(n).forEach((function(t){n[t].forEach((function(n){e.dirtifyToRoot(n,!0),n.dispatchEvent(new Dl(Rl.ATTR_MODIFIED,n,e,e,t,Dl.MODIFICATION,e,e)),n.isCustomElement&&n.isConnected&&n.attributeChangedCallback&&n.attributeChangedCallback(t,e,e)}))}))},e.getPosition=function(t){var e=t.transformable;return Xn(e.position,this.getWorldTransform(t,e))},e.getRotation=function(t){var e=t.transformable;return Un(e.rotation,this.getWorldTransform(t,e))},e.getScale=function(t){var e=t.transformable;return Vn(e.scaling,this.getWorldTransform(t,e))},e.getWorldTransform=function(t,e){return void 0===e&&(e=t.transformable),e.localDirtyFlag||e.dirtyFlag?(t.parentNode&&t.parentNode.transformable&&this.getWorldTransform(t.parentNode),this.sync(t,e),e.worldTransform):e.worldTransform},e.getLocalPosition=function(t){return t.transformable.localPosition},e.getLocalRotation=function(t){return t.transformable.localRotation},e.getLocalScale=function(t){return t.transformable.localScale},e.getLocalSkew=function(t){return t.transformable.localSkew},e.getLocalTransform=function(t){var e=t.transformable;return e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.localTransform},e.setLocalTransform=function(t,e){var n=Xn(Qe(),e),r=Un(Mr(),e),i=Vn(Qe(),e);this.setLocalScale(t,i),this.setLocalPosition(t,n),this.setLocalRotation(t,r)},e.resetLocalTransform=function(t){this.setLocalScale(t,[1,1,1]),this.setLocalPosition(t,[0,0,0]),this.setLocalEulerAngles(t,[0,0,0]),this.setLocalSkew(t,[0,0])},e.getTransformedGeometryBounds=function(t,e,n){void 0===e&&(e=!1);var r=this.getGeometryBounds(t,e);if(pl.isEmpty(r))return null;var i=n||new pl;return i.setFromTransformedAABB(r,this.getWorldTransform(t)),i},e.getGeometryBounds=function(t,e){void 0===e&&(e=!1);var n=t.geometry,r=e?n.renderBounds:n.contentBounds||null;return r||new pl},e.getBounds=function(t,e){var n=this;void 0===e&&(e=!1);var r=t.renderable;if(!r.boundsDirty&&!e&&r.bounds)return r.bounds;if(!r.renderBoundsDirty&&e&&r.renderBounds)return r.renderBounds;var i=e?r.renderBounds:r.bounds,o=this.getTransformedGeometryBounds(t,e,i),a=t.childNodes;if(a.forEach((function(t){var r=n.getBounds(t,e);r&&(o?o.add(r):(o=i||new pl,o.update(r.center,r.halfExtents)))})),e){var s=Ko(t);if(s){var u=s.parsedStyle.clipPath.getBounds(e);o?u&&(o=u.intersection(o)):o=u}}return o||(o=new pl),o&&(e?r.renderBounds=o:r.bounds=o),e?r.renderBoundsDirty=!1:r.boundsDirty=!1,o},e.getLocalBounds=function(t){if(t.parentNode){var e=xn();t.parentNode.transformable&&(e=Tn(xn(),this.getWorldTransform(t.parentNode)));var n=this.getBounds(t);if(!pl.isEmpty(n)){var r=new pl;return r.setFromTransformedAABB(n,e),r}}return this.getBounds(t)},e.getBoundingClientRect=function(t){var e,n,r,i=this.getGeometryBounds(t);pl.isEmpty(i)||(r=new pl,r.setFromTransformedAABB(i,this.getWorldTransform(t)));var o=null===(e=t.ownerDocument)||void 0===e||null===(n=e.defaultView)||void 0===n?void 0:n.getContextService().getBoundingClientRect();if(r){var a=r.getMin(),s=a[0],u=a[1],l=r.getMax(),c=l[0],h=l[1];return new gl(s+((null===o||void 0===o?void 0:o.left)||0),u+((null===o||void 0===o?void 0:o.top)||0),c-s,h-u)}return new gl((null===o||void 0===o?void 0:o.left)||0,(null===o||void 0===o?void 0:o.top)||0,0,0)},e.dirtifyWorldInternal=function(t,e){var n=this;if(!e.dirtyFlag){e.dirtyFlag=!0,e.frozen=!1,t.childNodes.forEach((function(t){var e=t.transformable;e.dirtyFlag||n.dirtifyWorldInternal(t,e)}));var r=t.renderable;r&&(r.renderBoundsDirty=!0,r.boundsDirty=!0,r.dirty=!0)}},e.syncHierarchy=function(t){var e=t.transformable;if(!e.frozen){e.frozen=!0,(e.localDirtyFlag||e.dirtyFlag)&&this.sync(t,e);for(var n=t.childNodes,r=0;r<n.length;r++)this.syncHierarchy(n[r])}},e.sync=function(t,e){if(e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.dirtyFlag){var n=t.parentNode,r=n&&n.transformable;null!==n&&r?Cn(e.worldTransform,r.worldTransform,e.localTransform):wn(e.worldTransform,e.localTransform),e.dirtyFlag=!1}},e.unfreezeParentToRoot=function(t){var e=t.parentNode;while(e){var n=e.transformable;n&&(n.frozen=!1),e=e.parentNode}},t}(),Jc={MetricsString:"|\xc9q\xc5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Qc=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,th=/[!%),.:;?\]}\xa2\xb0\xb7'""\u2020\u2021\u203a\u2103\u2236\u3001\u3002\u3003\u3006\u3015\u3017\u301e\ufe5a\ufe5c\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff3d\uff5d\uff5e]/,eh=/[$(\xa3\xa5\xb7'"\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]/,nh=/[!),.:;?\]}\xa2\xb7\u2013\u2014'"\u2022"\u3001\u3002\u3006\u301e\u3015\u3009\u300b\u300d\ufe30\ufe31\ufe32\ufe33\ufe50\ufe51\ufe52\ufe53\ufe54\ufe55\ufe56\ufe58\ufe5a\ufe5c\uff01\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe57\uff3d\uff5c\uff5d\uff64]/,rh=/[([{\xa3\xa5'"\u2035\u3008\u300a\u300c\u300e\u3014\u301d\ufe34\ufe59\ufe5b\uff08\uff5b\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe4f]/,ih=/[)\]\uff5d\u3015\u3009\u300b\u300d\u300f\u3011\u3019\u3017\u301f'"\uff60\xbb\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\u2010\u30a0\u2013\u301c?!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.]/,oh=/[([\uff5b\u3014\u3008\u300a\u300c\u300e\u3010\u3018\u3016\u301d'"\uff5f\xab\u2014...\u2025\u3033\u3034\u3035]/,ah=/[!%),.:;?\]}\xa2\xb0'"\u2020\u2021\u2103\u3006\u3008\u300a\u300c\u300e\u3015\uff01\uff05\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff5d]/,sh=/[$([{\xa3\xa5'"\u3005\u3007\u3009\u300b\u300d\u3014\uff04\uff08\uff3b\uff5b\uff60\uffe5\uffe6#]/,uh=new RegExp(th.source+"|"+nh.source+"|"+ih.source+"|"+ah.source),lh=new RegExp(eh.source+"|"+rh.source+"|"+oh.source+"|"+sh.source),ch=function(){function t(t){var e=this;this.runtime=void 0,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(t,n){return!e.isBreakingSpace(n)&&!(!t||!lh.exec(n)&&!uh.exec(t))},this.trimByKinsokuShorui=function(t){var e=[].concat(t),n=e[e.length-2];if(!n)return t;var r=n[n.length-1];return e[e.length-2]=n.slice(0,-1),e[e.length-1]=r+e[e.length-1],e},this.runtime=t}var e=t.prototype;return e.measureFont=function(t,e){if(this.fontMetricsCache[t])return this.fontMetricsCache[t];var n={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvas.getOrCreateCanvas(e),i=this.runtime.offscreenCanvas.getOrCreateContext(e);i.font=t;var o=Jc.MetricsString+Jc.BaselineSymbol,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(Jc.BaselineSymbol).width),u=Jc.HeightMultiplier*s;s=s*Jc.BaselineMultiplier|0,r.width=a,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a||1,u||1).data,c=l.length,h=4*a,f=0,p=0,d=!1;for(f=0;f<s;++f){for(var v=0;v<h;v+=4)if(255!==l[p+v]){d=!0;break}if(d)break;p+=h}for(n.ascent=s-f,p=c-h,d=!1,f=u;f>s;--f){for(var y=0;y<h;y+=4)if(255!==l[p+y]){d=!0;break}if(d)break;p-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,this.fontMetricsCache[t]=n,n},e.measureText=function(t,e,n){var r=e.fontSize,i=e.wordWrap,o=e.lineHeight,a=e.lineWidth,s=e.textBaseline,u=e.textAlign,l=e.letterSpacing,c=e.textPath,h=(e.textPathSide,e.textPathStartOffset,e.leading),f=void 0===h?0:h,p=Ls(e),d=this.measureFont(p,n);0===d.fontSize&&(d.fontSize=r,d.ascent=r);var v=this.runtime.offscreenCanvas.getOrCreateContext(n);v.font=p,e.isOverflowing=!1;var y=i?this.wordWrap(t,e,n):t,g=y.split(/(?:\r\n|\r|\n)/),m=new Array(g.length),x=0;if(!c){for(var b=0;b<g.length;b++){var w=v.measureText(g[b]).width+(g[b].length-1)*l;m[b]=w,x=Math.max(x,w)}var k=x+a,E=o||d.fontSize+a,M=Math.max(E,d.fontSize+a)+(g.length-1)*(E+f);E+=f;var S=0;return"middle"===s?S=-M/2:"bottom"===s||"alphabetic"===s||"ideographic"===s?S=-M:"top"!==s&&"hanging"!==s||(S=0),{font:p,width:k,height:M,lines:g,lineWidths:m,lineHeight:E,maxLineWidth:x,fontProperties:d,lineMetrics:m.map((function(t,e){var n=0;return"center"===u||"middle"===u?n-=t/2:"right"!==u&&"end"!==u||(n-=t),new gl(n-a/2,S+e*E,t+a,E)}))}}c.getTotalLength();for(var T=0;T<g.length;T++)v.measureText(g[T]).width,g[T].length},e.setGraphemeOnPath=function(){},e.wordWrap=function(t,e,n){var r=this,i=e.wordWrapWidth,o=void 0===i?0:i,a=e.letterSpacing,s=e.maxLines,u=void 0===s?1/0:s,l=e.textOverflow,c=this.runtime.offscreenCanvas.getOrCreateContext(n),h=o+a,f="";"ellipsis"===l?f="...":l&&"clip"!==l&&(f=l);for(var p=[],d=0,v=0,y={},g=function(t){return r.getFromCache(t,a,y,c)},m=Array.from(f).reduce((function(t,e){return t+g(e)}),0),x=Array.from(t),b=0;b<x.length;b++){var w=x[b],k=t[b-1],E=t[b+1],M=g(w);if(this.isNewline(w)){if(d++,d>=u){e.isOverflowing=!0;break}v=0,p[d]=""}else{if(v>0&&v+M>h){if(d+1>=u){if(e.isOverflowing=!0,m>0&&m<=h){for(var S=p[d].length,T=0,P=S,O=0;O<S;O++){var C=g(p[d][O]);if(T+C+m>h){P=O;break}T+=C}p[d]=(p[d]||"").slice(0,P)+f}break}if(d++,v=0,p[d]="",this.isBreakingSpace(w))continue;this.canBreakInLastChar(w)||(p=this.trimToBreakable(p),v=this.sumTextWidthByCache(p[d]||"",y)),this.shouldBreakByKinsokuShorui(w,E)&&(p=this.trimByKinsokuShorui(p),v+=g(k||""))}v+=M,p[d]=(p[d]||"")+w}}return p.join("\n")},e.isBreakingSpace=function(t){return"string"===typeof t&&Jc.BreakingSpaces.indexOf(t.charCodeAt(0))>=0},e.isNewline=function(t){return"string"===typeof t&&Jc.Newlines.indexOf(t.charCodeAt(0))>=0},e.trimToBreakable=function(t){var e=[].concat(t),n=e[e.length-2],r=this.findBreakableIndex(n);if(-1===r||!n)return e;var i=n.slice(r,r+1),o=this.isBreakingSpace(i),a=r+1,s=r+(o?0:1);return e[e.length-1]+=n.slice(a,n.length),e[e.length-2]=n.slice(0,s),e},e.canBreakInLastChar=function(t){return!t||!Qc.test(t)},e.sumTextWidthByCache=function(t,e){return t.split("").reduce((function(t,n){if(!e[n])throw Error("cannot count the word without cache");return t+e[n]}),0)},e.findBreakableIndex=function(t){for(var e=t.length-1;e>=0;e--)if(!Qc.test(t[e]))return e;return-1},e.getFromCache=function(t,e,n,r){var i=n[t];if("number"!==typeof i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t}(),hh=void 0,fh={},ph=function(){var t,e=new Yc,n=new Gc;return t={},t[_a.CIRCLE]=new Dc,t[_a.ELLIPSE]=new Fc,t[_a.RECT]=e,t[_a.IMAGE]=e,t[_a.GROUP]=e,t[_a.LINE]=new jc,t[_a.TEXT]=new Wc(fh),t[_a.POLYLINE]=n,t[_a.POLYGON]=n,t[_a.PATH]=new Bc,t[_a.HTML]=null,t[_a.MESH]=null,t}(),dh=function(){var t,e=new el,n=new ol;return t={},t[Ii.PERCENTAGE]=null,t[Ii.NUMBER]=new cl,t[Ii.ANGLE]=new Qu,t[Ii.DEFINED_PATH]=new tl,t[Ii.PAINT]=e,t[Ii.COLOR]=e,t[Ii.FILTER]=new nl,t[Ii.LENGTH]=n,t[Ii.LENGTH_PERCENTAGE]=n,t[Ii.LENGTH_PERCENTAGE_12]=new al,t[Ii.LENGTH_PERCENTAGE_14]=new sl,t[Ii.COORDINATE]=new ul,t[Ii.OFFSET_DISTANCE]=new hl,t[Ii.OPACITY_VALUE]=new fl,t[Ii.PATH]=new ml,t[Ii.LIST_OF_POINTS]=new xl,t[Ii.SHADOW_BLUR]=new bl,t[Ii.TEXT]=new wl,t[Ii.TEXT_TRANSFORM]=new kl,t[Ii.TRANSFORM]=new El,t[Ii.TRANSFORM_ORIGIN]=new Ml,t[Ii.Z_INDEX]=new Sl,t[Ii.MARKER]=new ll,t}(),vh=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof i.g)return i.g;if("undefined"!==typeof hh)return hh;throw new Error("Unable to locate global `this`")};fh.CameraContribution=Ic,fh.AnimationTimeline=null,fh.EasingFunction=null,fh.offscreenCanvas=new Vc,fh.nativeHTMLMap=new WeakMap,fh.sceneGraphSelector=new qc,fh.sceneGraphService=new $c(fh),fh.textService=new ch(fh),fh.geometryUpdaterFactory=ph,fh.CSSPropertySyntaxFactory=dh,fh.styleValueRegistry=new Ac,fh.layoutRegistry=null,fh.globalThis=vh(),fh.enableCSSParsing=!0;var yh=function(){function t(){this.context=void 0,this.plugins=[]}var e=t.prototype;return e.addRenderingPlugin=function(t){this.plugins.push(t),this.context.renderingPlugins.push(t)},e.removeAllRenderingPlugins=function(){var t=this;this.plugins.forEach((function(e){var n=t.context.renderingPlugins.indexOf(e);n>=0&&t.context.renderingPlugins.splice(n,1)}))},t}(),gh=function(){function t(t){this.plugins=[],this.config=void 0,this.config=qi({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1},t)}var e=t.prototype;return e.registerPlugin=function(t){var e=this.plugins.findIndex((function(e){return e===t}));-1===e&&this.plugins.push(t)},e.unregisterPlugin=function(t){var e=this.plugins.findIndex((function(e){return e===t}));e>-1&&this.plugins.splice(e,1)},e.getPlugins=function(){return this.plugins},e.getPlugin=function(t){return this.plugins.find((function(e){return e.name===t}))},e.getConfig=function(){return this.config},e.setConfig=function(t){Object.assign(this.config,t)},t}(),mh=function(){function t(t){this.strategies=void 0,this.strategies=t}var e=t.prototype;return e.apply=function(e){var n=e.camera,r=e.renderingService,i=e.renderingContext,o=this.strategies;r.hooks.cull.tap(t.tag,(function(t){if(t){var e=t.cullable;return 0===o.length?e.visible=i.unculledEntities.indexOf(t.entity)>-1:e.visible=o.every((function(e){return e.isVisible(n,t)})),!t.isCulled()&&t.isVisible()?t:(t.dispatchEvent(new Cl(Rl.CULLED)),null)}return t})),r.hooks.afterRender.tap(t.tag,(function(t){t.cullable.visibilityPlaneMask=-1}))},t}();mh.tag="Culling";var xh=function(){function t(){}var e=t.prototype;return e.apply=function(e){var n=e.renderingService;n.hooks.dirtycheck.tap(t.tag,(function(t){if(t){var e=t.renderable,r=e.dirty||n.disableDirtyRectangleRendering();return r?t:null}return t}))},t}();xh.tag="DirtyCheck";var bh=function(){function t(){var t=this;this.autoPreventDefault=!1,this.rootPointerEvent=new zl(null),this.rootWheelEvent=new Xl(null),this.context=void 0,this.onPointerMove=function(e){var n,r,i=null===(n=t.context.renderingContext.root)||void 0===n||null===(r=n.ownerDocument)||void 0===r?void 0:r.defaultView;if(!i.supportsTouchEvents||"touch"!==e.pointerType){for(var o,a=t.normalizeToPointerEvent(e,i),s=eo(a);!(o=s()).done;){var u=o.value,l=t.bootstrapEvent(t.rootPointerEvent,u,i,e);t.context.eventService.mapEvent(l)}t.setCursor(t.context.eventService.cursor)}}}var e=t.prototype;return e.apply=function(e){var n=this;this.context=e;var r=e.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler((function(t){var e=n.context.renderingService.hooks.pickSync.call({position:t,picked:[],topmost:!0}),r=e.picked;return r[0]||null})),r.hooks.pointerWheel.tap(t.tag,(function(t){var e=n.normalizeWheelEvent(t);n.context.eventService.mapEvent(e)})),r.hooks.pointerDown.tap(t.tag,(function(t){if(!i.supportsTouchEvents||"touch"!==t.pointerType){var e=n.normalizeToPointerEvent(t,i);if(n.autoPreventDefault&&e[0].isNormalized){var r=t.cancelable||!("cancelable"in t);r&&t.preventDefault()}for(var o,a=eo(e);!(o=a()).done;){var s=o.value,u=n.bootstrapEvent(n.rootPointerEvent,s,i,t);n.context.eventService.mapEvent(u)}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerUp.tap(t.tag,(function(t){if(!i.supportsTouchEvents||"touch"!==t.pointerType){var e=n.context.contextService.getDomElement(),r="outside";try{r=e&&t.target&&t.target!==e&&e.contains&&!e.contains(t.target)?"outside":""}catch(Hd){}for(var o,a=n.normalizeToPointerEvent(t,i),s=eo(a);!(o=s()).done;){var u=o.value,l=n.bootstrapEvent(n.rootPointerEvent,u,i,t);l.type+=r,n.context.eventService.mapEvent(l)}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerMove.tap(t.tag,this.onPointerMove),r.hooks.pointerOver.tap(t.tag,this.onPointerMove),r.hooks.pointerOut.tap(t.tag,this.onPointerMove),r.hooks.click.tap(t.tag,this.onPointerMove),r.hooks.pointerCancel.tap(t.tag,(function(t){for(var e,r=n.normalizeToPointerEvent(t,i),o=eo(r);!(e=o()).done;){var a=e.value,s=n.bootstrapEvent(n.rootPointerEvent,a,i,t);n.context.eventService.mapEvent(s)}n.setCursor(n.context.eventService.cursor)}))},e.getViewportXY=function(t){var e,n,r=t.offsetX,i=t.offsetY,o=t.clientX,a=t.clientY;if(!this.context.config.supportsCSSTransform||Ht(r)||Ht(i)){var s=this.context.eventService.client2Viewport(new yl(o,a));e=s.x,n=s.y}else e=r,n=i;return{x:e,y:n}},e.bootstrapEvent=function(t,e,n,r){t.view=n,t.originalEvent=null,t.nativeEvent=r,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);var i=this.getViewportXY(e),o=i.x,a=i.y;t.viewport.x=o,t.viewport.y=a;var s=this.context.eventService.viewport2Canvas(t.viewport),u=s.x,l=s.y;return t.canvas.x=u,t.canvas.y=l,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=r.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=ra[t.type]||t.type),t},e.normalizeWheelEvent=function(t){var e=this.rootWheelEvent;this.transferMouseData(e,t),e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ;var n=this.getViewportXY(t),r=n.x,i=n.y;e.viewport.x=r,e.viewport.y=i;var o=this.context.eventService.viewport2Canvas(e.viewport),a=o.x,s=o.y;return e.canvas.x=a,e.canvas.y=s,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.nativeEvent=t,e.type=t.type,e},e.transferMouseData=function(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.ctrlKey=e.ctrlKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.screen.x=e.screenX,t.screen.y=e.screenY,t.relatedTarget=null},e.setCursor=function(t){this.context.contextService.applyCursorStyle(t||this.context.config.cursor||"default")},e.normalizeToPointerEvent=function(t,e){var n=[];if(e.isTouchEvent(t))for(var r=0;r<t.changedTouches.length;r++){var i=t.changedTouches[r];ye(i.button)&&(i.button=0),ye(i.buttons)&&(i.buttons=1),ye(i.isPrimary)&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),ye(i.width)&&(i.width=i.radiusX||1),ye(i.height)&&(i.height=i.radiusY||1),ye(i.tiltX)&&(i.tiltX=0),ye(i.tiltY)&&(i.tiltY=0),ye(i.pointerType)&&(i.pointerType="touch"),ye(i.pointerId)&&(i.pointerId=i.identifier||0),ye(i.pressure)&&(i.pressure=i.force||.5),ye(i.twist)&&(i.twist=0),ye(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,i.type=t.type,n.push(i)}else if(e.isMouseEvent(t)){var o=t;ye(o.isPrimary)&&(o.isPrimary=!0),ye(o.width)&&(o.width=1),ye(o.height)&&(o.height=1),ye(o.tiltX)&&(o.tiltX=0),ye(o.tiltY)&&(o.tiltY=0),ye(o.pointerType)&&(o.pointerType="mouse"),ye(o.pointerId)&&(o.pointerId=na),ye(o.pressure)&&(o.pressure=.5),ye(o.twist)&&(o.twist=0),ye(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,n.push(o)}else n.push(t);return n},t}();bh.tag="Event";var wh,kh=[_a.CIRCLE,_a.ELLIPSE,_a.IMAGE,_a.RECT,_a.LINE,_a.POLYLINE,_a.POLYGON,_a.TEXT,_a.PATH,_a.HTML],Eh=function(){function t(){}var e=t.prototype;return e.isVisible=function(t,e){var n,r,i=e.cullable;if(!i.enable)return!0;var o=e.getRenderBounds();if(pl.isEmpty(o))return!1;var a=t.getFrustum(),s=null===(n=e.parentNode)||void 0===n||null===(r=n.cullable)||void 0===r?void 0:r.visibilityPlaneMask;return i.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(e,o,s||il.INDETERMINATE,a.planes),i.visible=i.visibilityPlaneMask!==il.OUTSIDE,i.visible},e.computeVisibilityWithPlaneMask=function(t,e,n,r){if(n===il.OUTSIDE||n===il.INSIDE)return n;for(var i=il.INSIDE,o=kh.indexOf(t.nodeName)>-1,a=0,s=r.length;a<s;++a){var u=1<<a;if(0!==(n&u)&&(!o||4!==a&&5!==a)){var l=r[a],c=l.normal,h=l.distance;if(hn(c,e.getPositiveFarPoint(r[a]))+h<0)return il.OUTSIDE;hn(c,e.getNegativeFarPoint(r[a]))+h<0&&(i|=u)}}return i},t}(),Mh=function(){function t(){this.rBush=void 0,this.toSync=new Set}var e=t.prototype;return e.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext,o=e.rBushRoot,a=i.root.ownerDocument.defaultView;this.rBush=o;var s=function(t){var e=t.target;e.renderable.dirty=!0,r.dirtify()},u=function(t){var e=t.detail.affectChildren,i=t.target;e&&i.forEach((function(t){n.toSync.add(t)}));var o=i;while(o)o.renderable&&n.toSync.add(o),o=o.parentElement;r.dirtify()},l=function(t){var e=t.target;fh.enableCSSParsing&&fh.styleValueRegistry.recalc(e),fh.sceneGraphService.dirtifyToRoot(e),r.dirtify()},c=function(t){var e=t.target,i=e.rBushNode;i.aabb&&n.rBush.remove(i.aabb),n.toSync["delete"](e),fh.sceneGraphService.dirtifyToRoot(e),r.dirtify()};r.hooks.init.tapPromise(t.tag,Vi(zi().mark((function t(){return zi().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.addEventListener(Rl.MOUNTED,l),a.addEventListener(Rl.UNMOUNTED,c),a.addEventListener(Rl.ATTR_MODIFIED,s),a.addEventListener(Rl.BOUNDS_CHANGED,u);case 4:case"end":return t.stop()}}),t)})))),r.hooks.destroy.tap(t.tag,(function(){a.removeEventListener(Rl.MOUNTED,l),a.removeEventListener(Rl.UNMOUNTED,c),a.removeEventListener(Rl.ATTR_MODIFIED,s),a.removeEventListener(Rl.BOUNDS_CHANGED,u),n.toSync.clear()})),r.hooks.endFrame.tap(t.tag,(function(){n.syncRTree()}))},e.syncRTree=function(){var t=this,e=[];Array.from(this.toSync).filter((function(t){return t.isConnected})).forEach((function(n){var r=n.rBushNode;r&&r.aabb&&t.rBush.remove(r.aabb);var i=n.getRenderBounds();if(i){var o=i.getMin(),a=o[0],s=o[1],u=i.getMax(),l=u[0],c=u[1];r.aabb||(r.aabb={}),r.aabb.displayObject=n,r.aabb.minX=a,r.aabb.minY=s,r.aabb.maxX=l,r.aabb.maxY=c}r.aabb&&(isNaN(r.aabb.maxX)||isNaN(r.aabb.maxX)||isNaN(r.aabb.minX)||isNaN(r.aabb.minY)||e.push(r.aabb))})),this.rBush.load(e),e.length=0,this.toSync.clear()},t}();function Sh(t){return!!t.document}Mh.tag="Prepare",function(t){t["READY"]="ready",t["BEFORE_RENDER"]="beforerender",t["RERENDER"]="rerender",t["AFTER_RENDER"]="afterrender",t["BEFORE_DESTROY"]="beforedestroy",t["AFTER_DESTROY"]="afterdestroy",t["RESIZE"]="resize",t["DIRTY_RECTANGLE"]="dirtyrectangle"}(wh||(wh={}));var Th=500,Ph=.1,Oh=1e3,Ch=new Cl(Rl.MOUNTED),Nh=new Cl(Rl.UNMOUNTED),Ah=new Cl(wh.BEFORE_RENDER),Lh=new Cl(wh.RERENDER),_h=new Cl(wh.AFTER_RENDER),Rh=function(t){function e(e){var n;n=t.call(this)||this,n.document=void 0,n.customElements=void 0,n.requestAnimationFrame=void 0,n.cancelAnimationFrame=void 0,n.devicePixelRatio=void 0,n.supportsPointerEvents=void 0,n.supportsTouchEvents=void 0,n.isTouchEvent=void 0,n.isMouseEvent=void 0,n.Element=nc,n.frameId=void 0,n.inited=!1,n.readyPromise=void 0,n.resolveReadyPromise=void 0,n.context={},n.document=new Il,n.document.defaultView=Ji(n),n.customElements=new Tl;var r=e.container,i=e.canvas,o=e.offscreenCanvas,a=e.width,s=e.height,u=e.devicePixelRatio,l=e.renderer,c=e.background,h=e.cursor,f=e.document,p=e.requestAnimationFrame,d=e.cancelAnimationFrame,v=e.createImage,y=e.supportsPointerEvents,g=e.supportsTouchEvents,m=e.supportsCSSTransform,x=e.useNativeClickEvent,b=e.isTouchEvent,w=e.isMouseEvent;Uo(r,Ji(n));var k=a,E=s,M=u;return i&&(M=u||Ho&&window.devicePixelRatio||1,M=M>=1?Math.ceil(M):1,k=a||$o(i)||i.width/M,E=s||Jo(i)||i.height/M),n.devicePixelRatio=M,n.requestAnimationFrame=null!==p&&void 0!==p?p:Hs.bind(fh.globalThis),n.cancelAnimationFrame=null!==d&&void 0!==d?d:qs.bind(fh.globalThis),n.supportsTouchEvents=null!==g&&void 0!==g?g:"ontouchstart"in fh.globalThis,n.supportsPointerEvents=null!==y&&void 0!==y?y:!!fh.globalThis.PointerEvent,n.isTouchEvent=null!==b&&void 0!==b?b:function(t){return n.supportsTouchEvents&&t instanceof fh.globalThis.TouchEvent},n.isMouseEvent=null!==w&&void 0!==w?w:function(t){return!fh.globalThis.MouseEvent||t instanceof fh.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(t instanceof fh.globalThis.PointerEvent))},n.initRenderingContext({container:r,canvas:i,width:k,height:E,renderer:l,offscreenCanvas:o,devicePixelRatio:M,cursor:h||"default",background:c||"transparent",createImage:v,document:f,supportsCSSTransform:m,useNativeClickEvent:x}),n.initDefaultCamera(k,E),Vi(zi().mark((function t(){return zi().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.initRenderer(l);case 2:n.dispatchEvent(new Cl(wh.READY)),n.readyPromise&&n.resolveReadyPromise();case 4:case"end":return t.stop()}}),t)})))(),n}Ki(e,t);var n=e.prototype;return n.initRenderingContext=function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},n.initDefaultCamera=function(t,e){var n=this,r=new fh.CameraContribution;r.setType(Ul.EXPLORING,Hl.DEFAULT).setPosition(t/2,e/2,Th).setFocalPoint(t/2,e/2,0).setOrthographic(t/-2,t/2,e/2,e/-2,Ph,Oh),r.canvas=this,r.eventEmitter.on(_c.UPDATED,(function(){n.context.renderingContext.renderReasons.add(Lc.CAMERA_CHANGED)})),this.context.camera=r},n.getConfig=function(){return this.context.config},n.getRoot=function(){return this.document.documentElement},n.getCamera=function(){return this.context.camera},n.getContextService=function(){return this.context.contextService},n.getEventService=function(){return this.context.eventService},n.getRenderingService=function(){return this.context.renderingService},n.getRenderingContext=function(){return this.context.renderingContext},n.getStats=function(){return this.getRenderingService().getStats()},n.destroy=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!1),e||this.dispatchEvent(new Cl(wh.BEFORE_DESTROY)),this.frameId){var n=this.getConfig().cancelAnimationFrame||cancelAnimationFrame;n(this.frameId)}var r=this.getRoot();this.unmountChildren(r),t&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),t&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),e||this.dispatchEvent(new Cl(wh.AFTER_DESTROY))},n.changeSize=function(t,e){this.resize(t,e)},n.resize=function(t,e){var n=this.context.config;n.width=t,n.height=e,this.getContextService().resize(t,e);var r=this.context.camera,i=r.getProjectionMode();r.setPosition(t/2,e/2,Th).setFocalPoint(t/2,e/2,0),i===ql.ORTHOGRAPHIC?r.setOrthographic(t/-2,t/2,e/2,e/-2,r.getNear(),r.getFar()):r.setAspect(t/e),this.dispatchEvent(new Cl(wh.RESIZE,{width:t,height:e}))},n.appendChild=function(t,e){return this.document.documentElement.appendChild(t,e)},n.insertBefore=function(t,e){return this.document.documentElement.insertBefore(t,e)},n.removeChild=function(t){return this.document.documentElement.removeChild(t)},n.removeChildren=function(){this.document.documentElement.removeChildren()},n.destroyChildren=function(){this.document.documentElement.destroyChildren()},n.render=function(){var t=this;this.dispatchEvent(Ah);var e=this.getRenderingService();e.render(this.getConfig(),(function(){t.dispatchEvent(Lh)})),this.dispatchEvent(_h)},n.run=function(){var t=this,e=function e(){t.render(),t.frameId=requestAnimationFrame(e)};e()},n.initRenderer=function(){var t=Vi(zi().mark((function t(e){return zi().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("Renderer is required.");case 2:return this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new(nt()),this.context.renderingPlugins=[],this.context.renderingPlugins.push(new bh,new Mh,new xh,new mh([new Eh])),this.loadRendererContainerModule(e),this.context.contextService=new this.context.ContextService(qi({},fh,this.context)),this.context.renderingService=new Uc(fh,this.context),this.context.eventService=new Xc(fh,this.context),this.context.eventService.init(),t.next=14,this.context.contextService.init();case 14:return t.next=16,this.context.renderingService.init();case 16:this.inited=!0,this.getRoot().forEach((function(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0,e.dirty=!0)})),this.mountChildren(this.getRoot()),e.getConfig().enableAutoRendering&&this.run();case 20:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),n.loadRendererContainerModule=function(t){var e=this,n=t.getPlugins();n.forEach((function(t){t.context=e.context,t.init(fh)}))},n.setRenderer=function(){var t=Vi(zi().mark((function t(e){var n,r;return zi().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.getConfig(),n.renderer!==e){t.next=3;break}return t.abrupt("return");case 3:return r=n.renderer,n.renderer=e,this.destroy(!1,!0),[].concat(null===r||void 0===r?void 0:r.getPlugins()).reverse().forEach((function(t){t.destroy(fh)})),t.next=9,this.initRenderer(e);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),n.setCursor=function(t){var e=this.getConfig();e.cursor=t,this.getContextService().applyCursorStyle(t)},n.unmountChildren=function(t){var e=this;t.childNodes.forEach((function(t){e.unmountChildren(t)})),this.inited&&(t.isMutationObserved?t.dispatchEvent(Nh):(Nh.target=t,this.dispatchEvent(Nh,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()},n.mountChildren=function(t){var e=this;this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,t.isMutationObserved?t.dispatchEvent(Ch):(Ch.target=t,this.dispatchEvent(Ch,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach((function(t){e.mountChildren(t)})),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()},n.client2Viewport=function(t){return this.getEventService().client2Viewport(t)},n.viewport2Client=function(t){return this.getEventService().viewport2Client(t)},n.viewport2Canvas=function(t){return this.getEventService().viewport2Canvas(t)},n.canvas2Viewport=function(t){return this.getEventService().canvas2Viewport(t)},n.getPointByClient=function(t,e){return this.client2Viewport({x:t,y:e})},n.getClientByPoint=function(t,e){return this.viewport2Client({x:t,y:e})},Hi(e,[{key:"ready",get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise((function(e){t.resolveReadyPromise=function(){e(t)}})),this.inited&&this.resolveReadyPromise()),this.readyPromise}}]),e}(Al),Ih=function(){function t(t){this.width=void 0,this.height=void 0,this.isCanvasElement=!0,this.context=void 0,this.emitter=new(Wi()),this.context=t;var e=t.canvas||{};this.width=e.width||0,this.height=e.height||0}var e=t.prototype;return e.getContext=function(t,e){return this.context},e.getBoundingClientRect=function(){var t=this.width,e=this.height;return{top:0,right:t,bottom:e,left:0,width:t,height:e,x:0,y:0}},e.addEventListener=function(t,e,n){this.emitter.on(t,e)},e.removeEventListener=function(t,e,n){this.emitter.off(t,e)},e.dispatchEvent=function(t){return this.emitter.emit(t.type,t),!0},t}();function Dh(t){if(!t)return!1;if(1!==t.nodeType||!t.nodeName||"canvas"!==t.nodeName.toLowerCase())return!1;var e=!1;try{t.addEventListener("eventTest",(function(){e=!0})),t.dispatchEvent(new Event("eventTest"))}catch(n){e=!1}return e}function Fh(t){return t?Dh(t.canvas)?t.canvas:new Ih(t):null}function jh(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bh(t,e)}function Bh(t,e){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bh(t,e)}function Gh(t,e){var n=e.r;t.arc(n,n,n,0,2*Math.PI,!1)}function Yh(t,e){var n=e.rx,r=e.ry,i=n,o=r;if(t.ellipse)t.ellipse(i,o,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;t.save(),t.scale(s,u),t.arc(0,0,a,0,2*Math.PI)}}function Wh(t,e){var n,r,i=e.x1,o=e.y1,a=e.x2,s=e.y2,u=e.defX,l=void 0===u?0:u,c=e.defY,h=void 0===c?0:c,f=e.markerStart,p=e.markerEnd,d=e.markerStartOffset,v=e.markerEndOffset,y=0,g=0,m=0,x=0,b=0;f&&Vl(f)&&d&&(n=a-i,r=s-o,b=Math.atan2(r,n),y=Math.cos(b)*(d||0),g=Math.sin(b)*(d||0)),p&&Vl(p)&&v&&(n=i-a,r=o-s,b=Math.atan2(r,n),m=Math.cos(b)*(v||0),x=Math.sin(b)*(v||0)),t.moveTo(i-l+y,o-h+g),t.lineTo(a-l+m,s-h+x)}function zh(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,u=e.markerStart,l=e.markerEnd,c=e.markerStartOffset,h=e.markerEndOffset,f=e.path,p=f.absolutePath,d=f.segments,v=0,y=0,g=0,m=0,x=0;if(u&&Vl(u)&&c){var b=u.parentNode.getStartTangent(),w=b[0],k=b[1];n=w[0]-k[0],r=w[1]-k[1],x=Math.atan2(r,n),v=Math.cos(x)*(c||0),y=Math.sin(x)*(c||0)}if(l&&Vl(l)&&h){var E=l.parentNode.getEndTangent(),M=E[0],S=E[1];n=M[0]-S[0],r=M[1]-S[1],x=Math.atan2(r,n),g=Math.cos(x)*(h||0),m=Math.sin(x)*(h||0)}for(var T=0;T<p.length;T++){var P=p[T],O=P[0],C=p[T+1],N=0===T&&(0!==v||0!==y),A=(T===p.length-1||C&&("M"===C[0]||"Z"===C[0]))&&0!==g&&0!==m;switch(O){case"M":N?(t.moveTo(P[1]-o+v,P[2]-s+y),t.lineTo(P[1]-o,P[2]-s)):t.moveTo(P[1]-o,P[2]-s);break;case"L":A?t.lineTo(P[1]-o+g,P[2]-s+m):t.lineTo(P[1]-o,P[2]-s);break;case"Q":t.quadraticCurveTo(P[1]-o,P[2]-s,P[3]-o,P[4]-s),A&&t.lineTo(P[3]-o+g,P[4]-s+m);break;case"C":t.bezierCurveTo(P[1]-o,P[2]-s,P[3]-o,P[4]-s,P[5]-o,P[6]-s),A&&t.lineTo(P[5]-o+g,P[6]-s+m);break;case"A":var L=d[T].arcParams,_=L.cx,R=L.cy,I=L.rx,D=L.ry,F=L.startAngle,j=L.endAngle,B=L.xRotation,G=L.sweepFlag;if(t.ellipse)t.ellipse(_-o,R-s,I,D,B,F,j,!!(1-G));else{var Y=I>D?I:D,W=I>D?1:I/D,z=I>D?D/I:1;t.translate(_-o,R-s),t.rotate(B),t.scale(W,z),t.arc(0,0,Y,F,j,!!(1-G)),t.scale(1/W,1/z),t.rotate(-B),t.translate(-(_-o),-(R-s))}A&&t.lineTo(P[6]-o+g,P[7]-s+m);break;case"Z":t.closePath();break}}}function Xh(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,u=e.markerStart,l=e.markerEnd,c=e.markerStartOffset,h=e.markerEndOffset,f=e.points.points,p=f.length,d=f[0][0]-o,v=f[0][1]-s,y=f[p-1][0]-o,g=f[p-1][1]-s,m=0,x=0,b=0,w=0,k=0;u&&Vl(u)&&c&&(n=f[1][0]-f[0][0],r=f[1][1]-f[0][1],k=Math.atan2(r,n),m=Math.cos(k)*(c||0),x=Math.sin(k)*(c||0)),l&&Vl(l)&&h&&(n=f[p-1][0]-f[0][0],r=f[p-1][1]-f[0][1],k=Math.atan2(r,n),b=Math.cos(k)*(h||0),w=Math.sin(k)*(h||0)),t.moveTo(d+(m||b),v+(x||w));for(var E=1;E<p-1;E++){var M=f[E];t.lineTo(M[0]-o,M[1]-s)}t.lineTo(y,g)}function Vh(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,u=e.markerStart,l=e.markerEnd,c=e.markerStartOffset,h=e.markerEndOffset,f=e.points.points,p=f.length,d=f[0][0]-o,v=f[0][1]-s,y=f[p-1][0]-o,g=f[p-1][1]-s,m=0,x=0,b=0,w=0,k=0;u&&Vl(u)&&c&&(n=f[1][0]-f[0][0],r=f[1][1]-f[0][1],k=Math.atan2(r,n),m=Math.cos(k)*(c||0),x=Math.sin(k)*(c||0)),l&&Vl(l)&&h&&(n=f[p-2][0]-f[p-1][0],r=f[p-2][1]-f[p-1][1],k=Math.atan2(r,n),b=Math.cos(k)*(h||0),w=Math.sin(k)*(h||0)),t.moveTo(d+m,v+x);for(var E=1;E<p-1;E++){var M=f[E];t.lineTo(M[0]-o,M[1]-s)}t.lineTo(y+b,g+w)}function Uh(t,e){var n=e.radius,r=e.width,i=e.height,o=r,a=i,s=n&&n.some((function(t){return 0!==t}));if(s){var u=r>0?1:-1,l=i>0?1:-1,c=u+l===0,h=n.map((function(t){return Vt(t,0,Math.min(Math.abs(o)/2,Math.abs(a)/2))})),f=h[0],p=h[1],d=h[2],v=h[3];t.moveTo(u*f,0),t.lineTo(o-u*p,0),0!==p&&t.arc(o-u*p,l*p,p,-l*Math.PI/2,u>0?0:Math.PI,c),t.lineTo(o,a-l*d),0!==d&&t.arc(o-u*d,a-l*d,d,u>0?0:Math.PI,l>0?Math.PI/2:1.5*Math.PI,c),t.lineTo(u*v,a),0!==v&&t.arc(u*v,a-l*v,v,l>0?Math.PI/2:-Math.PI/2,u>0?Math.PI:0,c),t.lineTo(0,l*f),0!==f&&t.arc(u*f,l*f,f,u>0?Math.PI:0,l>0?1.5*Math.PI:Math.PI/2,c)}else t.rect(0,0,o,a)}var Hh=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.name="canvas-path-generator",e}jh(e,t);var n=e.prototype;return n.init=function(){var t,e=(t={},t[_a.CIRCLE]=Gh,t[_a.ELLIPSE]=Yh,t[_a.RECT]=Uh,t[_a.LINE]=Wh,t[_a.POLYLINE]=Vh,t[_a.POLYGON]=Xh,t[_a.PATH]=zh,t[_a.TEXT]=void 0,t[_a.GROUP]=void 0,t[_a.IMAGE]=void 0,t[_a.HTML]=void 0,t[_a.MESH]=void 0,t);this.context.pathGeneratorFactory=e},n.destroy=function(){delete this.context.pathGeneratorFactory},e}(yh);function qh(){qh=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&n.call(g,o)&&(v=g);var m=d.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Kh(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function Zh(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Kh(o,r,i,a,s,"next",t)}function s(t){Kh(o,r,i,a,s,"throw",t)}a(void 0)}))}}function $h(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Jh(t,e)}function Jh(t,e){return Jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jh(t,e)}function Qh(t,e){if(t){if("string"===typeof t)return tf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tf(t,e):void 0}}function tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ef(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Qh(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var nf=Qe(),rf=Qe(),of=Qe(),af=xn(),sf=function(){function t(){var t=this;this.canvasConfig=void 0,this.pathGeneratorFactory=void 0,this.pointInPathPickerFactory=void 0,this.isHit=function(e,n,r,i,o){var a=t.pointInPathPickerFactory[e.nodeName];if(a){var s=Tn(af,r),u=dn(rf,on(of,n[0],n[1],0),s),l=e.getGeometryBounds(),c=l.halfExtents,h=e.parsedStyle.anchor;if(u[0]+=(h&&h[0]||0)*c[0]*2,u[1]+=(h&&h[1]||0)*c[1]*2,a(e,new yl(u[0],u[1]),i,t.isPointInPath,o))return!0}return!1},this.isPointInPath=function(e,n,r){var i=e.offscreenCanvas.getOrCreateContext(t.canvasConfig.offscreenCanvas),o=t.pathGeneratorFactory[n.nodeName];return o&&(i.beginPath(),o(i,n.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}var e=t.prototype;return e.apply=function(e,n){var r,i=this,o=e.config,a=e.renderingService,s=e.renderingContext,u=e.pathGeneratorFactory,l=e.pointInPathPickerFactory;this.canvasConfig=o,this.pathGeneratorFactory=u,this.pointInPathPickerFactory=l;var c=null===(r=s.root)||void 0===r?void 0:r.ownerDocument;a.hooks.pick.tapPromise(t.tag,function(){var t=Zh(qh().mark((function t(e){return qh().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",i.pick(c,e,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a.hooks.pickSync.tap(t.tag,(function(t){return i.pick(c,t,n)}))},e.pick=function(t,e,n){for(var r,i=e.topmost,o=e.position,a=o.x,s=o.y,u=on(nf,a,s,0),l=t.elementsFromBBox(u[0],u[1],u[0],u[1]),c=[],h=ef(l);!(r=h()).done;){var f=r.value,p=f.getWorldTransform(),d=this.isHit(f,u,p,!1,n);if(d){var v=Ko(f);if(v){var y=v.parsedStyle.clipPath,g=this.isHit(y,u,y.getWorldTransform(),!0,n);if(g){if(i)return e.picked=[f],e;c.push(f)}}else{if(i)return e.picked=[f],e;c.push(f)}}}return e.picked=c,e},t}();function uf(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function lf(t,e){return Math.abs(t-e)<.001}function cf(t,e){var n=Math.min.apply(Math,t),r=Math.min.apply(Math,e),i=Math.max.apply(Math,t),o=Math.max.apply(Math,e);return{x:n,y:r,width:i-n,height:o-r}}function hf(t){return(t+2*Math.PI)%(2*Math.PI)}sf.tag="CanvasPicker";var ff={box:function(t,e,n,r){return cf([t,n],[e,r])},length:function(t,e,n,r){return uf(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);if(a<0)return uf(t,e,i,o);var s=(n-t)*(n-t)+(r-e)*(r-e);return a>s?uf(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(Kr(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];Vr(s,s);var u=[i-t,o-e];return Math.abs(Ur(u,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},pf=1e-4;function df(t,e,n,r,i,o){var a=-1,s=1/0,u=[n,r],l=20;o&&o>200&&(l=o/10);for(var c=1/l,h=c/10,f=0;f<=l;f++){var p=f*c,d=[i.apply(void 0,t.concat([p])),i.apply(void 0,e.concat([p]))],v=uf(u[0],u[1],d[0],d[1]);v<s&&(a=p,s=v)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var y=t.length;return{x:t[y-1],y:e[y-1]}}s=1/0;for(var g=0;g<32;g++){if(h<pf)break;var m=a-h,x=a+h,b=[i.apply(void 0,t.concat([m])),i.apply(void 0,e.concat([m]))],w=uf(u[0],u[1],b[0],b[1]);if(m>=0&&w<s)a=m,s=w;else{var k=[i.apply(void 0,t.concat([x])),i.apply(void 0,e.concat([x]))],E=uf(u[0],u[1],k[0],k[1]);x<=1&&E<s?(a=x,s=E):h*=.5}}return{x:i.apply(void 0,t.concat([a])),y:i.apply(void 0,e.concat([a]))}}function vf(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],a=e[i],s=t[(i+1)%r],u=e[(i+1)%r];n+=uf(o,a,s,u)}return n/2}function yf(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function gf(t,e,n){var r=t+n-2*e;if(lf(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function mf(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function xf(t,e,n,r,i,o,a){var s=yf(t,n,i,a),u=yf(e,r,o,a),l=ff.pointAt(t,e,n,r,a),c=ff.pointAt(n,r,i,o,a);return[[t,e,l.x,l.y,s,u],[s,u,c.x,c.y,i,o]]}function bf(t,e,n,r,i,o,a){if(0===a)return(uf(t,e,n,r)+uf(n,r,i,o)+uf(t,e,i,o))/2;var s=xf(t,e,n,r,i,o,.5),u=s[0],l=s[1];return u.push(a-1),l.push(a-1),bf.apply(void 0,u)+bf.apply(void 0,l)}var wf={box:function(t,e,n,r,i,o){var a=gf(t,n,i)[0],s=gf(e,r,o)[0],u=[t,i],l=[e,o];return void 0!==a&&u.push(yf(t,n,i,a)),void 0!==s&&l.push(yf(e,r,o,s)),cf(u,l)},length:function(t,e,n,r,i,o){return bf(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return df([t,n,i],[e,r,o],a,s,yf)},pointDistance:function(t,e,n,r,i,o,a,s){var u=this.nearestPoint(t,e,n,r,i,o,a,s);return uf(u.x,u.y,a,s)},interpolationAt:yf,pointAt:function(t,e,n,r,i,o,a){return{x:yf(t,n,i,a),y:yf(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return xf(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=mf(t,n,i,a),u=mf(e,r,o,a),l=Math.atan2(u,s);return hf(l)}};function kf(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Ef(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function Mf(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,l=3*e-3*t,c=[];if(lf(s,0))lf(u,0)||(i=-l/u,i>=0&&i<=1&&c.push(i));else{var h=u*u-4*s*l;lf(h,0)?c.push(-u/(2*s)):h>0&&(a=Math.sqrt(h),i=(-u+a)/(2*s),o=(-u-a)/(2*s),i>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function Sf(t,e,n,r,i,o,a,s,u){var l=kf(t,n,i,a,u),c=kf(e,r,o,s,u),h=ff.pointAt(t,e,n,r,u),f=ff.pointAt(n,r,i,o,u),p=ff.pointAt(i,o,a,s,u),d=ff.pointAt(h.x,h.y,f.x,f.y,u),v=ff.pointAt(f.x,f.y,p.x,p.y,u);return[[t,e,h.x,h.y,d.x,d.y,l,c],[l,c,v.x,v.y,p.x,p.y,a,s]]}function Tf(t,e,n,r,i,o,a,s,u){if(0===u)return vf([t,n,i,a],[e,r,o,s]);var l=Sf(t,e,n,r,i,o,a,s,.5),c=[].concat(l[0],[u-1]),h=[].concat(l[1],[u-1]);return Tf.apply(void 0,c)+Tf.apply(void 0,h)}var Pf={extrema:Mf,box:function(t,e,n,r,i,o,a,s){for(var u=[t,a],l=[e,s],c=Mf(t,n,i,a),h=Mf(e,r,o,s),f=0;f<c.length;f++)u.push(kf(t,n,i,a,c[f]));for(var p=0;p<h.length;p++)l.push(kf(e,r,o,s,h[p]));return cf(u,l)},length:function(t,e,n,r,i,o,a,s){return Tf(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,u,l,c){return df([t,n,i,a],[e,r,o,s],u,l,kf,c)},pointDistance:function(t,e,n,r,i,o,a,s,u,l,c){var h=this.nearestPoint(t,e,n,r,i,o,a,s,u,l,c);return uf(h.x,h.y,u,l)},interpolationAt:kf,pointAt:function(t,e,n,r,i,o,a,s,u){return{x:kf(t,n,i,a,u),y:kf(e,r,o,s,u)}},divide:function(t,e,n,r,i,o,a,s,u){return Sf(t,e,n,r,i,o,a,s,u)},tangentAngle:function(t,e,n,r,i,o,a,s,u){var l=Ef(t,n,i,a,u),c=Ef(e,r,o,s,u);return hf(Math.atan2(c,l))}};function Of(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Cf(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function Nf(t,e,n,r,i,o,a){var s=i/2;return Cf(t-s,e-s,n,i,o,a)||Cf(t+n-s,e-s,i,r,o,a)||Cf(t+s,e+r-s,n,i,o,a)||Cf(t-s,e+s,i,r,o,a)}function Af(t,e,n,r,i,o,a,s){var u=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI),l={x:t+n*Math.cos(u),y:e+n*Math.sin(u)};return Of(l.x,l.y,a,s)<=o/2}function Lf(t,e,n,r,i,o,a){var s=Math.min(t,n),u=Math.max(t,n),l=Math.min(e,r),c=Math.max(e,r),h=i/2;return o>=s-h&&o<=u+h&&a>=l-h&&a<=c+h&&ff.pointToLine(t,e,n,r,o,a)<=i/2}function _f(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var s=t[a][0],u=t[a][1],l=t[a+1][0],c=t[a+1][1];if(Lf(s,u,l,c,e,n,r))return!0}if(i){var h=t[0],f=t[o-1];if(Lf(h[0],h[1],f[0],f[1],e,n,r))return!0}return!1}var Rf=1e-6;function If(t){return Math.abs(t)<Rf?0:t<0?-1:1}function Df(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Ff(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Df(a,s,[e,n]))return!0;If(a[1]-n)>0!==If(s[1]-n)>0&&If(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function jf(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=Ff(o,e,n),r)break}return r}function Bf(t,e,n){var r=t.parsedStyle,i=r.r,o=r.fill,a=r.stroke,s=r.lineWidth,u=r.increasedLineWidthForHitTesting,l=r.pointerEvents,c=((s||0)+(u||0))/2,h=Of(i,i,e.x,e.y),f=is(l,o,a),p=f[0],d=f[1];return p&&d||n?h<=i+c:p?h<=i:!!d&&(h>=i-c&&h<=i+c)}function Gf(t,e,n,r){return t/(n*n)+e/(r*r)}function Yf(t,e,n){var r=t.parsedStyle,i=r.rx,o=r.ry,a=r.fill,s=r.stroke,u=r.lineWidth,l=r.increasedLineWidthForHitTesting,c=r.pointerEvents,h=e.x,f=e.y,p=is(c,a,s),d=p[0],v=p[1],y=((u||0)+(l||0))/2,g=(h-i)*(h-i),m=(f-o)*(f-o);return d&&v||n?Gf(g,m,i+y,o+y)<=1:d?Gf(g,m,i,o)<=1:!!v&&(Gf(g,m,i-y,o-y)>=1&&Gf(g,m,i+y,o+y)<=1)}function Wf(t,e,n){var r=t.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2,u=r.lineWidth,l=r.increasedLineWidthForHitTesting,c=r.defX,h=void 0===c?0:c,f=r.defY,p=void 0===f?0:f,d=r.pointerEvents,v=r.fill,y=r.stroke,g=is(d,v,y),m=g[1];return!(!m&&!n||!u)&&Lf(i,o,a,s,(u||0)+(l||0),e.x+h,e.y+p)}function zf(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var u=t[s],l=u.currentPoint,c=u.params,h=u.prePoint,f=u.box;if(!f||Cf(f.x-a,f.y-a,f.width+e,f.height+e,n,r))switch(u.command){case"L":case"Z":if(o=Lf(h[0],h[1],l[0],l[1],e,n,r),o)return!0;break;case"Q":var p=wf.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],n,r);if(o=p<=e/2,o)return!0;break;case"C":var d=Pf.pointDistance(h[0],h[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i);if(o=d<=e/2,o)return!0;break;case"A":u.cubicParams||(u.cubicParams=Jt(h[0],h[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var v=u.cubicParams,y=h,g=0;g<v.length;g+=6){var m=Pf.pointDistance(y[0],y[1],v[g],v[g+1],v[g+2],v[g+3],v[g+4],v[g+5],n,r,i);if(y=[v[g+4],v[g+5]],o=m<=e/2,o)return!0}break}}return o}function Xf(t,e,n,r,i){var o=t.parsedStyle,a=o.lineWidth,s=o.increasedLineWidthForHitTesting,u=o.stroke,l=o.fill,c=o.defX,h=void 0===c?0:c,f=o.defY,p=void 0===f?0:f,d=o.path,v=o.pointerEvents,y=d.segments,g=d.hasArc,m=d.polylines,x=d.polygons,b=is(v,(null===x||void 0===x?void 0:x.length)&&l,u),w=b[0],k=b[1],E=Fa(t),M=!1;return w||n?(M=g?r(i,t,e):jf(x,e.x+h,e.y+p)||jf(m,e.x+h,e.y+p),M):((k||n)&&(M=zf(y,(a||0)+(s||0),e.x+h,e.y+p,E)),M)}function Vf(t,e,n){var r=t.parsedStyle,i=r.stroke,o=r.fill,a=r.lineWidth,s=r.increasedLineWidthForHitTesting,u=r.points,l=r.defX,c=void 0===l?0:l,h=r.defY,f=void 0===h?0:h,p=r.pointerEvents,d=is(p,o,i),v=d[0],y=d[1],g=!1;return(y||n)&&(g=_f(u.points,(a||0)+(s||0),e.x+c,e.y+f,!0)),g||!v&&!n||(g=Ff(u.points,e.x+c,e.y+f)),g}function Uf(t,e,n){var r=t.parsedStyle,i=r.lineWidth,o=r.increasedLineWidthForHitTesting,a=r.points,s=r.defX,u=void 0===s?0:s,l=r.defY,c=void 0===l?0:l,h=r.pointerEvents,f=r.fill,p=r.stroke,d=is(h,f,p),v=d[1];return!(!v&&!n||!i)&&_f(a.points,(i||0)+(o||0),e.x+u,e.y+c,!1)}function Hf(t,e,n,r,i){var o=t.parsedStyle,a=o.radius,s=o.fill,u=o.stroke,l=o.lineWidth,c=o.increasedLineWidthForHitTesting,h=o.width,f=o.height,p=o.pointerEvents,d=is(p,s,u),v=d[0],y=d[1],g=a&&a.some((function(t){return 0!==t})),m=(l||0)+(c||0);if(g){var x=!1;return(y||n)&&(x=qf(0,0,h,f,a.map((function(t){return Vt(t,0,Math.min(Math.abs(h)/2,Math.abs(f)/2))})),m,e.x,e.y)),x||!v&&!n||(x=r(i,t,e)),x}var b=m/2;return v&&y||n?Cf(0-b,0-b,h+b,f+b,e.x,e.y):v?Cf(0,0,h,f,e.x,e.y):!!y&&Nf(0,0,h,f,m,e.x,e.y)}function qf(t,e,n,r,i,o,a,s){var u=i[0],l=i[1],c=i[2],h=i[3];return Lf(t+u,e,t+n-l,e,o,a,s)||Lf(t+n,e+l,t+n,e+r-c,o,a,s)||Lf(t+n-c,e+r,t+h,e+r,o,a,s)||Lf(t,e+r-h,t,e+u,o,a,s)||Af(t+n-l,e+l,l,1.5*Math.PI,2*Math.PI,o,a,s)||Af(t+n-c,e+r-c,c,0,.5*Math.PI,o,a,s)||Af(t+h,e+r-h,h,.5*Math.PI,Math.PI,o,a,s)||Af(t+u,e+u,u,Math.PI,1.5*Math.PI,o,a,s)}var Kf=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.name="canvas-picker",e}$h(e,t);var n=e.prototype;return n.init=function(){var t,e=function(){return!0},n=(t={},t[_a.CIRCLE]=Bf,t[_a.ELLIPSE]=Yf,t[_a.RECT]=Hf,t[_a.LINE]=Wf,t[_a.POLYLINE]=Uf,t[_a.POLYGON]=Vf,t[_a.PATH]=Xf,t[_a.TEXT]=e,t[_a.GROUP]=null,t[_a.IMAGE]=e,t[_a.HTML]=null,t[_a.MESH]=null,t);this.context.pointInPathPickerFactory=n,this.addRenderingPlugin(new sf)},n.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},e}(yh);function Zf(){Zf=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&n.call(g,o)&&(v=g);var m=d.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function $f(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function Jf(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){$f(o,r,i,a,s,"next",t)}function s(t){$f(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}function tp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ep(t,e)}function ep(t,e){return ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ep(t,e)}var np=function(){function t(t){this.canvasRendererPluginOptions=void 0,this.context=void 0,this.pathGeneratorFactory=void 0,this.rBush=void 0,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreen=!1,this.vpMatrix=xn(),this.dprMatrix=xn(),this.tmpMat4=xn(),this.vec3a=Qe(),this.vec3b=Qe(),this.vec3c=Qe(),this.vec3d=Qe(),this.canvasRendererPluginOptions=t}var e=t.prototype;return e.apply=function(e,n){var r=this;this.context=e;var i=e.config,o=e.camera,a=e.renderingService,s=e.renderingContext,u=e.rBushRoot,l=e.pathGeneratorFactory;this.rBush=u,this.pathGeneratorFactory=l;var c=e.contextService,h=s.root.ownerDocument.defaultView,f=function(t){var e=t.target,n=e.rBushNode;n.aabb&&r.removedRBushNodeAABBs.push(n.aabb)},p=function(t){var e=t.target,n=e.rBushNode;n.aabb&&r.removedRBushNodeAABBs.push(n.aabb)};a.hooks.init.tapPromise(t.tag,Jf(Zf().mark((function t(){var e,n,o,a;return Zf().wrap((function(t){while(1)switch(t.prev=t.next){case 0:h.addEventListener(Rl.UNMOUNTED,f),h.addEventListener(Rl.CULLED,p),e=c.getDPR(),n=i.width,o=i.height,a=c.getContext(),r.clearRect(a,0,0,n*e,o*e,i.background);case 6:case"end":return t.stop()}}),t)})))),a.hooks.destroy.tap(t.tag,(function(){h.removeEventListener(Rl.UNMOUNTED,f),h.removeEventListener(Rl.CULLED,p)})),a.hooks.beginFrame.tap(t.tag,(function(){var t=c.getContext(),e=c.getDPR(),n=i.width,o=i.height,s=r.canvasRendererPluginOptions,u=s.dirtyObjectNumThreshold,l=s.dirtyObjectRatioThreshold,h=a.getStats(),f=h.total,p=h.rendered,d=p/f;r.clearFullScreen=a.disableDirtyRectangleRendering()||p>u&&d>l,t&&(t.resetTransform?t.resetTransform():t.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(t,0,0,n*e,o*e,i.background))}));var d=function t(e,i){e.isVisible()&&!e.isCulled()&&(r.renderDisplayObject(e,i,r.context,r.restoreStack,n),r.saveDirtyAABB(e));var o=e.sortable.sorted||e.childNodes;o.forEach((function(e){t(e,i)}))};a.hooks.endFrame.tap(t.tag,(function(){var t=c.getContext(),e=c.getDPR();if(Fn(r.dprMatrix,[e,e,1]),Cn(r.vpMatrix,r.dprMatrix,o.getOrthoMatrix()),r.clearFullScreen)d(s.root,t);else{var a=r.safeMergeAABB.apply(r,[r.mergeDirtyAABBs(r.renderQueue)].concat(r.removedRBushNodeAABBs.map((function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY,o=new pl;return o.setMinMax([e,n,0],[r,i,0]),o}))));if(r.removedRBushNodeAABBs=[],pl.isEmpty(a))return void(r.renderQueue=[]);var u=r.convertAABB2Rect(a),l=u.x,f=u.y,p=u.width,v=u.height,y=dn(r.vec3a,[l,f,0],r.vpMatrix),g=dn(r.vec3b,[l+p,f,0],r.vpMatrix),m=dn(r.vec3c,[l,f+v,0],r.vpMatrix),x=dn(r.vec3d,[l+p,f+v,0],r.vpMatrix),b=Math.min(y[0],g[0],x[0],m[0]),w=Math.min(y[1],g[1],x[1],m[1]),k=Math.max(y[0],g[0],x[0],m[0]),E=Math.max(y[1],g[1],x[1],m[1]),M=Math.floor(b),S=Math.floor(w),T=Math.ceil(k-b),P=Math.ceil(E-w);t.save(),r.clearRect(t,M,S,T,P,i.background),t.beginPath(),t.rect(M,S,T,P),t.clip(),t.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]);var O=i.renderer.getConfig(),C=O.enableDirtyRectangleRenderingDebug;C&&h.dispatchEvent(new Cl(wh.DIRTY_RECTANGLE,{dirtyRect:{x:M,y:S,width:T,height:P}}));var N=r.searchDirtyObjects(a);N.sort((function(t,e){return t.sortable.renderOrder-e.sortable.renderOrder})).forEach((function(e){e&&e.isVisible()&&!e.isCulled()&&r.renderDisplayObject(e,t,r.context,r.restoreStack,n)})),t.restore(),r.renderQueue.forEach((function(t){r.saveDirtyAABB(t)})),r.renderQueue=[]}r.restoreStack.forEach((function(){t.restore()})),r.restoreStack=[]})),a.hooks.render.tap(t.tag,(function(t){r.clearFullScreen||r.renderQueue.push(t)}))},e.clearRect=function(t,e,n,r,i,o){t.clearRect(e,n,r,i),o&&(t.fillStyle=o,t.fillRect(e,n,r,i))},e.renderDisplayObject=function(t,e,n,r,i){var o=t.nodeName,a=r[r.length-1];!a||t.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINS||(e.restore(),r.pop());var s=this.context.styleRendererFactory[o],u=this.pathGeneratorFactory[o],l=t.parsedStyle.clipPath;if(l){this.applyWorldTransform(e,l);var c=this.pathGeneratorFactory[l.nodeName];c&&(e.save(),r.push(t),e.beginPath(),c(e,l.parsedStyle),e.closePath(),e.clip())}s&&(this.applyWorldTransform(e,t),e.save(),this.applyAttributesToContext(e,t)),u&&(e.beginPath(),u(e,t.parsedStyle),t.nodeName!==_a.LINE&&t.nodeName!==_a.PATH&&t.nodeName!==_a.POLYLINE&&e.closePath()),s&&(s.render(e,t.parsedStyle,t,n,this,i),e.restore()),t.renderable.dirty=!1},e.convertAABB2Rect=function(t){var e=t.getMin(),n=t.getMax(),r=Math.floor(e[0]),i=Math.floor(e[1]),o=Math.ceil(n[0]),a=Math.ceil(n[1]),s=o-r,u=a-i;return{x:r,y:i,width:s,height:u}},e.mergeDirtyAABBs=function(t){var e=new pl;return t.forEach((function(t){var n=t.getRenderBounds();e.add(n);var r=t.renderable.dirtyRenderBounds;r&&e.add(r)})),e},e.searchDirtyObjects=function(t){var e=t.getMin(),n=e[0],r=e[1],i=t.getMax(),o=i[0],a=i[1],s=this.rBush.search({minX:n,minY:r,maxX:o,maxY:a});return s.map((function(t){var e=t.displayObject;return e}))},e.saveDirtyAABB=function(t){var e=t.renderable;e.dirtyRenderBounds||(e.dirtyRenderBounds=new pl);var n=t.getRenderBounds();n&&e.dirtyRenderBounds.update(n.center,n.halfExtents)},e.applyAttributesToContext=function(t,e){var n=e.parsedStyle,r=n.stroke,i=n.fill,o=n.opacity,a=n.lineDash,s=n.lineDashOffset;a&&t.setLineDash(a),Ht(s)||(t.lineDashOffset=s),Ht(o)||(t.globalAlpha*=o),Ht(r)||Array.isArray(r)||r.isNone||(t.strokeStyle=e.attributes.stroke),Ht(i)||Array.isArray(i)||i.isNone||(t.fillStyle=e.attributes.fill)},e.applyWorldTransform=function(t,e,n){var r=0,i=0,o=e.parsedStyle||{},a=o.anchor,s=a&&a[0]||0,u=a&&a[1]||0;if(0!==s||0!==u){var l=e.geometry.contentBounds,c=l&&2*l.halfExtents[0]||0,h=l&&2*l.halfExtents[1]||0;r=-s*c,i=-u*h}n?(wn(this.tmpMat4,e.getLocalTransform()),this.vec3a[0]=r,this.vec3a[1]=i,this.vec3a[2]=0,Nn(this.tmpMat4,this.tmpMat4,this.vec3a),Cn(this.tmpMat4,n,this.tmpMat4),Cn(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(wn(this.tmpMat4,e.getWorldTransform()),this.vec3a[0]=r,this.vec3a[1]=i,this.vec3a[2]=0,Nn(this.tmpMat4,this.tmpMat4,this.vec3a),Cn(this.tmpMat4,this.vpMatrix,this.tmpMat4)),t.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},e.safeMergeAABB=function(){for(var t=new pl,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t.add(e)})),t},t}();np.tag="CanvasRenderer";var rp=function(){function t(t){this.imagePool=void 0,this.imagePool=t}var e=t.prototype;return e.render=function(t,e,n,r,i,o){var a=e.fill,s=e.fillRule,u=e.opacity,l=e.fillOpacity,c=e.stroke,h=e.strokeOpacity,f=e.lineWidth,p=e.lineCap,d=e.lineJoin,v=e.shadowType,y=e.shadowColor,g=e.shadowBlur,m=e.filter,x=e.miterLimit,b=!Ht(a)&&!a.isNone,w=!Ht(c)&&!c.isNone&&f>0,k=0===a.alpha,E=!(!m||!m.length),M=!Ht(y)&&g>0,S=n.nodeName,T="inner"===v,P=w&&M&&(S===_a.PATH||S===_a.LINE||S===_a.POLYLINE||k||T);b&&(t.globalAlpha=u*l,P||ip(n,t,M),this.fill(t,n,a,s,r,i,o),P||this.clearShadowAndFilter(t,E,M)),w&&(t.globalAlpha=u*h,t.lineWidth=f,Ht(x)||(t.miterLimit=x),Ht(p)||(t.lineCap=p),Ht(d)||(t.lineJoin=d),P&&(T&&(t.globalCompositeOperation="source-atop"),ip(n,t,!0),T&&(this.stroke(t,n,c,r,i,o),t.globalCompositeOperation="source-over",this.clearShadowAndFilter(t,E,!0))),this.stroke(t,n,c,r,i,o))},e.clearShadowAndFilter=function(t,e,n){if(n&&(t.shadowColor="transparent",t.shadowBlur=0),e){var r=t.filter;!Ht(r)&&r.indexOf("drop-shadow")>-1&&(t.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},e.fill=function(t,e,n,r,i,o,a){var s=this;Array.isArray(n)?n.forEach((function(n){t.fillStyle=s.getColor(n,e,t),r?t.fill(r):t.fill()})):(au(n)&&(t.fillStyle=this.getPattern(n,e,t,i,o,a)),r?t.fill(r):t.fill())},e.stroke=function(t,e,n,r,i,o){var a=this;Array.isArray(n)?n.forEach((function(n){t.strokeStyle=a.getColor(n,e,t),t.stroke()})):(au(n)&&(t.strokeStyle=this.getPattern(n,e,t,r,i,o)),t.stroke())},e.getPattern=function(t,e,n,r,i,o){var a,s;if("rect"===t.image.nodeName){var u=t.image.parsedStyle,l=u.width,c=u.height;s=r.contextService.getDPR();var h=r.config.offscreenCanvas;a=o.offscreenCanvas.getOrCreateCanvas(h),a.width=l*s,a.height=c*s;var f=o.offscreenCanvas.getOrCreateContext(h),p=[];t.image.forEach((function(t){i.renderDisplayObject(t,f,r,p,o)})),p.forEach((function(){f.restore()}))}var d=this.imagePool.getOrCreatePatternSync(t,n,a,s,(function(){e.renderable.dirty=!0,r.renderingService.dirtify()}));return d},e.getColor=function(t,e,n){var r;if(t.type===ao.LinearGradient||t.type===ao.RadialGradient){var i=e.getGeometryBounds(),o=i&&2*i.halfExtents[0]||1,a=i&&2*i.halfExtents[1]||1;r=this.imagePool.getOrCreateGradient(Qf({type:t.type},t.value,{width:o,height:a}),n)}return r},t}();function ip(t,e,n){var r=t.parsedStyle,i=r.filter,o=r.shadowColor,a=r.shadowBlur,s=r.shadowOffsetX,u=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=o.toString(),e.shadowBlur=a||0,e.shadowOffsetX=s||0,e.shadowOffsetY=u||0)}var op=function(){function t(t){this.imagePool=void 0,this.imagePool=t}var e=t.prototype;return e.render=function(t,e,n){var r,i=e.width,o=e.height,a=e.img,s=e.shadowColor,u=e.shadowBlur,l=i,c=o;if(qt(a)?r=this.imagePool.getImageSync(a):(l||(l=a.width),c||(c=a.height),r=a),r){var h=!Ht(s)&&u>0;ip(n,t,h);try{t.drawImage(r,0,0,l,c)}catch(Hd){}}},t}(),ap=function(){function t(){}var e=t.prototype;return e.render=function(t,e,n){var r=e.lineWidth,i=e.textAlign,o=e.textBaseline,a=e.lineJoin,s=e.miterLimit,u=e.letterSpacing,l=e.stroke,c=e.fill,h=e.fillOpacity,f=e.strokeOpacity,p=e.opacity,d=e.metrics,v=e.dx,y=e.dy,g=e.shadowColor,m=e.shadowBlur,x=d.font,b=d.lines,w=d.height,k=d.lineHeight,E=d.lineMetrics;t.font=x,t.lineWidth=r,t.textAlign="middle"===i?"center":i;var M=o;fh.enableCSSParsing||"alphabetic"!==M||(M="bottom"),t.lineJoin=a,Ht(s)||(t.miterLimit=s);var S=0;"middle"===o?S=-w/2-k/2:"bottom"===o||"alphabetic"===o||"ideographic"===o?S=-w:"top"!==o&&"hanging"!==o||(S=-k);var T=v||0;S+=y||0,1===b.length&&("bottom"===M?(M="middle",S-=.5*w):"top"===M&&(M="middle",S+=.5*w)),t.textBaseline=M;var P=!Ht(g)&&m>0;ip(n,t,P);for(var O=0;O<b.length;O++){var C=r/2+T;S+=k,Ht(l)||l.isNone||!r||this.drawLetterSpacing(t,b[O],E[O],i,C,S,u,h,f,p,!0),Ht(c)||this.drawLetterSpacing(t,b[O],E[O],i,C,S,u,h,f,p)}},e.drawLetterSpacing=function(t,e,n,r,i,o,a,s,u,l,c){if(void 0===c&&(c=!1),0!==a){var h=t.textAlign;t.textAlign="left";var f=i;"center"===r||"middle"===r?f=i-n.width/2:"right"!==r&&"end"!==r||(f=i-n.width);for(var p=Array.from(e),d=t.measureText(e).width,v=0,y=0;y<p.length;++y){var g=p[y];c?this.strokeText(t,g,f,o,u):this.fillText(t,g,f,o,s,l),v=t.measureText(e.substring(y+1)).width,f+=d-v+a,d=v}t.textAlign=h}else c?this.strokeText(t,e,i,o,u):this.fillText(t,e,i,o,s,l)},e.fillText=function(t,e,n,r,i,o){var a,s=!Ht(i)&&1!==i;s&&(a=t.globalAlpha,t.globalAlpha=i*o),t.fillText(e,n,r),s&&(t.globalAlpha=a)},e.strokeText=function(t,e,n,r,i){var o,a=!Ht(i)&&1!==i;a&&(o=t.globalAlpha,t.globalAlpha=i),t.strokeText(e,n,r),a&&(t.globalAlpha=o)},t}(),sp=function(t){function e(e){var n;return void 0===e&&(e={}),n=t.call(this)||this,n.options=void 0,n.name="canvas-renderer",n.options=e,n}tp(e,t);var n=e.prototype;return n.init=function(){var t,e=Qf({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new rp(n),i=(t={},t[_a.CIRCLE]=r,t[_a.ELLIPSE]=r,t[_a.RECT]=r,t[_a.IMAGE]=new op(n),t[_a.TEXT]=new ap,t[_a.LINE]=r,t[_a.POLYLINE]=r,t[_a.POLYGON]=r,t[_a.PATH]=r,t[_a.GROUP]=void 0,t[_a.HTML]=void 0,t[_a.MESH]=void 0,t);this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new np(e))},n.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},e}(yh);function up(){up=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&n.call(g,o)&&(v=g);var m=d.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function lp(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function cp(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){lp(o,r,i,a,s,"next",t)}function s(t){lp(o,r,i,a,s,"throw",t)}a(void 0)}))}}function hp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fp(t,e)}function fp(t,e){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fp(t,e)}var pp="undefined"!==typeof Float32Array?Float32Array:Array;function dp(){var t=new pp(16);return pp!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function vp(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yp(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var gp=function(){function t(t){this.canvasConfig=void 0,this.imageCache={},this.gradientCache={},this.patternCache={},this.canvasConfig=t}var e=t.prototype;return e.getImageSync=function(t,e){return this.imageCache[t]?e&&e():this.getOrCreateImage(t).then((function(){e&&e()})),this.imageCache[t]},e.getOrCreateImage=function(t){var e=this;if(this.imageCache[t])return Promise.resolve(this.imageCache[t]);var n=this.canvasConfig.createImage;return new Promise((function(r,i){var o;n?o=n(t):Ho&&(o=new window.Image),o&&(o.onload=function(){r(o)},o.onerror=function(t){i(t)},o.crossOrigin="Anonymous",o.src=t,e.imageCache[t]=o)}))},e.getOrCreatePatternSync=function(t,e,n,r,i){var o=this.generatePatternKey(t);if(o&&this.patternCache[o])return this.patternCache[o];var a,s=t.image,u=t.repetition,l=t.transform,c=!1;qt(s)?a=this.getImageSync(s,i):n?(a=n,c=!0):a=s;var h,f=a&&e.createPattern(a,u);f&&(h=l?Aa(Fu(l)):vp(dp()),c&&yp(h,h,[1/r,1/r,1]),f.setTransform({a:h[0],b:h[1],c:h[4],d:h[5],e:h[12],f:h[13]}));return o&&f&&(this.patternCache[o]=f),f},e.getOrCreateGradient=function(t,e){var n=this.generateGradientKey(t),r=t.type,i=t.steps,o=t.width,a=t.height,s=t.angle,u=t.cx,l=t.cy,c=t.size;if(this.gradientCache[n])return this.gradientCache[n];var h=null;if(r===ao.LinearGradient){var f=Ia(o,a,s),p=f.x1,d=f.y1,v=f.x2,y=f.y2;h=e.createLinearGradient(p,d,v,y)}else if(r===ao.RadialGradient){var g=Da(o,a,u,l,c),m=g.x,x=g.y,b=g.r;h=e.createRadialGradient(m,x,0,m,x,b)}return h&&(i.forEach((function(t){var e,n=t.offset,r=t.color;n.unit===Di.kPercentage&&(null===(e=h)||void 0===e||e.addColorStop(n.value/100,r.toString()))})),this.gradientCache[n]=h),this.gradientCache[n]},e.generateGradientKey=function(t){var e=t.type,n=t.width,r=t.height,i=t.steps,o=t.angle,a=t.cx,s=t.cy,u=t.size;return"gradient-"+e+"-"+((null===o||void 0===o?void 0:o.toString())||0)+"-"+((null===a||void 0===a?void 0:a.toString())||0)+"-"+((null===s||void 0===s?void 0:s.toString())||0)+"-"+((null===u||void 0===u?void 0:u.toString())||0)+"-"+n+"-"+r+"-"+i.map((function(t){var e=t.offset,n=t.color;return""+e+n})).join("-")},e.generatePatternKey=function(t){var e=t.image,n=t.repetition;return qt(e)?"pattern-"+e+"-"+n:"rect"===e.nodeName?"pattern-"+e.entity+"-"+n:void 0},t}(),mp=function(){function t(){}var e=t.prototype;return e.apply=function(e){var n=e.renderingService,r=e.renderingContext,i=e.imagePool,o=r.root.ownerDocument.defaultView,a=function(t){var e=t.target,r=e.nodeName,o=e.attributes;if(r===_a.IMAGE){var a=o.img;qt(a)&&i.getImageSync(a,(function(){e.renderable.dirty=!0,n.dirtify()}))}},s=function(t){var e=t.target,r=t.attrName,o=t.newValue;e.nodeName===_a.IMAGE&&"img"===r&&qt(o)&&i.getOrCreateImage(o).then((function(){e.renderable.dirty=!0,n.dirtify()}))};n.hooks.init.tapPromise(t.tag,cp(up().mark((function t(){return up().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.addEventListener(Rl.MOUNTED,a),o.addEventListener(Rl.ATTR_MODIFIED,s);case 2:case"end":return t.stop()}}),t)})))),n.hooks.destroy.tap(t.tag,(function(){o.removeEventListener(Rl.MOUNTED,a),o.removeEventListener(Rl.ATTR_MODIFIED,s)}))},t}();mp.tag="LoadImage";var xp=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.name="image-loader",e}hp(e,t);var n=e.prototype;return n.init=function(){this.context.imagePool=new gp(this.context.config),this.addRenderingPlugin(new mp)},n.destroy=function(){this.removeAllRenderingPlugins()},e}(yh);function bp(){bp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&n.call(g,o)&&(v=g);var m=d.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function wp(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function kp(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){wp(o,r,i,a,s,"next",t)}function s(t){wp(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Ep(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Mp(t,e)}function Mp(t,e){return Mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mp(t,e)}var Sp=function(){function t(){}var e=t.prototype;return e.apply=function(e){var n=e.renderingService,r=e.contextService,i=e.config,o=r.getDomElement(),a=function(t){n.hooks.pointerDown.call(t)},s=function(t){n.hooks.pointerUp.call(t)},u=function(t){n.hooks.pointerMove.call(t)},l=function(t){n.hooks.pointerOver.call(t)},c=function(t){n.hooks.pointerOut.call(t)},h=function(t){n.hooks.click.call(t)},f=function(t){n.hooks.pointerCancel.call(t)};n.hooks.init.tapPromise(t.tag,kp(bp().mark((function t(){return bp().wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.addEventListener("touchstart",a,!0),o.addEventListener("touchend",s,!0),o.addEventListener("touchmove",u,!0),o.addEventListener("touchcancel",f,!0),o.addEventListener("mouseout",c,!0),o.addEventListener("mouseover",l,!0),i.useNativeClickEvent&&o.addEventListener("click",h,!0);case 7:case"end":return t.stop()}}),t)})))),n.hooks.destroy.tap(t.tag,(function(){o.removeEventListener("touchstart",a,!0),o.removeEventListener("touchend",s,!0),o.removeEventListener("touchmove",u,!0),o.removeEventListener("touchcancel",f,!0),o.removeEventListener("mouseout",c,!0),o.removeEventListener("mouseover",l,!0),i.useNativeClickEvent&&o.removeEventListener("click",h,!0)}))},t}();Sp.tag="MobileInteraction";var Tp=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.name="mobile-interaction",e}Ep(e,t);var n=e.prototype;return n.init=function(){this.addRenderingPlugin(new Sp)},n.destroy=function(){this.removeAllRenderingPlugins()},e}(yh);function Pp(){Pp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&n.call(g,o)&&(v=g);var m=d.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Op(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function Cp(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Op(o,r,i,a,s,"next",t)}function s(t){Op(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Np(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ap(t,e)}function Ap(t,e){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ap(t,e)}function Lp(){Lp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(O){return{type:"throw",arg:O}}}t.wrap=l;var h={};function f(){}function p(){}function d(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&n.call(g,o)&&(v=g);var m=d.prototype=f.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function _p(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function Rp(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){_p(o,r,i,a,s,"next",t)}function s(t){_p(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function Dp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fp(t,e)}function Fp(t,e){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fp(t,e)}var jp=function(){function t(t){this.dragndropPluginOptions=void 0,this.dragndropPluginOptions=t}var e=t.prototype;return e.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext,o=i.root.ownerDocument,a=o.defaultView,s=function(t){var e=t.target,r=e===o,i=r&&n.dragndropPluginOptions.isDocumentDraggable?o:e.closest&&e.closest("[draggable=true]");if(i){var s=!1,u=t.timeStamp,l=[t.clientX,t.clientY],c=null,h=[t.clientX,t.clientY],f=function(){var t=Rp(Lp().mark((function t(a){var f,p,d,v,y,g;return Lp().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s){t.next=8;break}if(f=a.timeStamp-u,p=ot([a.clientX,a.clientY],l),!(f<=n.dragndropPluginOptions.dragstartTimeThreshold||p<=n.dragndropPluginOptions.dragstartDistanceThreshold)){t.next=5;break}return t.abrupt("return");case 5:a.type="dragstart",i.dispatchEvent(a),s=!0;case 8:if(a.type="drag",a.dx=a.clientX-h[0],a.dy=a.clientY-h[1],i.dispatchEvent(a),h=[a.clientX,a.clientY],r){t.next=21;break}return d="pointer"===n.dragndropPluginOptions.overlap?[a.canvasX,a.canvasY]:e.getBounds().center,t.next=17,o.elementsFromPoint(d[0],d[1]);case 17:v=t.sent,y=v[v.indexOf(e)+1],g=(null===y||void 0===y?void 0:y.closest("[droppable=true]"))||(n.dragndropPluginOptions.isDocumentDroppable?o:null),c!==g&&(c&&(a.type="dragleave",a.target=c,c.dispatchEvent(a)),g&&(a.type="dragenter",a.target=g,g.dispatchEvent(a)),c=g,c&&(a.type="dragover",a.target=c,c.dispatchEvent(a)));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();a.addEventListener("pointermove",f);var p=function(t){if(s){t.detail={preventClick:!0};var e=t.clone();c&&(e.type="drop",e.target=c,c.dispatchEvent(e)),e.type="dragend",i.dispatchEvent(e),s=!1}a.removeEventListener("pointermove",f)};e.addEventListener("pointerup",p,{once:!0}),e.addEventListener("pointerupoutside",p,{once:!0})}};r.hooks.init.tapPromise(t.tag,Rp(Lp().mark((function t(){return Lp().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.addEventListener("pointerdown",s);case 1:case"end":return t.stop()}}),t)})))),r.hooks.destroy.tap(t.tag,(function(){a.removeEventListener("pointerdown",s)}))},t}();jp.tag="Dragndrop";var Bp=function(t){function e(e){var n;return void 0===e&&(e={}),n=t.call(this)||this,n.options=void 0,n.name="dragndrop",n.options=e,n}Dp(e,t);var n=e.prototype;return n.init=function(){this.addRenderingPlugin(new jp(Ip({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},n.destroy=function(){this.removeAllRenderingPlugins()},n.setOptions=function(t){Object.assign(this.plugins[0].dragndropPluginOptions,t)},e}(yh);function Gp(t){return!(!t||"object"!==typeof t)&&(!(1!==t.nodeType||!t.nodeName)||!!t.isCanvasElement)}var Yp=function(){function t(t){this.$canvas=void 0,this.dpr=void 0,this.context=void 0,this.canvasConfig=void 0,this.canvasConfig=t.config}var e=t.prototype;return e.init=function(){var t=Cp(Pp().mark((function t(){var e,n,r,i;return Pp().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.canvasConfig,n=e.canvas,r=e.devicePixelRatio,this.$canvas=n,this.context=this.$canvas.getContext("2d"),i=r||1,i=i>=1?Math.ceil(i):1,this.dpr=i,this.resize(this.canvasConfig.width,this.canvasConfig.height);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),e.getContext=function(){return this.context},e.getDomElement=function(){return this.$canvas},e.getDPR=function(){return this.dpr},e.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},e.destroy=function(){this.context=null,this.$canvas=null},e.resize=function(t,e){var n=this.canvasConfig.devicePixelRatio,r=n,i=this.$canvas;i.style&&(i.style.width=t+"px",i.style.height=e+"px"),Gp(i)&&(i.width=t*r,i.height=e*r,1!==r&&this.context.scale(r,r))},e.applyCursorStyle=function(t){},e.toDataURL=function(){var t=Cp(Pp().mark((function t(e){var n,r;return Pp().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.type,r=e.encoderOptions,t.abrupt("return",this.context.canvas.toDataURL(n,r));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),t}(),Wp=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.name="mobile-canvas-context-register",e}Np(e,t);var n=e.prototype;return n.init=function(){this.context.ContextService=Yp},n.destroy=function(){delete this.context.ContextService},e}(yh),zp=function(t){function e(e){var n;return n=t.call(this,e)||this,n.registerPlugin(new Wp),n.registerPlugin(new xp),n.registerPlugin(new Hh),n.registerPlugin(new sp),n.registerPlugin(new Tp),n.registerPlugin(new Kf),n.registerPlugin(new Bp({isDocumentDraggable:!!Ht(null===e||void 0===e?void 0:e.isDocumentDraggable)||e.isDocumentDraggable,isDocumentDroppable:!!Ht(null===e||void 0===e?void 0:e.isDocumentDroppable)||e.isDocumentDroppable,dragstartDistanceThreshold:Ht(null===e||void 0===e?void 0:e.dragstartDistanceThreshold)?10:e.dragstartDistanceThreshold,dragstartTimeThreshold:Ht(null===e||void 0===e?void 0:e.dragstartTimeThreshold)?50:e.dragstartTimeThreshold})),n}return Np(e,t),e}(gh);function Xp(t){var e=[];function n(){var n,r=[],o=[];while(n=e.shift()){var a=n.state,s=n.component,u=n.callback;s.destroyed||(s.prevState||(s.prevState=Object.assign({},s.state)),"function"===typeof a?Object.assign(s.state,a(s.prevState,s.props)):Object.assign(s.state,a),s.prevState=s.state,"function"===typeof u&&o.push({callback:u,component:s}),r.indexOf(s)<0&&r.push(s))}t.updateComponents(r),i(o)}function r(t,r,i){0===e.length&&setTimeout(n,0),e.push({component:t,state:r,callback:i})}function i(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.callback,i=n.component;r.call(i)}}var o={enqueueForceUpdate:r,enqueueSetState:r};return o}var Vp,Up={fontSize:"24px",fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',pixelRatio:1,padding:[0,0,0,0]},Hp=Up,qp={fillStyle:"String",font:"String",globalAlpha:"Number",lineCap:"String",lineWidth:["Number","String"],lineJoin:"String",miterLimit:"Number",shadowBlur:"Number",shadowColor:"String",shadowOffsetX:"Number",shadowOffsetY:"Number",strokeStyle:"String",textAlign:"String",textBaseline:"String",lineDash:["Array","Number"],shadow:"String",matrix:"Array",stroke:"String",fill:["String","Object"],opacity:"Number",fillOpacity:"Number",strokeOpacity:"Number"},Kp={group:D({},qp),text:D(D({},qp),{x:"Number",y:"Number",text:"String",width:"Number",height:"Number",fontSize:["Number","String"],fontFamily:"String",fontStyle:"String",fontWeight:["Number","String"],fontVariant:"String"}),circle:D(D({},qp),{cx:"Number",cy:"Number",r:"Number"}),path:D({},qp),ellipse:D(D({},qp),{cy:"Number",cx:"Number",ry:"Number",rx:"Number"}),rect:D(D({},qp),{width:"Number",height:"Number",x:"Number",y:"Number",radius:["Array","Number"]}),image:D(D({},qp),{width:"Number",height:"Number",x:"Number",y:"Number",img:"String",src:"String"}),line:D(D({},qp),{x1:"Number",x2:"Number",y1:"Number",y2:"Number"}),polyline:D(D({},qp),{points:"Array",smooth:"Boolean"}),polygon:D(D({},qp),{points:"Array"}),arc:D(D({},qp),{x:"Number",y:"Number",r:"Number",startAngle:["Number","String"],endAngle:["Number","String"],anticlockwise:"Boolean"}),marker:D(D({},qp),{x:"Number",y:"Number",radius:"Number",symbol:"String"}),sector:D(D({},qp),{x:"Number",y:"Number",startAngle:["Number","String"],endAngle:["Number","String"],r:"Number",r0:"Number",anticlockwise:"Boolean"})};function Zp(t,e){if(!e)return e;var n={};return Object.keys(e).forEach((function(r){var i=e[r];if(!Ht(i)){var o=Kp[t]&&Kp[t][r];if(o){var a=Object.prototype.toString.call(i);if(U(o)){for(var s=0,u=o.length;s<u;s++)if(a==="[object ".concat(o[s],"]"))return void(n[r]=i)}else a==="[object ".concat(o,"]")&&(n[r]=i)}else n[r]=i}})),n}try{Vp=parseInt(document.documentElement.style.fontSize,10)||50}catch(Hd){Vp=50}var $p=Vp/100;function Jp(t){return t?Number((t*$p).toFixed(1)):0}function Qp(t){if(it(t))return[t,t,t,t];var e=t[0],n=it(t[1])?t[1]:t[0],r=it(t[2])?t[2]:e,i=it(t[3])?t[3]:n;return[e,n,r,i]}function td(t){var e=function e(n){if(qt(n)&&/^-?\d+(\.\d+)?px$/.test(n)){var r=n.substr(0,n.length-2);return t(Number(r))}if(U(n))return n.map((function(t){return e(t)}));if(Z(n)){var i={};for(var o in n)if(n.hasOwnProperty(o)){var a=e(n[o]);if(!a){i[o]=a;continue}if("padding"===o||"margin"===o){var s=Qp(a);i[o]=s,i["".concat(o,"Top")]=s[0],i["".concat(o,"Right")]=s[1],i["".concat(o,"Bottom")]=s[2],i["".concat(o,"Left")]=s[3];continue}i[o]=a}return i}return n};return e}var ed=td(Jp);function nd(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,rd(t,e)}function rd(t,e){return rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rd(t,e)}function id(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var od="object"===typeof performance&&performance.now?performance:Date,ad=250,sd=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.abs(n)>Math.abs(r)?n>0?"right":"left":r>0?"down":"up"},ud=function(t,e){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(n*n+r*r)},ld=function(t,e){var n=t.x+(e.x-t.x)/2,r=t.y+(e.y-t.y)/2;return{x:n,y:r}},cd=function(t){function e(e){var n;return n=t.call(this)||this,n.el=void 0,n.evCache=[],n.startTime=void 0,n.pressTimeout=void 0,n.startPoints=[],n.processEvent={},n.startDistance=void 0,n.center=void 0,n.eventType=void 0,n.direction=void 0,n.lastMoveTime=void 0,n.prevMovePoint=void 0,n.prevMoveTime=void 0,n.lastMovePoint=void 0,n.throttleTimer=0,n.emitThrottles=[],n._start=function(t){n.reset(),n.startTime=od.now();var e=id(n),r=e.evCache,i=e.startPoints;if(t){var o=t.pointerId,a=t.x,s=t.y;r.push({pointerId:o,x:a,y:s,ev:t})}i.length=r.length;for(var u=0;u<r.length;u++){var l=r[u],c=l.x,h=l.y,f={x:c,y:h};i[u]=f}if(1!==i.length)n.startDistance=ud(i[0],i[1]),n.center=ld(i[0],i[1]);else{var p=r[0].ev;n.pressTimeout=setTimeout((function(){var t="press",e="none";p.direction=e,p.deltaX=0,p.deltaY=0,p.points=i,n.emitStart(t,p),n.emit(t,p),n.eventType=t,n.direction=e}),ad)}},n._move=function(t){n.clearPressTimeout();var e=id(n),r=e.startPoints,i=e.evCache;if(r.length){for(var o=t.x,a=t.y,s=t.pointerId,u=!1,l=0,c=i.length;l<c;l++)if(s===i[l].pointerId){i[l]={pointerId:s,x:o,y:a,ev:t},u=!0;break}if(!u){var h={x:o,y:a};r.push(h),i.push({pointerId:s,x:o,y:a,ev:t}),n.startDistance=ud(r[0],r[1]),n.center=ld(r[0],r[1])}var f={x:o,y:a},p=i.map((function(t){return{x:t.x,y:t.y}})),d=od.now();if(n.prevMoveTime=n.lastMoveTime,n.prevMovePoint=n.lastMovePoint,n.lastMoveTime=d,n.lastMovePoint=f,1===r.length){var v=r[0],y=o-v.x,g=a-v.y,m=n.direction||sd(v,f);n.direction=m;var x=n.getEventType(f);return t.direction=m,t.deltaX=y,t.deltaY=g,t.points=p,n.emitStart(x,t),void n.emit(x,t)}var b=id(n),w=b.startDistance,k=ud(p[0],p[1]);t.zoom=k/w,t.center=n.center,t.points=p,n.emitStart("pinch",t),n._throttleEmit("pinch",t)}},n._end=function(t){var e=id(n),r=e.evCache,i=e.startPoints,o=r.map((function(t){return{x:t.x,y:t.y}}));if(t.points=o,n.emitEnd(t),1===r.length){var a=od.now(),s=n.lastMoveTime;if(a-s<100){var u=n.prevMoveTime||n.startTime,l=s-u;if(l>0){var c=n.prevMovePoint||i[0],h=n.lastMovePoint||i[0],f=ud(c,h)/l;f>.3&&(t.velocity=f,t.direction=sd(c,h),n.emit("swipe",t))}}}for(var p=0,d=r.length;p<d;p++)if(r[p].pointerId===t.pointerId){r.splice(p,1),i.splice(p,1);break}n.reset(),r.length>0&&n._start()},n._cancel=function(t){var e=id(n),r=e.evCache,i=r.map((function(t){return{x:t.x,y:t.y}}));t.points=i,n.emitEnd(t),n.evCache=[],n.reset()},n.el=e,n._initEvent(),n}nd(e,t);var n=e.prototype;return n._initEvent=function(){var t=this.el;t.addEventListener("pointerdown",this._start),t.addEventListener("pointermove",this._move),t.addEventListener("pointerup",this._end),t.addEventListener("pointercancel",this._cancel),t.addEventListener("pointerupoutside",this._end)},n.getEventType=function(t){var e,n=this.eventType,r=this.startTime,i=this.startPoints;if(n)return n;var o=this._events.pan;if(o){var a=od.now();e=a-r>ad&&ud(i[0],t)<10?"press":"pan"}else e="press";return this.eventType=e,e},n.enable=function(t){this.processEvent[t]=!0},n.isProcess=function(t){return this.processEvent[t]},n.emitStart=function(t,e){this.isProcess(t)||(this.enable(t),this.emit(t+"start",e))},n._throttleEmit=function(t,e){var n,r,i=this;this.pushEvent(t,e);var o=this.el,a=this.throttleTimer,s=this.emitThrottles,u=this.processEvent;if(!a){var l=(null===(n=o.ownerDocument)||void 0===n?void 0:n.defaultView)||(null===(r=o.document)||void 0===r?void 0:r.defaultView);this.throttleTimer=l.requestAnimationFrame((function(){for(var t=0,e=s.length;t<e;t++){var n=s[t],r=n.type,o=n.ev;u[r]&&i.emit(r,o)}i.throttleTimer=0,i.emitThrottles.length=0}))}},n.emitEnd=function(t){var e=this,n=this.processEvent;Object.keys(n).forEach((function(r){e.emit(r+"end",t),delete n[r]}))},n.pushEvent=function(t,e){for(var n=this.emitThrottles,r={type:t,ev:e},i=0,o=n.length;i<o;i++)if(n[i].type===t)return void n.splice(i,1,r);n.push(r)},n.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)},n.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoint=null,this.lastMoveTime=0,this.lastMovePoint=null},e}(Wi()),hd=cd,fd={click:!0,touchstart:!0,touchmove:!0,touchend:!0,touchendoutside:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragstart:!0,drag:!0,dragend:!0},pd={panstart:!0,pan:!0,panend:!0,pressstart:!0,press:!0,pressend:!0,swipe:!0,pinchstart:!0,pinch:!0,pinchend:!0},dd=function(){function t(t){this.el=t,this.gesture=new hd(t)}return t.prototype.on=function(t,e){var n=this,r=n.el,i=n.gesture;fd[t]?r.addEventListener(t,e):pd[t]&&i.on(t,e)},t.prototype.off=function(t,e){var n=this,r=n.el,i=n.gesture;fd[t]?r.removeEventListener(t,e):pd[t]&&i.off(t,e)},t}(),vd=dd;function yd(t,e){var n;if(t)if(U(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(de(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var gd=yd,md=Object.prototype.hasOwnProperty,xd=function(t,e){if(null===t||!Z(t))return{};var n={};return gd(e,(function(e){md.call(t,e)&&(n[e]=t[e])})),n},bd=function(){function t(t,e,n){this.isMounted=!1,this.destroyed=!1,this.props=t,this.state={},this.context=e,this.updater=n}return t.prototype.willMount=function(){},t.prototype.didMount=function(){},t.prototype.shouldUpdate=function(t){return!0},t.prototype.willReceiveProps=function(t,e){},t.prototype.willUpdate=function(){},t.prototype.didUpdate=function(){},t.prototype.render=function(){return null},t.prototype.willUnmount=function(){},t.prototype.didUnmount=function(){},t.prototype.setState=function(t,e){this.destroyed||this.updater.enqueueSetState(this,t,e)},t.prototype.forceUpdate=function(t){this.destroyed||this.updater.enqueueForceUpdate(this,{},t)},t.prototype.setAnimate=function(t){this.animate=t},t.prototype.destroy=function(){this.destroyed=!0,this.animator=null},t}();bd.prototype.isF2Component=!0;var wd=bd;function kd(t,e){return t?D(D({},t),{props:D(D({},t.props),e)}):t}function Ed(t,e){return t&&U(t)?t.map((function(t){return Ed(t,e)})):e(t)}function Md(t,e,n){for(var r={},i=t.length,o=e.length,a=0,s=o;a<s;a++){var u=e[a];if(u&&!Ht(u.key)){var l=u.key;r[l]=u}}var c=[];for(a=0,s=i;a<s;a++){u=t[a];if(u){l=u.key;var h=void 0;Ht(u.key)?h=e[a]:(h=r[l],h&&delete r[l]),h?(null===h||void 0===h?void 0:h.__processed)?c.push(Sd(u,null,n)):(h.__processed=!0,c.push(Sd(u,h,n))):c.push(Sd(u,null,n))}}for(a=0,s=o;a<s;a++){h=e[a];h&&((null===h||void 0===h?void 0:h.__processed)?delete h.__processed:c.push(Sd(null,h,n)))}return c}function Sd(t,e,n){if(!t||!e)return n(t,e);if(U(t)||U(e)){var r=U(t)?t:[t],i=U(e)?e:[e];return Md(r,i,n)}return n(t,e)}function Td(t){if(!t)return t;if(!U(t))return[t];for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];U(i)?e=e.concat(Td(i)):e.push(i)}return e}var Pd={cloneElement:kd,map:Ed,toArray:Td,compare:Sd},Od=Pd;function Cd(t){return[t.x,t.y]}function Nd(t,e,n,r){var i,o,a,s,u,l,c,h,f=[],p=!!r;if(p){for(a=[1/0,1/0],s=[-1/0,-1/0],h=0,c=t.length;h<c;h++)u=Cd(t[h]),Gr(a,a,u),Yr(s,s,u);Gr(a,a,r[0]),Yr(s,s,r[1])}for(h=0,l=t.length;h<l;h++){if(u=Cd(t[h]),n)i=Cd(t[h?h-1:l-1]),o=Cd(t[(h+1)%l]);else{if(0===h||h===l-1){f.push([u[0],u[1]]);continue}i=Cd(t[h-1]),o=Cd(t[h+1])}var d=Zr([],o,i);Wr(d,d,e);var v=zr(u,i),y=zr(u,o),g=v+y;0!==g&&(v/=g,y/=g);var m=Wr([],d,-v),x=Wr([],d,y),b=jr([],u,m),w=jr([],u,x);p&&(Yr(b,b,a),Gr(b,b,s),Yr(w,w,a),Gr(w,w,s)),f.push([b[0],b[1]]),f.push([w[0],w[1]])}return n&&f.push(f.shift()),f}function Ad(t,e,n){for(var r,i,o,a=!!e,s=Nd(t,.4,a,n),u=t.length,l=[],c=0;c<u-1;c++)r=s[2*c],i=s[2*c+1],o=t[c+1],l.push(["C",r[0],r[1],i[0],i[1],o.x,o.y]);return a&&(r=s[u],i=s[u+1],o=t[0],l.push(["C",r[0],r[1],i[0],i[1],o.x,o.y])),l}var Ld=function(t){function e(e){var n=t.call(this,e)||this;return n.updatePath(),n}return I(e,t),e.prototype.setAttribute=function(e,n,r){t.prototype.setAttribute.call(this,e,n,r),["smooth","points"].indexOf(e)>-1&&this.updatePath()},e.prototype.updatePath=function(){var e=this.parsedStyle,n=e.smooth,r=e.points,i=r.points,o=[["M",i[0][0],i[0][1]]];if(n)for(var a=[[0,0],[1,1]],s=Ad(i.map((function(t){return{x:t[0],y:t[1]}})),!1,a),u=0,l=s.length;u<l;u++){var c=s[u];o.push(["C",c[1],c[2],c[3],c[4],c[5],c[6]])}else{u=void 0;var h=void 0;for(u=1,h=i.length-1;u<h;u++)o.push(["L",i[u][0],i[u][1]]);o.push(["L",i[h][0],i[h][1]])}t.prototype.setAttribute.call(this,"path",o)},e.tag="smooth-polyline",e}(gc),_d=function(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}};function Rd(t,e,n){return n?e>=t?e-t<=Math.PI?1:0:e-t<=-Math.PI?1:0:e>=t?e-t<=Math.PI?0:1:e-t<=-Math.PI?0:1}var Id=function(t){function e(e){var n=t.call(this,e)||this;return n.updatePath(),n}return I(e,t),e.prototype.setAttribute=function(e,n,r){t.prototype.setAttribute.call(this,e,n,r),["cx","cy","startAngle","endAngle","r","anticlockwise"].indexOf(e)>-1&&this.updatePath()},e.prototype.updatePath=function(){var e=this.parsedStyle,n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.startAngle,s=e.endAngle,u=e.r,l=e.anticlockwise;if(!(Ht(a)||Ht(s)||a===s||Ht(u)||u<=0)){var c=this.createPath(r,o,fa(a),fa(s),u,l);t.prototype.setAttribute.call(this,"path",c)}},e.prototype.createPath=function(t,e,n,r,i,o){var a=_d(t,e,i,n),s=_d(t,e,i,r),u=Math.abs(r-n);if(u>=2*Math.PI||Yt(u,2*Math.PI)){var l=_d(t,e,i,n+Math.PI);return[["M",a.x,a.y],["A",i,i,0,1,o?0:1,l.x,l.y],["A",i,i,0,1,o?0:1,a.x,a.y],["Z"]]}var c=Rd(n,r,o);return[["M",a.x,a.y],["A",i,i,0,c,o?0:1,s.x,s.y]]},e}(gc),Dd={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},arrow:function(t,e,n){return[["M",t-n,e+2*n/Math.sqrt(3)],["L",t+n,e+2*n/Math.sqrt(3)],["L",t,e-2*n/Math.sqrt(3)],["Z"]]}},Fd=function(t){function e(e){var n=t.call(this,e)||this;return n.updatePath(),n}return I(e,t),e.prototype.setAttribute=function(e,n,r){t.prototype.setAttribute.call(this,e,n,r),["x","y","symbol","radius"].indexOf(e)>-1&&this.updatePath()},e.prototype.updatePath=function(){var e=this.parsedStyle,n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=this.attributes,s=a.radius,u=a.symbol;if(u){var l=Dd[u];if(l){var c=l(r,o,s);t.prototype.setAttribute.call(this,"path",c)}}},e}(gc),jd=Math.PI,Bd=2*jd,Gd=Math.sin,Yd=Math.cos,Wd=Math.acos,zd=Math.atan2,Xd=Math.sqrt,Vd=Math.max,Ud=Math.min,Hd=1e-4;function qd(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,h=s-o,f=h*u-c*l;if(!(f*f<Hd))return f=(c*(e-o)-h*(t-i))/f,[t+f*u,e+f*l]}function Kd(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/Xd(s*s+u*u),c=l*u,h=-l*s,f=t+c,p=e+h,d=n+c,v=r+h,y=(f+d)/2,g=(p+v)/2,m=d-f,x=v-p,b=m*m+x*x,w=i-o,k=f*v-d*p,E=(x<0?-1:1)*Xd(Vd(0,w*w*b-k*k)),M=(k*x-m*E)/b,S=(-k*m-x*E)/b,T=(k*x+m*E)/b,P=(-k*m+x*E)/b,O=M-y,C=S-g,N=T-y,A=P-g;return O*O+C*C>N*N+A*A&&(M=T,S=P),{cx:M,cy:S,x0:-c,y0:-h,x1:M*(i/w-1),y1:S*(i/w-1)}}function Zd(t,e,n){if(void 0===n&&(n=!0),!n){var r=e;e=t,t=r}return e=e-t<0?e+Bd:e,Math.abs(e-t)%Bd<=jd?0:1}var $d=function(t){function e(e){var n=t.call(this,e)||this;return n.updatePath(),n}return I(e,t),e.prototype.setAttribute=function(e,n,r){t.prototype.setAttribute.call(this,e,n,r),["startAngle","endAngle","r","r0","radius","cx","cy"].indexOf(e)>-1&&this.updatePath()},e.prototype.updatePath=function(){var e=this.parsedStyle,n=e.cx,r=e.cy,i=e.startAngle,o=e.endAngle,a=e.r,s=e.r0,u=e.radius,l=e.anticlockwise,c=void 0!==l&&l;if(!(Ht(i)||Ht(o)||i===o||Ht(a)||a<=0)){var h=this.createPath(n,r,fa(i),fa(o),a,s||0,u||[0,0,0,0],c);t.prototype.setAttribute.call(this,"path",h)}},e.prototype.createPath=function(t,e,n,r,i,o,a,s){var u=_d(t,e,i,n),l=_d(t,e,i,r),c=_d(t,e,o,n),h=_d(t,e,o,r),f=!s,p=f?r-n:n-r;if(Math.abs(p)>=Bd||Yt(Math.abs(p),Bd)){var d=_d(t,e,i,n+Math.PI),v=_d(t,e,o,n+Math.PI),y=[["M",u.x,u.y],["A",i,i,0,1,f?1:0,d.x,d.y],["A",i,i,0,1,f?1:0,l.x,l.y]];return o>0&&(y.push(["M",c.x,c.y]),y.push(["A",o,o,0,1,f?0:1,v.x,v.y]),y.push(["A",o,o,0,1,f?0:1,h.x,h.y])),y.push(["M",u.x,u.y]),y.push(["Z"]),y}var g=i*Yd(n),m=i*Gd(n),x=o*Yd(r),b=o*Gd(r),w=i*Yd(r),k=i*Gd(r),E=o*Yd(n),M=o*Gd(n),S=a[0],T=a[1],P=a[2],O=a[3],C=(i-o)/2,N=Ud(C,S),A=Ud(C,T),L=Ud(C,P),_=Ud(C,O),R=Vd(N,A),I=Vd(L,_),D=R,F=I;if((R>Hd||I>Hd)&&p<jd){var j=qd(g,m,E,M,w,k,x,b);if(j){var B=g-j[0],G=m-j[1],Y=w-j[0],W=k-j[1],z=1/Gd(Wd((B*Y+G*W)/(Xd(B*B+G*G)*Xd(Y*Y+W*W)))/2),X=Xd(j[0]*j[0]+j[1]*j[1]);D=Ud(R,(i-X)/(z+1)),F=Ud(I,(o-X)/(z-1))}}var V=Zd(n,r,f),U=[];if(D>Hd){var H=Ud(S,D),q=Ud(T,D),K=Kd(E,M,g,m,i,H,f),Z=Kd(w,k,x,b,i,q,f);if(U.push(["M",t+K.cx+K.x0,e+K.cy+K.y0]),D<R&&H===q){var $=zd(K.cy+K.y0,K.cx+K.x0),J=zd(Z.cy+Z.y0,Z.cx+Z.x0);U.push(["A",D,D,0,Zd($,J,!f),f?1:0,t+Z.cx+Z.x0,e+Z.cy+Z.y0])}else{if(H>0){$=zd(K.y0,K.x0),J=zd(K.y1,K.x1);var Q=_d(t,e,i,J);U.push(["A",H,H,0,Zd($,J,f),f?1:0,Q.x,Q.y])}var tt=zd(K.cy+K.y1,K.cx+K.x1),et=zd(Z.cy+Z.y1,Z.cx+Z.x1),nt=_d(t,e,i,et);if(U.push(["A",i,i,1,Zd(tt,et,f),f?1:0,nt.x,nt.y]),q>0){var rt=zd(Z.y1,Z.x1),it=zd(Z.y0,Z.x0);U.push(["A",q,q,0,Zd(rt,it,f),f?1:0,t+Z.cx+Z.x0,e+Z.cy+Z.y0])}}}else U.push(["M",u.x,u.y]),U.push(["A",i,i,0,V,f?1:0,l.x,l.y]);if(o<Hd)U.push(["L",h.x,h.y]);else if(F>Hd){H=Ud(O,F),q=Ud(P,F),K=Kd(0,0,x,b,o,-q,f),Z=Kd(E,M,0,0,o,-H,f);if(U.push(["L",t+K.cx+K.x0,e+K.cy+K.y0]),F<I&&H===q){var ot=zd(K.y0,K.x0),at=zd(Z.y0,Z.x0);U.push(["A",F,F,0,Zd(ot,at),1,t+Z.cx+Z.x0,e+Z.cy+Z.y0])}else{if(q>0){ot=zd(K.y0,K.x0),at=zd(K.y1,K.x1);U.push(["A",q,q,0,Zd(ot,at,f),f?1:0,t+K.cx+K.x1,e+K.cy+K.y1])}var st=zd(K.cy+K.y1,K.cx+K.x1),ut=zd(Z.cy+Z.y1,Z.cx+Z.x1),lt=_d(t,e,o,ut);if(U.push(["A",o,o,0,Zd(ut,st,f),f?0:1,lt.x,lt.y]),H>0){var ct=zd(Z.y1,Z.x1),ht=zd(Z.y0,Z.x0);U.push(["A",H,H,0,Zd(ct,ht,f),f?1:0,t+Z.cx+Z.x0,e+Z.cy+Z.y0])}}}else U.push(["L",h.x,h.y]),U.push(["A",o,o,0,V,f?0:1,c.x,c.y]);return U.push(["Z"]),U},e}(gc),Jd={},Qd=function(t,e){Jd[t]=e},tv=function(t){return Jd[t]},ev=[["click","onClick"],["touchstart","onTouchStart"],["touchmove","onTouchMove"],["touchend","onTouchEnd"],["touchendoutside","onTouchEndOutside"],["dragenter","onDragEnter"],["dragleave","onDragLeave"],["dragover","onDragOver"],["drop","onDrop"],["dragstart","onDragStart"],["drag","onDrag"],["dragend","onDragEnd"],["panstart","onPanStart"],["pan","onPan"],["panend","onPanEnd"],["pressstart","onPressStart"],["press","onPress"],["pressend","onPressEnd"],["swipe","onSwipe"],["pinchstart","onPinchStart"],["pinch","onPinch"],["pinchend","onPinchEnd"]],nv=[["group",Ec],["text",Sc],["circle",ic],["path",gc],["ellipse",ac],["rect",Ec],["image",fc],["line",dc],["polyline",Ld],["polygon",xc],["arc",Id],["marker",Fd],["sector",$d]];nv.map((function(t){var e=t[0],n=t[1];Qd(e,n)}));var rv=[{name:"r0",inherits:!1,interpolable:!0,syntax:Ii.LENGTH_PERCENTAGE},{name:"startAngle",inherits:!1,interpolable:!0,syntax:Ii.ANGLE},{name:"endAngle",inherits:!1,interpolable:!0,syntax:Ii.ANGLE}];function iv(t,e){if(!t)return null;var n=tv(t);if(!n)return null;var r=new n(e);return ov(r,e),r}function ov(t,e){var n=new vd(t);ev.forEach((function(t){var r=t[0],i=t[1];e[i]&&n.on(r,e[i])}))}rv.forEach((function(t){_o.registerProperty(t)}));var av=0,sv=1,uv=2;function lv(t){return qt(t)?uv:t.prototype&&t.prototype.isF2Component?sv:av}function cv(t){var e,n=t.tag,r=t.children;return n===uv?t:(Od.map(r,(function(t){e||(e=cv(t))})),e)}var hv=cv,fv=function(t,e,n){if(!U(t)&&!Z(t))return t;var r=n;return gd(t,(function(t,n){r=e(r,t,n)})),r},pv=fv,dv=function(t,e){return pv(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})};function vv(t,e){e&&Object.keys(e).forEach((function(n){if("clip"===n||"offset"===n){var r=e[n];if(Vl(null===r||void 0===r?void 0:r.current))return void t.setAttribute("".concat(n,"Path"),r.current);var i=W(r)?r(e):r;if(i){var o=i.type,a=i.style,s=iv(o,{style:a});t.setAttribute("".concat(n,"Path"),s)}}else t.setAttribute(n,e[n])}))}var yv=vv,gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.animate=function(t,e,n,r){this.shape=t,this.start=e,this.end=n,this.effect=r},e.prototype.loadPlay=function(){var t=this,e=t.shape,n=t.start,r=t.end,i=t.effect,o=t.children,a=[];if(i){var s=i.property,u=void 0===s?[]:s,l=i.easing,c=i.duration,h=i.delay,f=i.iterations,p=i.clip,d=i.onFrame,v=void 0===d?function(){}:d,y=i.onEnd,g=void 0===y?function(){}:y;if(u.length&&c>0){var m=D(D({},dv(n,u)),dv(r,u));yv(e,m);var x=u.reduce((function(t,e){return t[e]=n[e],t}),{}),b=xd(r,u),w=e.animate([x,b],{fill:"both",easing:l,duration:c,delay:h,iterations:f});w?(w.onframe=v,w.onfinish=g,f!==1/0&&a.push(w),this.animation=w):yv(e,r)}else yv(e,r);if(p){var k=W(p)?p(r):p;if(k){var E=k.type,M=k.style,S=k.property,T=void 0===S?[]:S,P=k.easing,O=k.duration,C=k.delay,N=k.iterations,A=k.start,L=k.end;if(T.length&&(O||c)>0){var _=D(D({},M),A),R=D(D({},M),L),I=T.reduce((function(t,e){return t[e]=_[e],t}),{}),F=xd(R,T),j=iv(E,{style:_});e.setAttribute("clipPath",j),e.ownerDocument.documentElement.appendChild(j);var B=j.animate([I,F],{fill:"both",easing:P||l,duration:O||c,delay:C||h,iterations:N||f});if(B){var G=B.finished;this.animation=B,G.then((function(){e.setAttribute("clipPath",null),j.destroy()})),(N||f)!==1/0&&a.push(B)}else e.setAttribute("clipPath",null),j.destroy()}}}}return o&&o.length&&o.forEach((function(t){if(t){var e=t.loadPlay();e&&a.push.apply(a,e)}})),this.endEmit(a),a},e.prototype.pause=function(){var t=this,e=t.children,n=t.animation;n&&n.pause(),e&&e.length&&e.forEach((function(t){t&&t.pause()}))},e.prototype.endEmit=function(t){var e=this;if(!t.length)return this.emit("end"),null;var n=Promise.all(t.map((function(t){return t.finished})));n.then((function(){e.emit("end")}))},e.prototype.play=function(){var t=this,e=t.children,n=t.animation;n&&n.play(),e&&e.length&&e.forEach((function(t){t&&t.play()}))},e.prototype.reset=function(t){this.shape=t,this.start=null,this.end=null,this.effect=null,this.children=null},e}(Wi()),mv=gv;function xv(t){var e=[];return Od.map(t,(function(t){if(t){var n=t.tag,r=t.type,i=t.children;n===uv&&"group"!==r&&e.push(t),i&&e.push.apply(e,xv(i))}})),e}function bv(t,e,n){var r=e.props,i=e.shape,o=e.style,a=t.shape,s=t.style;a.destroy();var u=r.animate,l=r.animation,c=l?l.update:null;if(!1===u||!c)return n;n=n||new mv;var h=c.start,f=c.end,p=c.property,d=void 0===p?[]:p,v=i.parsedStyle,y=a.parsedStyle,g=rs(a),m=rs(i),x=D(D(D({},s),h),{path:g}),b=D(D(D({},o),f),{path:m}),w=iv("path",{style:D(D({},x),{path:""})}),k=d.filter((function(t){return v.hasOwnProperty(t)&&y.hasOwnProperty(t)})).concat("path");return n.animate(w,x,b,D(D({},c),{property:k})),n.once("end",(function(){yv(i,b),w.replaceWith(i)})),n}function wv(t){return Od.map(t,(function(t){if(t){var e=t.tag,n=t.shape,r=t.style,i=t.children,o=t.animate,a=t.props,s=t.animator;if(s.reset(n),s.children=i?Tv(t,i,null):null,!1===o||e!==uv)return yv(n,r),s;var u=a.animation,l=u?u.appear:null;if(!l)return yv(n,r),s;var c=l.start,h=void 0===c?{}:c,f=l.end,p=D(D({},r),f);return s.animate(n,h,p,l),s}}))}function kv(t,e){var n=t.tag,r=t.type,i=t.style,o=t.children,a=t.props,s=t.shape,u=t.animator,l=t.animate,c=e.tag,h=e.type,f=e.style,p=e.children,d=e.shape;u.reset(s),u.children=Tv(t,o,p);var v=a.animation,y=v?v.update:null;if(r===h){var g=f?Object.keys(f).reduce((function(t,e){return t[e]="",t}),{}):null,m=D(D({},g),i);if(n!==uv)return yv(s,m),u;if(!1===l||!y)return yv(s,m),u;var x=y.start,b=y.end,w=D(D({},f),x),k=D(D({},m),b);return u.animate(s,w,k,y),u}if(n!==uv||c!==uv)return d.destroy(),u;if("group"===r){var E=xv(t.children);return E.map((function(t){return bv(e,t)}))}if("group"===h){E=xv(e.children);return E.map((function(e){return bv(e,t)}))}return!1!==l&&y?bv(e,t,u):(yv(s,i),u)}function Ev(t){return Od.map(t,(function(t){if(!t)return null;var e=t.tag,n=t.shape,r=t.children,i=t.animate,o=t.style,a=t.props,s=t.animator;if(n.destroyed)return null;s.reset(n);var u=r?Od.toArray(r).map((function(t){return Ev(t)})).filter(Boolean):null;if(!1===i)return n.destroy(),s;var l=a.animation,c=l?l.leave:null;if((!u||!u.length)&&!c)return n.destroy(),s;if(s.children=u,c&&e===uv){var h=c.start,f=c.end,p=void 0===f?{}:f,d=D(D({},o),h),v=p;s.animate(n,d,v,c)}return s.once("end",(function(){n.destroy()})),s}))}function Mv(t,e){if(!t&&!e)return null;if(!t&&e)return Ev(e);var n=t.transform;if(n){var r=hv(t);t.transform=null,r.transform=n}return t.transform?e?[kv(t,t.transform),Ev(e)]:kv(t,t.transform):t&&!e?wv(t):kv(t,e)}function Sv(t,e,n){n?t.insertBefore(e,n):t.appendChild(e)}function Tv(t,e,n){if(e||n){var r,i=t.shape,o=[];return Od.compare(e,n,(function(t,e){var n=Mv(t,e);Od.map(n,(function(t){if(t){o.push(t);var e,n=t.shape;if(n&&!n.destroyed)e=r?r.nextSibling:i.firstChild,e!==n&&Sv(i,n,e),r=n}}))})),o}}var Pv,Ov=function(t){var e=t.left,n=t.top,r=t.width,i=t.height;return{x:e,y:n,width:r,height:i}},Cv=function(t){var e=t.left,n=t.top,r=t.width,i=t.height;return{x1:e,y1:n,x2:e+r,y2:n+i}},Nv=function(t){var e=t.height,n=t.left,r=t.top;return{x:n,y:r+e/2,textBaseline:"middle"}},Av=function(t){var e=t.left,n=t.top,r=t.width,i=r/2;return{cx:e+i,cy:n+i,r:i}},Lv=function(t){var e=t.left,n=t.top,r=t.width,i=r/2;return{x:e+i,y:n,radius:i}},_v={rect:Ov,line:Cv,text:Nv,circle:Av,marker:Lv,group:Ov},Rv=function(t,e){if(!e)return null;var n=_v[t]||Ov;return n(e)},Iv="inherit",Dv="ltr",Fv="rtl",jv="row",Bv="row-reverse",Gv="column",Yv="column-reverse",Wv="flex-start",zv="center",Xv="flex-end",Vv="space-between",Uv="space-around",Hv="flex-start",qv="center",Kv="flex-end",Zv="stretch",$v="relative",Jv="absolute",Qv={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},ty={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},ey={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},ny={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function ry(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(ry),t}function iy(t){return void 0===t}function oy(t){return t===jv||t===Bv}function ay(t){return t===Gv||t===Yv}function sy(t,e){if(void 0!==t.style.marginStart&&oy(e))return t.style.marginStart;var n=null;switch(e){case"row":n=t.style.marginLeft;break;case"row-reverse":n=t.style.marginRight;break;case"column":n=t.style.marginTop;break;case"column-reverse":n=t.style.marginBottom;break}return void 0!==n?n:void 0!==t.style.margin?t.style.margin:0}function uy(t,e){if(void 0!==t.style.marginEnd&&oy(e))return t.style.marginEnd;var n=null;switch(e){case"row":n=t.style.marginRight;break;case"row-reverse":n=t.style.marginLeft;break;case"column":n=t.style.marginBottom;break;case"column-reverse":n=t.style.marginTop;break}return null!=n?n:void 0!==t.style.margin?t.style.margin:0}function ly(t,e){if(void 0!==t.style.paddingStart&&t.style.paddingStart>=0&&oy(e))return t.style.paddingStart;var n=null;switch(e){case"row":n=t.style.paddingLeft;break;case"row-reverse":n=t.style.paddingRight;break;case"column":n=t.style.paddingTop;break;case"column-reverse":n=t.style.paddingBottom;break}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}function cy(t,e){if(void 0!==t.style.paddingEnd&&t.style.paddingEnd>=0&&oy(e))return t.style.paddingEnd;var n=null;switch(e){case"row":n=t.style.paddingRight;break;case"row-reverse":n=t.style.paddingLeft;break;case"column":n=t.style.paddingBottom;break;case"column-reverse":n=t.style.paddingTop;break}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}function hy(t,e){if(void 0!==t.style.borderStartWidth&&t.style.borderStartWidth>=0&&oy(e))return t.style.borderStartWidth;var n=null;switch(e){case"row":n=t.style.borderLeftWidth;break;case"row-reverse":n=t.style.borderRightWidth;break;case"column":n=t.style.borderTopWidth;break;case"column-reverse":n=t.style.borderBottomWidth;break}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function fy(t,e){if(void 0!==t.style.borderEndWidth&&t.style.borderEndWidth>=0&&oy(e))return t.style.borderEndWidth;var n=null;switch(e){case"row":n=t.style.borderRightWidth;break;case"row-reverse":n=t.style.borderLeftWidth;break;case"column":n=t.style.borderBottomWidth;break;case"column-reverse":n=t.style.borderTopWidth;break}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function py(t,e){return ly(t,e)+hy(t,e)}function dy(t,e){return cy(t,e)+fy(t,e)}function vy(t,e){return hy(t,e)+fy(t,e)}function yy(t,e){return sy(t,e)+uy(t,e)}function gy(t,e){return py(t,e)+dy(t,e)}function my(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}function xy(t){return t.style.alignContent?t.style.alignContent:"flex-start"}function by(t,e){return e.style.alignSelf?e.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function wy(t,e){if(e===Fv){if(t===jv)return Bv;if(t===Bv)return jv}return t}function ky(t,e){var n;return n=t.style.direction?t.style.direction:Iv,n===Iv&&(n=void 0===e?Dv:e),n}function Ey(t){return t.style.flexDirection?t.style.flexDirection:Gv}function My(t,e){return ay(t)?wy(jv,e):Gv}function Sy(t){return t.style.position?t.style.position:"relative"}function Ty(t){return Sy(t)===$v&&t.style.flex>0}function Py(t){return"wrap"===t.style.flexWrap}function Oy(t,e){return t.layout[ny[e]]+yy(t,e)}function Cy(t,e){return void 0!==t.style[ny[e]]&&t.style[ny[e]]>=0}function Ny(t,e){return void 0!==t.style[e]}function Ay(t){return void 0!==t.style.measure}function Ly(t,e){return void 0!==t.style[e]?t.style[e]:0}function _y(t,e,n){var r={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[e],i={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[e],o=n;return void 0!==i&&i>=0&&o>i&&(o=i),void 0!==r&&r>=0&&o<r&&(o=r),o}function Ry(t,e){return t>e?t:e}function Iy(t,e){void 0===t.layout[ny[e]]&&Cy(t,e)&&(t.layout[ny[e]]=Ry(_y(t,e,t.style[ny[e]]),gy(t,e)))}function Dy(t,e,n){e.layout[ty[n]]=t.layout[ny[n]]-e.layout[ny[n]]-e.layout[ey[n]]}function Fy(t,e){return void 0!==t.style[Qv[e]]?Ly(t,Qv[e]):-Ly(t,ty[e])}function jy(t,e,n){var r=ky(t,n),i=wy(Ey(t),r),o=My(i,r),a=wy(jv,r);Iy(t,i),Iy(t,o),t.layout.direction=r,t.layout[Qv[i]]+=sy(t,i)+Fy(t,i),t.layout[ty[i]]+=uy(t,i)+Fy(t,i),t.layout[Qv[o]]+=sy(t,o)+Fy(t,o),t.layout[ty[o]]+=uy(t,o)+Fy(t,o);var s=t.children.length,u=gy(t,a);if(Ay(t)){var l=!iy(t.layout[ny[a]]),c=Pv;c=Cy(t,a)?t.style.width:l?t.layout[ny[a]]:e-yy(t,a),c-=u;var h=!Cy(t,a)&&!l,f=!Cy(t,Gv)&&iy(t.layout[ny[Gv]]);if(h||f){var p=t.style.measure(c);h&&(t.layout.width=p.width+u),f&&(t.layout.height=p.height+gy(t,Gv))}if(0===s)return}var d,v,y,g,m=Py(t),x=my(t),b=py(t,i),w=py(t,o),k=gy(t,i),E=gy(t,o),M=!iy(t.layout[ny[i]]),S=!iy(t.layout[ny[o]]),T=oy(i),P=null,O=null,C=Pv;M&&(C=t.layout[ny[i]]-k);var N=0,A=0,L=0,_=0,R=0,I=0;while(A<s){var D,F=0,j=0,B=0,G=0,Y=M&&x===Wv||!M&&x!==zv,W=Y?s:N,z=!0,X=s,V=null,U=null,H=b,q=0;for(d=N;d<s;++d){y=t.children[d],y.lineIndex=I,y.nextAbsoluteChild=null,y.nextFlexChild=null;var K=by(t,y);if(K===Zv&&Sy(y)===$v&&S&&!Cy(y,o))y.layout[ny[o]]=Ry(_y(y,o,t.layout[ny[o]]-E-yy(y,o)),gy(y,o));else if(Sy(y)===Jv)for(null===P&&(P=y),null!==O&&(O.nextAbsoluteChild=y),O=y,v=0;v<2;v++)g=0!==v?jv:Gv,!iy(t.layout[ny[g]])&&!Cy(y,g)&&Ny(y,Qv[g])&&Ny(y,ty[g])&&(y.layout[ny[g]]=Ry(_y(y,g,t.layout[ny[g]]-gy(t,g)-yy(y,g)-Ly(y,Qv[g])-Ly(y,ty[g])),gy(y,g)));var Z=0;if(M&&Ty(y)?(j++,B+=y.style.flex,null===V&&(V=y),null!==U&&(U.nextFlexChild=y),U=y,Z=gy(y,i)+yy(y,i)):(D=Pv,T||(D=Cy(t,a)?t.layout[ny[a]]-u:e-yy(t,a)-u),0===L&&Wy(y,D,r),Sy(y)===$v&&(G++,Z=Oy(y,i))),m&&M&&F+Z>C&&d!==N){G--,L=1;break}Y&&(Sy(y)!==$v||Ty(y))&&(Y=!1,W=d),z&&(Sy(y)!==$v||K!==Zv&&K!==Hv||iy(y.layout[ny[o]]))&&(z=!1,X=d),Y&&(y.layout[ey[i]]+=H,M&&Dy(t,y,i),H+=Oy(y,i),q=Ry(q,_y(y,o,Oy(y,o)))),z&&(y.layout[ey[o]]+=_+w,S&&Dy(t,y,o)),L=0,F+=Z,A=d+1}var $=0,J=0,Q=0;if(Q=M?C-F:Ry(F,0)-F,0!==j){var tt,et,nt=Q/B;U=V;while(null!==U)tt=nt*U.style.flex+gy(U,i),et=_y(U,i,tt),tt!==et&&(Q-=et,B-=U.style.flex),U=U.nextFlexChild;nt=Q/B,nt<0&&(nt=0),U=V;while(null!==U)U.layout[ny[i]]=_y(U,i,nt*U.style.flex+gy(U,i)),D=Pv,Cy(t,a)?D=t.layout[ny[a]]-u:T||(D=e-yy(t,a)-u),Wy(U,D,r),y=U,U=U.nextFlexChild,y.nextFlexChild=null}else x!==Wv&&(x===zv?$=Q/2:x===Xv?$=Q:x===Vv?(Q=Ry(Q,0),J=j+G-1!==0?Q/(j+G-1):0):x===Uv&&(J=Q/(j+G),$=J/2));for(H+=$,d=W;d<A;++d)y=t.children[d],Sy(y)===Jv&&Ny(y,Qv[i])?y.layout[ey[i]]=Ly(y,Qv[i])+hy(t,i)+sy(y,i):(y.layout[ey[i]]+=H,M&&Dy(t,y,i),Sy(y)===$v&&(H+=J+Oy(y,i),q=Ry(q,_y(y,o,Oy(y,o)))));var rt=t.layout[ny[o]];for(S||(rt=Ry(_y(t,o,q+E),E)),d=X;d<A;++d)if(y=t.children[d],Sy(y)===Jv&&Ny(y,Qv[o]))y.layout[ey[o]]=Ly(y,Qv[o])+hy(t,o)+sy(y,o);else{var it=w;if(Sy(y)===$v){K=by(t,y);if(K===Zv)iy(y.layout[ny[o]])&&(y.layout[ny[o]]=Ry(_y(y,o,rt-E-yy(y,o)),gy(y,o)));else if(K!==Hv){var ot=rt-E-Oy(y,o);it+=K===qv?ot/2:ot}}y.layout[ey[o]]+=_+it,S&&Dy(t,y,o)}_+=q,R=Ry(R,H),I+=1,N=A}if(I>1&&S){var at=t.layout[ny[o]]-E,st=at-_,ut=0,lt=w,ct=xy(t);ct===Kv?lt+=st:ct===qv?lt+=st/2:ct===Zv&&at>_&&(ut=st/I);var ht=0;for(d=0;d<I;++d){var ft=ht,pt=0;for(v=ft;v<s;++v)if(y=t.children[v],Sy(y)===$v){if(y.lineIndex!==d)break;iy(y.layout[ny[o]])||(pt=Ry(pt,y.layout[ny[o]]+yy(y,o)))}for(ht=v,pt+=ut,v=ft;v<ht;++v)if(y=t.children[v],Sy(y)===$v){var dt=by(t,y);if(dt===Hv)y.layout[ey[o]]=lt+sy(y,o);else if(dt===Kv)y.layout[ey[o]]=lt+pt-uy(y,o)-y.layout[ny[o]];else if(dt===qv){var vt=y.layout[ny[o]];y.layout[ey[o]]=lt+(pt-vt)/2}else dt===Zv&&(y.layout[ey[o]]=lt+sy(y,o))}lt+=pt}}var yt=!1,gt=!1;if(M||(t.layout[ny[i]]=Ry(_y(t,i,R+dy(t,i)),k),i!==Bv&&i!==Yv||(yt=!0)),S||(t.layout[ny[o]]=Ry(_y(t,o,_+E),E),o!==Bv&&o!==Yv||(gt=!0)),yt||gt)for(d=0;d<s;++d)y=t.children[d],yt&&Dy(t,y,i),gt&&Dy(t,y,o);O=P;while(null!==O){for(v=0;v<2;v++)g=0!==v?jv:Gv,!iy(t.layout[ny[g]])&&!Cy(O,g)&&Ny(O,Qv[g])&&Ny(O,ty[g])&&(O.layout[ny[g]]=Ry(_y(O,g,t.layout[ny[g]]-vy(t,g)-yy(O,g)-Ly(O,Qv[g])-Ly(O,ty[g])),gy(O,g))),Ny(O,ty[g])&&!Ny(O,Qv[g])&&(O.layout[Qv[g]]=t.layout[ny[g]]-O.layout[ny[g]]-Ly(O,ty[g]));y=O,O=O.nextAbsoluteChild,y.nextAbsoluteChild=null}}function By(t){var e=t.style,n={};["marginTop","marginRight","marginBottom","marginLeft"].forEach((function(t){var r=e[t];r&&/^-?\d+%$/.test(r)&&(n[t]=r,e[t]=0)})),t.margin=n}function Gy(t){var e=Number(t.substr(0,t.length-1));return e/100}function Yy(t){var e=t.margin,n=t.layout;Object.keys(e).forEach((function(t){var r=Gy(e[t]);"marginLeft"!==t&&"marginRight"!==t||!n.width?"marginTop"!==t&&"marginBottom"!==t||!n.height||(n.top+=n.height*r):n.left+=n.width*r}))}function Wy(t,e,n){t.shouldUpdate=!0,By(t);var r=t.style.direction||Dv,i=!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===e&&t.lastLayout.direction===r;i?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=e,t.lastLayout.direction=r,t.children.forEach((function(t){t.layout.width=void 0,t.layout.height=void 0,t.layout.top=0,t.layout.left=0})),jy(t,e,n),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left),Yy(t)}function zy(t){return t?(ry(t),Wy(t,null,null),t):t}var Xy=zy;function Vy(t,e){return function(){var n=t.text,r=t.width,i=t.height,o=r,a=i;if(!it(r)||!it(i)){var s=e(n,t),u=s.width,l=s.height;it(r)||(o=u),it(i)||(a=l)}return{width:o,height:a}}}function Uy(t){if(t){var e=0,n=0,r=0,i=0,o=0,a=0;return t.forEach((function(t){var s=t.layout;s&&(e=Math.min(e,s.left),n=Math.min(n,s.top),r=Math.min(r,s.left+s.width),i=Math.min(i,s.top+s.height),o=Math.max(o,s.width),a=Math.max(a,s.height))})),{left:e,top:n,right:r,bottom:i,width:o,height:a}}}var Hy=function(){function t(e){var n=e.className,r=e.children,i=e.layout,o=r&&r.length?r.map((function(e){return new t(e)})):void 0,a=i||Uy(o);this.children=o,this.layout=a,this.className=n}return t.prototype.getElementsByClassName=function(t){var e=[],n=this,r=n.className,i=n.children;return r===t&&e.push(this),i&&i.forEach((function(n){e.push.apply(e,n.getElementsByClassName(t))})),e},t}();function qy(t,e){if(!t)return t;var n=[];if(!U(t)){var r=e(t);return r?(U(r)?n=n.concat(r):n.push(r),n):n}for(var i=0;i<t.length;i++){var o=t[i];if(U(o))n=n.concat(qy(o,e));else if(o){r=e(o);if(!r)continue;U(r)?n=n.concat(r):n.push(r)}}return n}function Ky(t,e,n){if(!t)return t;var r=e.px2hd,i=e.measureText,o=t.type,a=t.props,s=lv(o);if(s===av){var u=o(t.props,e,n);return Ky(u,e,n)}var l=a.className,c=a.style,h=void 0===c?{}:c,f=a.attrs,p=a.children,d=r(D(D({},h),f));"text"===o&&(d.measure=Vy(d,i));var v=p?Od.toArray(p).map((function(t){return Ky(t,e,n)})):[];return{type:o,className:l,children:v.filter(Boolean),style:d}}function Zy(t,e){var n=t.context,r=t.updater,i=Ky(e,n,r);return Xy(i),new Hy(i)}function $y(t,e){var n=t.tag,r=qy(e,(function(t){var e=t.tag,r=t.style,i=t.children;return n!==uv&&e===uv&&"flex"!==r.display?null:e!==uv?$y(t,i):Jy(t)}));return r}function Jy(t){var e=t.tag,n=t.type,r=t.style,i=t.context,o=t.children,a=i.measureText,s=$y(t,o);return"text"===n&&(r.measure=Vy(r,a)),{tag:e,type:n,style:r,children:s,vNode:t}}function Qy(t){var e=t.type,n=t.style,r=t.vNode,i=t.children,o=t.layout,a=Rv(e,o);if(n.measure&&delete n.measure,r.layout=o,r.style=D(D({},a),n),i&&i.length)for(var s=0,u=i.length;s<u;s++){var l=i[s];Qy(l)}}function tg(t){var e=t.layout,n=t.children;Od.map(n,(function(t){if(t){var n=t.tag,r=t.layout,i=t.style;n!==uv&&e&&!r&&(t.layout=e,t.style=D({width:e.width,height:e.height},i)),tg(t)}}))}function eg(t){return t?Od.map(t,(function(t){return t?xd(t,["key","ref","type","props"]):t})):t}function ng(t,e,n){var r=e.style,i=void 0===r?{}:r,o=e.attrs,a=e.zIndex;return t===uv?n.px2hd(D(D({},i),o)):it(a)?{zIndex:a}:{}}function rg(t,e){var n=t.canvas,r=t.context,i=t.updater,o=t.animate,a=e.ref,s=e.type,u=e.props,l=u.animate,c=u.transformFrom,h=F(u,["animate","transformFrom"]),f=lv(s),p=new mv,d=ng(f,h,r);if(e.parent=t,e.tag=f,e.style=d,e.context=r,e.updater=i,e.canvas=n,e.animate=pe(l)?l:o,e.animator=p,f===uv){var v=iv(s,D(D({},h),{style:d}));a&&(a.current=v),v._vNode=e,e.shape=v}else{var y=void 0;f===sv?y=new s(h,r,i):(y=new wd(h,r,i),y.render=function(){return s(this.props,r,i)});var g=new uc;y.container=g,a&&(a.current=y),y.context=r,y.updater=i,y.animator=p,y._vNode=e,e.shape=g,e.component=y}if(c&&c.current){var m=c.current._vNode;e.transform=hv(m),e.transform&&(e.transform.parent.children=null)}return e}function ig(t,e,n){var r=t.canvas,i=t.context,o=t.updater,a=t.animate,s=n.tag,u=n.animator,l=n.component,c=n.shape,h=n.children,f=e.props,p=f.animate;return e.parent=t,e.tag=s,e.canvas=r,e.context=i,e.updater=o,e.component=l,e.shape=c,e.parent=t,e.children=h,e.animate=pe(p)?p:a,e.animator=u,e.style=ng(s,f,i),l?l._vNode=e:c._vNode=e,e}function og(t,e){return Od.map(e,(function(e){return e?rg(t,e):e}))}function ag(t){Od.map(t,(function(t){if(t){var e=t.component,n=t.children;e?(e.willUnmount(),ag(n),e.didUnmount(),e.destroy()):ag(n)}}))}function sg(t,e,n){var r=e.type,i=e.props,o=n.type,a=n.props;if(r===o){var s=ig(t,e,n);return tt(i,a)&&t.context===n.context?null:s}var u=rg(t,e);return ag(n),u}function ug(t,e,n){return e||n?!e&&n?(ag(n),null):e&&!n?og(t,e):sg(t,e,n):null}function lg(t){if(t&&t.length){var e=t.filter((function(t){var e=t.component,n=t.props,r=t.context,i=t.layout;return e.layout=i,!e.isMounted||!1!==e.shouldUpdate(n)&&(e.willReceiveProps(n,r),e.props=n,e.context=r,!0)}));e.length&&(e.forEach((function(t){var e=t.component;e.isMounted?e.willUpdate():e.willMount()})),e.forEach((function(t){var e=t.canvas,n=t.component,r=t.children,i=e.toRawChildren(n.render());hg(t,i,r),n.isMounted?n.didUpdate():(n.didMount(),n.isMounted=!0)})))}}function cg(t,e,n){var r=t.component,i=eg(e);t.children=i,r&&(r.children=i);var o=[];return Od.compare(i,n,(function(e,n){var r=ug(t,e,n);Od.map(r,(function(t){if(t){var e=t.tag,n=t.props,r=t.children,i=[];i=e===uv?cg(t,n.children,r):[t],o=o.concat(i)}}))})),o}function hg(t,e,n){var r=cg(t,e,n),i=Jy(t);Xy(i),Qy(i),tg(t);var o=t.children;return r.length?(lg(r),o):o}function fg(t){var e=t.children,n=t.props,r=n.children,i=hg(t,r,e),o=Tv(t,i,e);o.length&&o.forEach((function(t){t.loadPlay()}))}function pg(t){t.length&&t.forEach((function(t){var e=t._vNode,n=t.children,r=t.props,i=t.animator;if(!1===t.shouldUpdate(r))return!1;t.willUpdate();var o=e.canvas,a=o.toRawChildren(t.render()),s=hg(e,a,n);t.children=s,e.children=s;var u=Tv(e,s,n);u&&u.length&&(i.children=u),i.loadPlay(),t.didUpdate()}))}function dg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xg(r.key),r)}}function vg(t,e,n){return e&&dg(t.prototype,e),n&&dg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yg(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gg(t,e)}function gg(t,e){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gg(t,e)}function mg(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function xg(t){var e=mg(t,"string");return"symbol"===typeof e?e:String(e)}var bg=function(t){function e(e,n,r,i){var o;return o=t.call(this,e)||this,o.currentTime=void 0,o.timelineTime=void 0,o.currentTime=r,o.timelineTime=i,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=r,o.timelineTime=i,o}return yg(e,t),e}(Ol),wg=0,kg=function(){function t(t,e){var n;this.effect=void 0,this.timeline=void 0,this.id=void 0,this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this.oldPlayState=void 0,this._holdTime=void 0,this.readyPromise=void 0,this.finishedPromise=void 0,this.resolveReadyPromise=void 0,this.rejectReadyPromise=void 0,this.resolveFinishedPromise=void 0,this.rejectFinishedPromise=void 0,this.onfinish=void 0,this.oncancel=void 0,this.onframe=void 0,this._currentTime=0,this._startTime=void 0,this._playbackRate=1,this._totalDuration=void 0,this._inEffect=void 0,this._inTimeline=!0,this.onremove=void 0,this.effect=t,t.animation=this,this.timeline=e,this.id=""+wg++,this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(n=this.effect)||void 0===n?void 0:n.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}var e=t.prototype;return e.updatePromises=function(){var t=this.oldPlayState,e=this.pending?"pending":this.playState;return this.readyPromise&&e!==t&&("idle"===e?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===t?this.resolveReadyPromise():"pending"===e&&(this.readyPromise=void 0)),this.finishedPromise&&e!==t&&("idle"===e?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===e?this.resolveFinishedPromise():"finished"===t&&(this.finishedPromise=void 0)),this.oldPlayState=e,this.readyPromise||this.finishedPromise},e.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()},e.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()},e.finish=function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},e.cancel=function(){this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises())},e.reverse=function(){this.updatePromises();var t=this.currentTime;this.playbackRate*=-1,this.play(),null!==t&&(this.currentTime=t),this.updatePromises()},e.updatePlaybackRate=function(t){this.playbackRate=t},e.targetAnimations=function(){var t,e=null===(t=this.effect)||void 0===t?void 0:t.target;return e.getAnimations()},e.markTarget=function(){var t=this.targetAnimations();-1===t.indexOf(this)&&t.push(this)},e.unmarkTarget=function(){var t=this.targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)},e.tick=function(t,e){this._idle||this._paused||(null===this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this.currentTimePending=!1,this.fireEvents(t))},e.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}},e.persist=function(){throw new Error(Qo)},e.addEventListener=function(t,e,n){throw new Error(Qo)},e.removeEventListener=function(t,e,n){throw new Error(Qo)},e.dispatchEvent=function(t){throw new Error(Qo)},e.commitStyles=function(){throw new Error(Qo)},e.ensureAlive=function(){var t,e;this.playbackRate<0&&0===this.currentTime?this._inEffect=!!(null===(t=this.effect)||void 0===t?void 0:t.update(-1)):this._inEffect=!!(null===(e=this.effect)||void 0===e?void 0:e.update(this.currentTime));this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))},e.tickCurrentTime=function(t,e){t!==this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},e.fireEvents=function(t){var e=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new bg(null,this,this.currentTime,t);setTimeout((function(){e.onfinish&&e.onfinish(n)}))}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new bg(null,this,this.currentTime,t);this.onframe(r)}this._finishedFlag=!1}},vg(t,[{key:"pending",get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var t=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise((function(e,n){t.resolveReadyPromise=function(){e(t)},t.rejectReadyPromise=function(){n(new Error)}})),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var t=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise((function(e,n){t.resolveFinishedPromise=function(){e(t)},t.rejectFinishedPromise=function(){n(new Error)}})),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(t){if(t=Number(t),!isNaN(t)){var e;if(this.timeline.restart(),!this._paused&&null!==this._startTime)this._startTime=Number(null===(e=this.timeline)||void 0===e?void 0:e.currentTime)-t/this.playbackRate;this.currentTimePending=!1,this._currentTime!==t&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(t,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(t){if(null!==t){if(this.updatePromises(),t=Number(t),isNaN(t))return;if(this._paused||this._idle)return;this._startTime=t,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(t){if(t!==this._playbackRate){this.updatePromises();var e=this.currentTime;this._playbackRate=t,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==e&&(this.currentTime=e),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||"running"===this.playState||!this._finishedFlag}}]),t}(),Eg=4,Mg=.001,Sg=1e-7,Tg=10,Pg=11,Og=1/(Pg-1),Cg="function"===typeof Float32Array,Ng=function(t,e){return 1-3*e+3*t},Ag=function(t,e){return 3*e-6*t},Lg=function(t){return 3*t},_g=function(t,e,n){return((Ng(e,n)*t+Ag(e,n))*t+Lg(e))*t},Rg=function(t,e,n){return 3*Ng(e,n)*t*t+2*Ag(e,n)*t+Lg(e)},Ig=function(t,e,n,r,i){var o,a,s=0;do{a=e+(n-e)/2,o=_g(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>Sg&&++s<Tg);return a},Dg=function(t,e,n,r){for(var i=0;i<Eg;++i){var o=Rg(e,n,r);if(0===o)return e;var a=_g(e,n,r)-t;e-=a/o}return e},Fg=function(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return function(t){return t};for(var i=Cg?new Float32Array(Pg):new Array(Pg),o=0;o<Pg;++o)i[o]=_g(o*Og,t,n);var a=function(e){for(var r=0,o=1,a=Pg-1;o!==a&&i[o]<=e;++o)r+=Og;--o;var s=(e-i[o])/(i[o+1]-i[o]),u=r+s*Og,l=Rg(u,t,n);return l>=Mg?Dg(e,u,t,n):0===l?u:Ig(e,r,r+Og,t,n)};return function(t){return 0===t||1===t?t:_g(a(t),e,r)}},jg=function(t){return t=t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()})),"-"===t.charAt(0)?t.substring(1):t},Bg=function(t){return Math.pow(t,2)},Gg=function(t){return Math.pow(t,3)},Yg=function(t){return Math.pow(t,4)},Wg=function(t){return Math.pow(t,5)},zg=function(t){return Math.pow(t,6)},Xg=function(t){return 1-Math.cos(t*Math.PI/2)},Vg=function(t){return 1-Math.sqrt(1-t*t)},Ug=function(t){return t*t*(3*t-2)},Hg=function(t){var e,n=4;while(t<((e=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)},qg=function(t,e){void 0===e&&(e=[]);var n=e,r=n[0],i=void 0===r?1:r,o=n[1],a=void 0===o?.5:o,s=Vt(Number(i),1,10),u=Vt(Number(a),.1,2);return 0===t||1===t?t:-s*Math.pow(2,10*(t-1))*Math.sin((t-1-u/(2*Math.PI)*Math.asin(1/s))*(2*Math.PI)/u)},Kg=function(t,e,n){void 0===e&&(e=[]);var r=e,i=r[0],o=void 0===i?1:i,a=r[1],s=void 0===a?100:a,u=r[2],l=void 0===u?10:u,c=r[3],h=void 0===c?0:c;o=Vt(o,.1,1e3),s=Vt(s,.1,1e3),l=Vt(l,.1,1e3),h=Vt(h,.1,1e3);var f=Math.sqrt(s/o),p=l/(2*Math.sqrt(s*o)),d=p<1?f*Math.sqrt(1-p*p):0,v=1,y=p<1?(p*f-h)/d:-h+f,g=n?n*t/1e3:t;return g=p<1?Math.exp(-g*p*f)*(v*Math.cos(d*g)+y*Math.sin(d*g)):(v+y*g)*Math.exp(-g*f),0===t||1===t?t:1-g},Zg=function(t,e){void 0===e&&(e=[]);var n=e,r=n[0],i=void 0===r?10:r,o=n[1],a="start"==o?Math.ceil:Math.floor;return a(Vt(t,0,1)*i)/i},$g=function(t,e){void 0===e&&(e=[]);var n=e,r=n[0],i=n[1],o=n[2],a=n[3];return Fg(r,i,o,a)(t)},Jg=Fg(.42,0,1,1),Qg=function(t){return function(e,n,r){return void 0===n&&(n=[]),1-t(1-e,n,r)}},tm=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?t(2*e,n,r)/2:1-t(-2*e+2,n,r)/2}},em=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?(1-t(1-2*e,n,r))/2:(t(2*e-1,n,r)+1)/2}},nm={steps:Zg,"step-start":function(t){return Zg(t,[1,"start"])},"step-end":function(t){return Zg(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":$g,ease:function(t){return $g(t,[.25,.1,.25,1])},in:Jg,out:Qg(Jg),"in-out":tm(Jg),"out-in":em(Jg),"in-quad":Bg,"out-quad":Qg(Bg),"in-out-quad":tm(Bg),"out-in-quad":em(Bg),"in-cubic":Gg,"out-cubic":Qg(Gg),"in-out-cubic":tm(Gg),"out-in-cubic":em(Gg),"in-quart":Yg,"out-quart":Qg(Yg),"in-out-quart":tm(Yg),"out-in-quart":em(Yg),"in-quint":Wg,"out-quint":Qg(Wg),"in-out-quint":tm(Wg),"out-in-quint":em(Wg),"in-expo":zg,"out-expo":Qg(zg),"in-out-expo":tm(zg),"out-in-expo":em(zg),"in-sine":Xg,"out-sine":Qg(Xg),"in-out-sine":tm(Xg),"out-in-sine":em(Xg),"in-circ":Vg,"out-circ":Qg(Vg),"in-out-circ":tm(Vg),"out-in-circ":em(Vg),"in-back":Ug,"out-back":Qg(Ug),"in-out-back":tm(Ug),"out-in-back":em(Ug),"in-bounce":Hg,"out-bounce":Qg(Hg),"in-out-bounce":tm(Hg),"out-in-bounce":em(Hg),"in-elastic":qg,"out-elastic":Qg(qg),"in-out-elastic":tm(qg),"out-in-elastic":em(qg),spring:Kg,"spring-in":Kg,"spring-out":Qg(Kg),"spring-in-out":tm(Kg),"spring-out-in":em(Kg)},rm=function(t){return jg(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},im=function(t){return nm[rm(t)]||nm.linear},om=function(t){return t},am=1,sm=.5,um=0;function lm(t,e){return function(n){if(n>=1)return 1;var r=1/t;return n+=e*r,n-n%r}}var cm="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",hm=new RegExp("cubic-bezier\\("+cm+","+cm+","+cm+","+cm+"\\)"),fm=/steps\(\s*(\d+)\s*\)/,pm=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function dm(t){var e=hm.exec(t);if(e)return Fg.apply(void 0,e.slice(1).map(Number));var n=fm.exec(t);if(n)return lm(Number(n[1]),um);var r=pm.exec(t);return r?lm(Number(r[1]),{start:am,middle:sm,end:um}[r[2]]):im(t)}function vm(t){return Math.abs(ym(t)/(t.playbackRate||1))}function ym(t){var e;return 0===t.duration||0===t.iterations?0:("auto"===t.duration?0:Number(t.duration))*(null!==(e=t.iterations)&&void 0!==e?e:1)}var gm=0,mm=1,xm=2,bm=3;function wm(t,e,n){if(null===e)return gm;var r=n.endTime;return e<Math.min(n.delay,r)?mm:e>=Math.min(n.delay+t+n.endDelay,r)?xm:bm}function km(t,e,n,r,i){switch(r){case mm:return"backwards"===e||"both"===e?0:null;case bm:return n-i;case xm:return"forwards"===e||"both"===e?t:null;case gm:return null}}function Em(t,e,n,r,i){var o=i;return 0===t?e!==mm&&(o+=n):o+=r/t,o}function Mm(t,e,n,r,i,o){var a=t===1/0?e%1:t%1;return 0!==a||n!==xm||0===r||0===i&&0!==o||(a=1),a}function Sm(t,e,n,r){return t===xm&&e===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}function Tm(t,e,n){var r=t;if("normal"!==t&&"reverse"!==t){var i=e;"alternate-reverse"===t&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return"normal"===r?n:1-n}function Pm(t,e,n){var r=wm(t,e,n),i=km(t,n.fill,e,r,n.delay);if(null===i)return null;var o="auto"===n.duration?0:n.duration,a=Em(o,r,n.iterations,i,n.iterationStart),s=Mm(a,n.iterationStart,r,n.iterations,i,o),u=Sm(r,n.iterations,s,a),l=Tm(n.direction,u,s);return n.currentIteration=u,n.progress=l,n.easingFunction(l)}function Om(t,e,n){var r=Nm(t,e),i=Am(r,n);return function(t,e){if(null!==e)i.filter((function(t){return e>=t.applyFrom&&e<t.applyTo})).forEach((function(n){var r=e-n.startOffset,i=n.endOffset-n.startOffset,o=0===i?0:n.easingFunction(r/i);t.setAttribute(n.property,n.interpolation(o))}));else for(var n in r)Cm(n)&&t.setAttribute(n,null)}}function Cm(t){return"offset"!==t&&"easing"!==t&&"composite"!==t&&"computedOffset"!==t}function Nm(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(Cm(i)){var o={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:dm(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(o)}return n}function Am(t,e){var n=[];for(var r in t)for(var i=t[r],o=0;o<i.length-1;o++){var a=o,s=o+1,u=i[a].computedOffset,l=i[s].computedOffset,c=u,h=l;0===o&&(c=-1/0,0===l&&(s=a)),o===i.length-2&&(h=1/0,1===u&&(a=s)),n.push({applyFrom:c,applyTo:h,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:r,interpolation:_m(r,i[a].value,i[s].value,e)})}return n.sort((function(t,e){return t.startOffset-e.startOffset})),n}var Lm=function(t,e,n){return function(r){var i=Rm(t,e,r);return!fh.enableCSSParsing&&it(i)?i:n(i)}};function _m(t,e,n,r){var i=Oc[t];if(i&&i.syntax&&i["int"]){var o=fh.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a,s;if(fh.enableCSSParsing){var u=fh.styleValueRegistry.parseProperty(t,e,r),l=fh.styleValueRegistry.parseProperty(t,n,r);a=fh.styleValueRegistry.computeProperty(t,u,r),s=fh.styleValueRegistry.computeProperty(t,l,r)}else{var c=o.parserWithCSSDisabled;a=c?c(e,r):e,s=c?c(n,r):n}var h=o.mixer(a,s,r);if(h){var f=Lm.apply(void 0,h);return function(t){return 0===t?e:1===t?n:f(t)}}}}return Lm(!1,!0,(function(t){return t?n:e}))}function Rm(t,e,n){if("number"===typeof t&&"number"===typeof e)return t*(1-n)+e*n;if("boolean"===typeof t&&"boolean"===typeof e||"string"===typeof t&&"string"===typeof e)return n<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var r=t.length,i=e.length,o=Math.max(r,i),a=[],s=0;s<o;s++)a.push(Rm(t[s<r?s:r-1],e[s<i?s:i-1],n));return a}throw new Error("Mismatched interpolation arguments "+t+":"+e)}var Im=function(){function t(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=om,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.playbackRate=void 0,this.effect=void 0,this.composite=void 0,this.activeDuration=void 0,this.endTime=void 0,this.currentIteration=null,this.progress=null}return vg(t,[{key:"easing",get:function(){return this._easing},set:function(t){this.easingFunction=dm(t),this._easing=t}}]),t}();function Dm(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++){if(!e[o]){var a={};"offset"in t&&(a.offset=Number(t.offset)),"easing"in t&&(a.easing=t.easing),"composite"in t&&(a.composite=t.composite),e[o]=a}void 0!==r[o]&&null!==r[o]&&(e[o][n]=r[o])}}return e.sort((function(t,e){return(t.computedOffset||0)-(e.computedOffset||0)})),e}function Fm(t,e){if(null===t)return[];Array.isArray(t)||(t=Dm(t));for(var n=t.map((function(t){var n={};for(var r in(null===e||void 0===e?void 0:e.composite)&&(n.composite="auto"),t){var i=t[r];if("offset"===r){if(null!==i){if(i=Number(i),!isFinite(i))throw new Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw new Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=i}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(i))throw new Error(i+" compositing is not supported");n[r]=i}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null===e||void 0===e?void 0:e.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n})),r=!0,i=-1/0,o=0;o<n.length;o++){var a=n[o].offset;if(Ht(a))r=!1;else{if(a<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}function s(){var t,e,r=n.length;(n[r-1].computedOffset=Number(null!==(t=n[r-1].offset)&&void 0!==t?t:1),r>1)&&(n[0].computedOffset=Number(null!==(e=n[0].offset)&&void 0!==e?e:0));for(var i=0,o=Number(n[0].computedOffset),a=1;a<r;a++){var s=n[a].computedOffset;if(!Ht(s)&&!Ht(o)){for(var u=1;u<a-i;u++)n[i+u].computedOffset=o+(Number(s)-o)*u/(a-i);i=a,o=Number(s)}}}return n=n.filter((function(t){return Number(t.offset)>=0&&Number(t.offset)<=1})),r||s(),n}var jm="backwards|forwards|both|none".split("|"),Bm="reverse|alternate|alternate-reverse".split("|");function Gm(t,e){var n=new Im;return e&&(n.fill="both",n.duration="auto"),"number"!==typeof t||isNaN(t)?void 0!==t&&Object.keys(t).forEach((function(e){if(void 0!==t[e]&&null!==t[e]&&"auto"!==t[e]){if(("number"===typeof n[e]||"duration"===e)&&("number"!==typeof t[e]||isNaN(t[e])))return;if("fill"===e&&-1===jm.indexOf(t[e]))return;if("direction"===e&&-1===Bm.indexOf(t[e]))return;n[e]=t[e]}})):n.duration=t,n}function Ym(t,e){var n;return t=Wm(null!==(n=t)&&void 0!==n?n:{duration:"auto"}),Gm(t,e)}function Wm(t){return"number"===typeof t&&(t=isNaN(t)?{duration:"auto"}:{duration:t}),t}var zm=function(){function t(t,e,n){var r=this;this.composite="replace",this.iterationComposite="replace",this.target=void 0,this.animation=void 0,this.timing=void 0,this.computedTiming=void 0,this.normalizedKeyframes=void 0,this.timeFraction=void 0,this.interpolations=void 0,this.target=t,this.timing=Ym(n,!1),this.timing.effect=this,this.timing.activeDuration=vm(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=Fm(e,this.timing),this.interpolations=Om(this.normalizedKeyframes,this.timing,this.target);var i=fh.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(t,e){return"duration"===e?"auto"===t.duration?0:t.duration:"fill"===e?"auto"===t.fill?"none":t.fill:"localTime"===e?r.animation&&r.animation.currentTime||null:"currentIteration"===e?r.animation&&"running"===r.animation.playState?t.currentIteration||0:null:"progress"===e?r.animation&&"running"===r.animation.playState?t.progress||0:null:t[e]},set:function(){return!0}}):this.timing}var e=t.prototype;return e.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},e.update=function(t){return null!==t&&(this.timeFraction=Pm(this.timing.activeDuration,t,this.timing),null!==this.timeFraction)},e.getKeyframes=function(){return this.normalizedKeyframes},e.setKeyframes=function(t){this.normalizedKeyframes=Fm(t)},e.getComputedTiming=function(){return this.computedTiming},e.getTiming=function(){return this.timing},e.updateTiming=function(t){var e=this;Object.keys(t||{}).forEach((function(n){e.timing[n]=t[n]}))},t}();function Xm(t,e){return Number(t.id)-Number(e.id)}var Vm=function(){function t(t){var e=this;this.document=void 0,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.frameId=void 0,this.webAnimationsNextTick=function(t){e.currentTime=t,e.discardAnimations(),0===e.animations.length?e.timelineTicking=!1:e.requestAnimationFrame(e.webAnimationsNextTick)},this.processRafCallbacks=function(t){var n=e.rafCallbacks;e.rafCallbacks=[],t<Number(e.currentTime)&&(t=Number(e.currentTime)),e.animations.sort(Xm),e.animations=e.tick(t,!0,e.animations)[0],n.forEach((function(e){e[1](t)})),e.applyPendingEffects()},this.document=t}var e=t.prototype;return e.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},e.isTicking=function(){return this.inTick},e.play=function(t,e,n){var r=new zm(t,e,n),i=new kg(r,this);return this.animations.push(i),this.restartWebAnimationsNextTick(),i.updatePromises(),i.play(),i.updatePromises(),i},e.applyDirtiedAnimation=function(t){var e=this;if(!this.inTick){t.markTarget();var n=t.targetAnimations();n.sort(Xm);var r=this.tick(Number(this.currentTime),!1,n.slice())[1];r.forEach((function(t){var n=e.animations.indexOf(t);-1!==n&&e.animations.splice(n,1)})),this.applyPendingEffects()}},e.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame((function(){})),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},e.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},e.applyPendingEffects=function(){this.pendingEffects.forEach((function(t){null===t||void 0===t||t.applyInterpolations()})),this.pendingEffects=[]},e.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter((function(t){return t.updatePromises()}))},e.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter((function(t){return"finished"!==t.playState&&"idle"!==t.playState}))},e.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},e.rAF=function(t){var e=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([e,t]),e},e.requestAnimationFrame=function(t){var e=this;return this.rAF((function(n){e.updateAnimationsPromises(),t(n),e.updateAnimationsPromises()}))},e.tick=function(t,e,n){var r,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=t,this.ticking=!1;var a=[],s=[],u=[],l=[];return n.forEach((function(n){n.tick(t,e),n._inEffect?(s.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(o.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?u.push(n):l.push(n)})),(r=this.pendingEffects).push.apply(r,a),(i=this.pendingEffects).push.apply(i,s),this.ticking&&this.requestAnimationFrame((function(){})),this.inTick=!1,[u,l]},t}();function Um(t,e,n){return function(r,i){var o=i||{},a=o.fontSize,s=void 0===a?n.fontSize:a,u=o.fontFamily,l=void 0===u?n.fontFamily:u,c=o.fontWeight,h=void 0===c?n.fontWeight:c,f=o.fontVariant,p=void 0===f?n.fontVariant:f,d=o.fontStyle,v=void 0===d?n.fontStyle:d,y=o.textAlign,g=void 0===y?n.textAlign:y,m=o.textBaseline,x=void 0===m?n.textBaseline:m,b=o.lineWidth,w=void 0===b?1:b,k={x:0,y:0,fontSize:e(s),fontFamily:l,fontStyle:v,fontWeight:h,fontVariant:p,text:r,textAlign:g,textBaseline:x,lineWidth:w,visibility:"hidden"},E=Zp("text",k),M=new Sc({style:E});t.appendChild(M);var S=M.getBBox(),T=S.width,P=S.height;return M.remove(),{width:T,height:P}}}function Hm(t){var e=t.left,n=t.top,r=t.width,i=t.height,o=t.padding,a=o[0],s=o[1],u=o[2],l=o[3];return{left:e+l,top:n+a,width:r-l-s,height:i-a-u}}fh.EasingFunction=dm,fh.AnimationTimeline=Vm;var qm=function(){function t(e){var n=e.context,r=e.renderer,i=void 0===r?new zp:r,o=e.width,a=e.height,s=e.theme,u=e.px2hd,l=e.pixelRatio,c=e.landscape,h=e.container,f=e.animate,p=void 0===f||f,d=e.createImage,v=e.requestAnimationFrame,y=e.cancelAnimationFrame,g=W(u)?td(u):ed,m=g(D(D({},Hp),s)),x=m.pixelRatio,b=m.fontSize,w=m.fontFamily,k=l||x,E=Xp(this),M=Fh(n),S=new Rh({container:h,canvas:M,devicePixelRatio:k,renderer:i,width:o,height:a,supportsTouchEvents:!0,supportsPointerEvents:!0,createImage:d,requestAnimationFrame:v,cancelAnimationFrame:y,useNativeClickEvent:!0}),T=S.getRoot(),P=S.getConfig(),O=P.width,C=P.height;T.setAttribute("fontSize",b),T.setAttribute("fontFamily",w);var N=new vd(T),A={ctx:n,root:this,canvas:S,px2hd:g,theme:m,gesture:N,measureText:Um(T,g,m)},L={key:void 0,tag:sv,type:t,props:e,shape:T,animate:p,component:this,canvas:this,context:A,updater:E};this._ee=new(Wi()),this.props=e,this.context=A,this.updater=E,this.gesture=N,this.theme=m,this.canvas=S,this.container=T,this.el=M,this.vNode=L,this.landscape=c,this.updateLayout(D(D({},e),{width:O,height:C}))}return t.prototype.updateComponents=function(t){pg(t)},t.prototype.update=function(t){return j(this,void 0,void 0,(function(){var e,n,r,i,o;return B(this,(function(a){switch(a.label){case 0:return e=this,n=e.props,r=e.vNode,tt(t,n)?[2]:(i=n.animate,o=void 0===i||i,this.props=t,r.props=t,r.animate=o,[4,this.render()]);case 1:return a.sent(),[2]}}))}))},t.prototype.render=function(){return j(this,void 0,void 0,(function(){var t,e,n;return B(this,(function(r){switch(r.label){case 0:return t=this,e=t.canvas,n=t.vNode,[4,e.ready];case 1:return r.sent(),fg(n),[2]}}))}))},t.prototype.emit=function(t,e){this._ee.emit(t,e)},t.prototype.on=function(t,e){this._ee.on(t,e)},t.prototype.off=function(t,e){this._ee.off(t,e)},t.prototype.getCanvasEl=function(){return this.el},t.prototype.resize=function(t,e){return j(this,void 0,void 0,(function(){var n;return B(this,(function(r){switch(r.label){case 0:return n=this.canvas,n.resize(t,e),this.updateLayout(D(D({},this.props),{width:t,height:e})),[4,this.render()];case 1:return r.sent(),[2]}}))}))},t.prototype.updateLayout=function(t){var e=t.width,n=t.height,r=this.context,i=r.px2hd,o=r.theme,a=i(D({left:0,top:0,width:e,height:n,padding:o.padding},t.style)),s=Hm(a),u=s.left,l=s.top;this.container.setAttribute("x",u),this.container.setAttribute("y",l),this.context=D(D({},this.context),{left:u,top:l,width:s.width,height:s.height}),this.vNode=D(D({},this.vNode),{style:s,context:this.context})},t.prototype.toRawChildren=function(t){return t},t.prototype.destroy=function(){var t=this,e=t.canvas,n=t.children,r=t.el;ag(n),r.width=0,r.height=0,this.props=null,this.context=null,this.updater=null,this.theme=null,this.canvas=null,this.container=null,this.el=null,this.vNode=null,e.ready.then((function(){e.destroy()}))},t}(),Km=qm,Zm={}.toString,$m=function(t,e){return Zm.call(t)==="[object "+e+"]"},Jm=$m,Qm=function(t){return Jm(t,"Function")},tx=function(t){return Array.isArray?Array.isArray(t):Jm(t,"Array")},ex=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function nx(t,e){var n;if(t)if(tx(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(ex(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var rx=nx;Object.keys;var ix=function(t){return"object"===typeof t&&null!==t},ox=ix,ax=function(t){if(!ox(t)||!Jm(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},sx=ax;var ux=Array.prototype,lx=(ux.splice,ux.indexOf,Array.prototype.splice,function(t){return Jm(t,"String")});Object.prototype.hasOwnProperty;var cx=function(t){return Jm(t,"Number")},hx=cx,fx=Number.isInteger?Number.isInteger:function(t){return hx(t)&&t%1===0},px=fx,dx=function(t,e){if(tx(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=Qm(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}},vx=function(t,e){if(tx(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=Qm(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},yx=(Math.PI,parseInt),gx=(Math.PI,Object.values?function(t){return Object.values(t)}:function(t){var e=[];return rx(t,(function(n,r){Qm(t)&&"prototype"===r||e.push(n)})),e}),mx=gx;var xx=function(t){return null===t||void 0===t},bx=xx,wx=(Object.prototype,function(t){return void 0===t}),kx=wx,Ex=function t(e){if("object"!==typeof e||null===e)return e;var n;if(tx(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===typeof e[r]&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===typeof e[o]&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n},Mx=Ex,Sx=function(t,e){if(!Qm(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},Tx=5;function Px(t,e,n,r){for(var i in n=n||0,r=r||Tx,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&sx(o)?(sx(t[i])||(t[i]={}),n<r?Px(t[i],o,n+1,r):t[i]=e[i]):tx(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var Ox=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Px(t,e[r]);return t},Cx=Ox;Object.prototype.hasOwnProperty;var Nx=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},Ax=Nx,Lx=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(lx(e)||lx(n))return!1;if(Ax(e)||Ax(n)){if(e.length!==n.length)return!1;for(var r=!0,i=0;i<e.length;i++)if(r=t(e[i],n[i]),!r)break;return r}if(ox(e)||ox(n)){var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(r=!0,i=0;i<o.length;i++)if(r=t(e[o[i]],n[o[i]]),!r)break;return r}return!1},_x=Lx;function Rx(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Ix(t,e,n,r){return e&&Rx(t,e),n&&Rx(t,n),r&&Rx(t,r),t}var Dx,Fx=function(t,e,n){var r=0,i=lx(e)?e.split("."):e;while(t&&r<i.length)t=t[i[r++]];return void 0===t||r<i.length?n:t},jx=function(t,e,n){var r=t,i=lx(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(ex(r[t])||(r[t]=hx(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},Bx=(Object.prototype.hasOwnProperty,Sx((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Dx||(Dx=document.createElement("canvas").getContext("2d")),Dx.font=[o,a,i,n+"px",r].join(" "),Dx.measureText(lx(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),G([t],mx(e)).join("")})),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype["delete"]=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}(),{colors:["#1677FF","#FF9F18","#00B7F4","#FF6430","#F4333C","#7F12CC"],padding:["0px","0px","0px","0px"],chart:{padding:["10px","10px","10px","10px"]},fontFamily:'"AlipayNumber", "Alibaba Sans", "Helvetica Neue", "San Francisco", Helvetica, Tahoma, Arial, "PingFang SC", "Hiragino Sans GB", "Heiti SC", "Microsoft YaHei", sans-serif',shape:{line:{default:{lineWidth:"2px",lineJoin:"round",lineCap:"round"},smooth:{smooth:!0},dash:{lineDash:["8px","8px"]}},point:{default:{size:"6px"},hollowCircle:{lineWidth:"2px"}},area:{default:{fillOpacity:.1}},interval:{default:{}}}}),Gx=Bx,Yx=function(t){O(n,t);var e=_(n);function n(t){var r;T(this,n),r=e.call(this,t);var i=t.theme,o=r.context.theme;return r.context.theme=Cx({},o,Gx,i),r}return S(n)}(Km);function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}var zx=i(9787),Xx=i.n(zx);function Vx(t){if(!t)return t;var e=Od.map(t,(function(t){if(!t)return t;var e=t.key,n=t.ref,r=t.type,i=t.props;return{key:e,ref:n,type:r,props:D(D({},i),{children:Vx(i.children)})}}));return e}var Ux=function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.toRawChildren=function(t){return Vx(t)},e}(t);return function(t){function n(e){var n=t.call(this,e)||this;n.getProps=function(){var t=n,e=t.canvasRef,r=t.props,i=e.current,o=i.getContext("2d"),a=Vx(r.children);return D(D({pixelRatio:1},r),{children:a,context:o})};var r=e.canvasRef;return n.canvasRef=r||(0,zx.createRef)(),n.state={error:null},n}return I(n,t),n.prototype.catchError=function(t){var e=this.props.onError;this.setState({error:t}),console.error("\u56fe\u8868\u6e32\u67d3\u5931\u8d25: ",t),"function"===typeof e&&e(t),setTimeout((function(){throw t}),0)},n.prototype.componentDidMount=function(){var t=this,n=this.getProps(),r=new e(n);this.canvas=r,r.render()["catch"]((function(e){t.catchError(e)}))},n.prototype.componentDidUpdate=function(){var t=this,e=this,n=e.state,r=e.canvas,i=n.error;if(!i){var o=this.getProps();r.update(o)["catch"]((function(e){t.catchError(e)}))}},n.prototype.render=function(){var t=this,e=t.props,n=t.state,r=e.className,i=void 0===r?"":r,o=e.fallback,a=n.error;return a?(this.destroy(),o||null):Xx().createElement("canvas",{className:"f-chart ".concat(i),ref:this.canvasRef,style:{width:"100%",height:"100%",display:"block",padding:0,margin:0}})},n.prototype.componentWillUnmount=function(){this.destroy()},n.prototype.destroy=function(){var t=this.canvas;t&&(t.destroy(),this.canvas=null)},n}(zx.Component)},Hx=Ux(Km),qx="2.0.0-beta.5",Kx="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.sessionStorage,Zx="180020010101204505",$x={current:null};function Jx(){$x.current=Qx()}function Qx(){var t;return Kx&&(null===(t=window)||void 0===t?void 0:t.YuyanMonitor)?new window.YuyanMonitor({yuyanId:Zx}):(console.log("[WCC Monitor]: \u5b9e\u4f8b\u5316 YuyanMonitor \u5931\u8d25"),null)}function tb(t,e,n,r){$x.current||Jx();var i=$x.current;if(Kx&&i){var o=r||{},a=o.repoName;null===i||void 0===i||i.log({code:11,msg:e,c1:t,c2:n,c3:qx||"unknown",d1:a||"unknown"})}else console.log("[WCC Monitor]: \u4e0a\u62a5\u56fe\u8868\u65e5\u5fd7\u5931\u8d25")}function eb(t,e){$x.current||Jx();var n=$x.current;if(Kx&&n){var r=e||{},i=r.repoName,o=r.desc;null===n||void 0===n||n.log({code:13,msg:t,d1:i||"unknown",d2:qx||"unknown",c1:o||"\u65e0"})}else console.log("[WCC Monitor]: \u4e0a\u62a5\u56fe\u8868\u65e5\u5fd7\u5931\u8d25")}function nb(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function rb(t,e){if(null==t)return{};var n,r,i=nb(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ib,ob=i(3676),ab=function(t,e){var n=e.field,r=e.values,i=t.filter((function(t){return r.includes(t[n])}));return i},sb=function(t,e){var n=e.field,r=e.record;n&&r||console.warn("[wcc][player]\u8bf7\u786e\u8ba4 rules \u914d\u7f6e");var i=t.findIndex((function(t){return _x(t,r)}));return-1!==i?t.map((function(t,e){return e===i&&(t.isLast=!0),e>i&&(t[n]=null),t})):t},ub=function(t,e){var n=e.field,r=(e.from,e.to),i=t.length;switch(r){case"min":i=t.findIndex((function(e){var r;return e[n]===(null===(r=vx(t,n))||void 0===r?void 0:r[n])}));break;case"max":i=t.findIndex((function(e){var r;return e[n]===(null===(r=dx(t,n))||void 0===r?void 0:r[n])}));break;default:break}return-1!==i?t.map((function(t,e){return e===i&&(t.isLast=!0),e>i&&(t[n]=null),t})):t},lb=function(t,e,n){var r={name:t.name,duration:t.duration,dataRules:t.dataRules,animType:t.animType,autoPlay:t.autoPlay,keyframes:Cx({},null===e||void 0===e?void 0:e.keyframes,null===t||void 0===t?void 0:t.keyframes)};return r.renderItem=vb(r,n),r},cb=function(t,e){if(e[t])return e[t];var n=Object.keys(e).reduce((function(n,r){return(0,ob["default"])({value:t},r)?e[r]:n}),e.DEFAULT);return n},hb=function(t){Object.keys(t).forEach((function(e){var n;sx(null===(n=t[e])||void 0===n?void 0:n.valuesMap)&&(t[e].callback=function(n){return cb(n,t[e].valuesMap)})}))},fb=function(t,e){return t?t.hidden?null:t.props?(hb(t.props),E(E({},e),{},{props:Cx({},e.props,t.props)})):e:e},pb=function(t,e){var r=e.type,i=e.config;return n[r]?n[r](t,i):t},db=function(t,e){return e?tx(e)?e.reduce((function(t,e){return t=pb(t,e),t}),t):pb(t,e):t},vb=function t(e,n){if(!e||!e.keyframes)return n;if(Array.isArray(n))return n.map((function(n){return t(e,n)}));var r=n.type,i=n.key,o=n.props,a=rb(n,["type","key","props"]);if(!o)return n;var s=o.children,u=o.data,l=rb(o,["children","data"]);if(!s)return e.keyframes[i]?fb(e.keyframes[i],n):n;if(Array.isArray(s)){var c=u;return u&&(null===e||void 0===e?void 0:e.dataRules)&&(c=db(Mx(u),null===e||void 0===e?void 0:e.dataRules)),e.keyframes[i]&&!fb(e.keyframes[i],n)?null:E(E({type:r,key:i},a),{},{props:E({data:c,children:s.map((function(n){return t(e,n)}))},l)})}if(sx(s)){if(e.keyframes[i])return fb(e.keyframes[i],n);if(s.type)return E(E({},n),{},{props:E(E({},n.props),{},{children:t(e,s)})})}return n},yb=function(t){O(n,t);var e=_(n);function n(t,r){var i;T(this,n),i=e.call(this,t,r),i.index=0,i.playerDiffList=[],i.loop=function(){var t=i.state.playerIndex,e=i.props.autoPlay;t<i.playerDiffList.length-1&&(e||!0===i.playerDiffList[t+1].autoPlay)&&setTimeout((function(){i.setState({playerIndex:t+1},(function(){i.loop()}))}),i.playerDiffList[t].duration||100)},i.subLoop=function(){var t,e,n=i.state,r=n.playerIndex,o=n.subIdx;(null===(t=i.playerDiffList[r])||void 0===t?void 0:t.subPlayerList)&&(o<(null===(e=i.playerDiffList[r])||void 0===e?void 0:e.subPlayerList.length)&&setTimeout((function(){i.setState({subIdx:o+1},(function(){i.subLoop()}))}),i.playerDiffList[r].subDuration||16))},i.play=function(t,e){var n=i.playerDiffList.findIndex((function(e){return e.name===t}));n>-1&&i.setState({playerIndex:n})},i.next=function(){i.setState((function(t){var e=t.playerIndex;return{playerIndex:(e+1)%i.playerDiffList.length}}))},i.prev=function(){i.setState((function(t){var e=t.playerIndex;return{playerIndex:(e-1)%i.playerDiffList.length}}))},i.state=E(E({},i.state),{},{index:0,playerIndex:0,subIdx:0});var o=t.children,a=t.playerList,s=void 0===a?[]:a;return i.playerDiffList=s.reduce((function(t,e){var n=t[t.length-1];if(tx(e))e.forEach((function(e,r){r>0&&(e.autoPlay=!0);var i=lb(e,n,o);t.push(i),n=i}));else{var r=lb(e,n,o);t.push(r)}return t}),[]),i}return S(n,[{key:"didMount",value:function(){this.loop()}},{key:"render",value:function(){var t=this.state.playerIndex,e=this.props.children,n=this.playerDiffList[t];return n?Xx().createElement(e.type,Wx({},n.renderItem.props,{playerDiffList:this.playerDiffList,playerIndex:t})):e}}]),n}(wd);ib=window.frameElement?window.devicePixelRatio:1;var gb=function(t){O(n,t);var e=_(n);function n(t){var r;return T(this,n),r=e.call(this,t),r.chartRef=void 0,r.canvas=void 0,r.handleError=function(t){var e=r.props||{},n=e.onError;tb("ReactCanvasError","\u56fe\u8868\u6e32\u67d3\u5f02\u5e38",t),Qm(n)&&n(t)},r.chartRef=Xx().createRef(),r}return S(n,[{key:"componentDidMount",value:function(){var t,e=this.props.bizCode;this.canvas=null===(t=this.chartRef.current)||void 0===t?void 0:t.canvas,eb("\u753b\u5e03\u521d\u59cb\u5316",{repoName:e})}},{key:"render",value:function(){var t=E({pixelRatio:ib},this.props),e=this.props.playerConfig;return sx(e)?Xx().createElement(Hx,Wx({},t,{ref:this.chartRef,theme:Cx({},Gx,this.props.theme),onError:this.handleError}),Xx().createElement(yb,Wx({},e,{ref:e.ref}),this.props.children)):Xx().createElement(Hx,Wx({},t,{ref:this.chartRef,theme:Cx({},Gx,this.props.theme),onError:this.handleError}))}}]),n}(Xx().Component);function mb(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=C(t),null===t)break;return t}function xb(){return xb="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=mb(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},xb.apply(this,arguments)}function bb(){var t={current:null};return t}function wb(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e||{},o=i.key,a=i.ref,s=F(i,["key","ref"]);return n.length&&(s.children=1===n.length?n[0]:n),{key:o,ref:a,type:t,props:s}}var kb=5;function Eb(t,e,n,r){for(var i in n=n||0,r=r||kb,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&Z(o)?(Z(t[i])||(t[i]={}),n<r?Eb(t[i],o,n+1,r):t[i]=e[i]):U(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var Mb=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Eb(t,e[r]);return t},Sb=Mb;function Tb(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}var Pb=Tb;function Ob(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Cb(t,e,n,r){return e&&Ob(t,e),n&&Ob(t,n),r&&Ob(t,r),t}function Nb(t){var e=t.xMin,n=t.xMax,r=t.yMin,i=t.yMax;return{xMin:r,xMax:i,yMin:e,yMax:n}}function Ab(t){var e,n,r,i,o=t.x,a=t.y,s=t.size,u=t.y0;return U(o)?(e=o[0],n=o[1]):(e=o-s/2,n=o+s/2),U(a)?(r=a[0],i=a[1]):(r=Math.min(u,a),i=Math.max(u,a)),{xMin:e,xMax:n,yMin:r,yMax:i}}var Lb=function(){function t(t){this.left=0,this.top=0,this.width=0,this.height=0,this.transposed=!1,this.x=[0,1],this.y=[0,1],this.update(t)}return t.prototype.update=function(t){Cb(this,t);var e=this,n=e.left,r=e.top,i=e.width,o=e.height;return this.right=n+i,this.bottom=r+o,this.center={x:n+i/2,y:r+o/2},this},t.prototype.isCyclic=function(){return!1},t.prototype._zoomVal=function(t,e){return U(t)?t.map((function(t){return e(t)})):e(t)},t.prototype.convert=function(t){var e=this,n=e.transposed,r=e.x,i=e.y,o=n?"y":"x",a=n?"x":"y",s=t[o],u=t[a];return s<0||s>1||u<0||u>1?{x:NaN,y:NaN}:{x:this._zoomVal(t[o],(function(t){return r[0]+(r[1]-r[0])*t})),y:this._zoomVal(t[a],(function(t){return i[0]+(i[1]-i[0])*t}))}},t.prototype.invert=function(t){var e,n=this,r=n.transposed,i=n.x,o=n.y,a=r?"y":"x",s=r?"x":"y";return e={},e[a]=this._zoomVal(t.x,(function(t){return(t-i[0])/(i[1]-i[0])})),e[s]=this._zoomVal(t.y,(function(t){return(t-o[0])/(o[1]-o[0])})),e},t.prototype.convertPoint=function(t){return this.convert(t)},t.prototype.invertPoint=function(t){return this.invert(t)},t.prototype.convertRect=function(t){var e=this,n=e.x,r=e.y,i=e.transposed,o=n[0],a=n[1],s=r[0],u=r[1],l=Ab(t),c=i?Nb(l):l,h=c.xMin,f=c.xMax,p=c.yMin,d=c.yMax,v=o+(a-o)*h,y=o+(a-o)*f,g=s+(u-s)*p,m=s+(u-s)*d;return{xMin:Math.min(v,y),xMax:Math.max(v,y),yMin:Math.min(g,m),yMax:Math.max(g,m)}},t.prototype.transformToRect=function(t){var e=t.x,n=t.y,r=t.y0,i=t.size,o=this.convertPoint({x:0,y:r}),a=this.transposed,s={size:i,x:a?n:e,y:a?e:n,y0:a?o.x:o.y},u=Ab(s),l=a?Nb(u):u,c=l.xMin,h=l.xMax,f=l.yMin,p=l.yMax;return{xMin:c,xMax:h,yMin:f,yMax:p}},t}(),_b=Lb,Rb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e}return I(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e);var n=this,r=n.left,i=n.top,o=n.width,a=n.height,s=[r,r+o],u=[i+a,i];return this.x=s,this.y=u,this},e}(_b),Ib=Rb;function Db(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t}var Fb=function(t,e){return t[0]*e[1]-e[0]*t[1]},jb=function(t){return 0===t[0]&&0===t[1]},Bb=function(t,e,n){var r=qr(t,e),i=Fb(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},Gb=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polar",e.isPolar=!0,e}return I(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e),this.option||(this.option=e);var n=this.option,r=n.radius,i=void 0===r?1:r,o=n.innerRadius,a=void 0===o?0:o,s=this,u=s.width,l=s.height,c=s.startAngle,h=void 0===c?-Math.PI/2:c,f=s.endAngle,p=void 0===f?3*Math.PI/2:f,d=i*(Math.min(u,l)/2),v=[h,p],y=[a*d,d];return this.x=v,this.y=y,this.startAngle=h,this.endAngle=p,this.radius=d,this.innnerRadius=a*d,this},e.prototype.isCyclic=function(){var t=this,e=t.startAngle,n=t.endAngle;return!(n-e<2*Math.PI)},e.prototype.convertPoint=function(t){var e=this,n=e.center,r=e.transposed,i=e.x,o=e.y,a=r?"y":"x",s=r?"x":"y",u=i[0],l=i[1],c=o[0],h=o[1],f=u+(l-u)*t[a],p=c+(h-c)*t[s];return{x:n.x+Math.cos(f)*p,y:n.y+Math.sin(f)*p}},e.prototype.invertPoint=function(t){var e=this,n=e.center,r=e.transposed,i=e.x,o=e.y,a=r?"y":"x",s=r?"x":"y",u=i[0],l=i[1],c=o[0],h=o[1],f=[1,0,0,1,0,0];Db(f,f,u);var p=[1,0];Hr(p,p,f),p=[p[0],p[1]];var d=[t.x-n.x,t.y-n.y];if(jb(d))return{x:0,y:0};var v=Bb(p,d,l<u);Math.abs(v-2*Math.PI)<.001&&(v=0);var y=Xr(d),g=v/(l-u);g=l-u>0?g:-g;var m=(y-c)/(h-c),x={};return x[a]=g,x[s]=m,x},e}(_b),Yb=Gb,Wb={rect:Ib,polar:Yb},zb=function(){function t(){}return t.prototype.getOption=function(t){if(qt(t))return{type:Wb[t]||Ib};if(W(t))return{type:t};var e=(t||{}).type;return D(D({},t),{type:W(e)?e:Wb[e]||Ib})},t.prototype.create=function(t){var e=this.layout,n=this.getOption(t),r=n.type,i=new r(D(D({},n),e));return this.coord=i,i},t.prototype.updateLayout=function(t){var e=this.coord,n=t.left,r=t.top,i=t.width,o=t.height,a=t.padding,s=a||[0,0,0,0],u=s[0],l=s[1],c=s[2],h=s[3];this.layout={left:n+h,top:r+u,width:i-h-l,height:o-u-c},e&&e.update(this.layout)},t.prototype.useLayout=function(t){var e=this.coord,n=t.position,r=t.width,i=t.height,o=e.left,a=e.top,s=e.width,u=e.height;switch(n){case"left":o+=r,s=Math.max(0,s-r);break;case"right":s=Math.max(0,s-r);break;case"top":a+=i,u=Math.max(0,u-i);break;case"bottom":u=Math.max(0,u-i);break}e.update({left:o,top:a,width:s,height:u})},t.prototype.update=function(){},t.prototype.getCoord=function(){return this.coord},t}(),Xb=zb,Vb=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(U(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=Bt(e),o=jt(e);return{min:o,max:i}},Ub=Vb,Hb=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=o[e];if(!Ht(a)){U(a)||(a=[a]);for(var s=0;s<a.length;s++){var u=a[s];r[u]||(n.push(u),r[u]=!0)}}}return n},qb={};function Kb(t){return qb[t]}function Zb(t,e){if(Kb(t))throw new Error("type '".concat(t,"' existed."));qb[t]=e}var $b=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},Jb=$b,Qb=function(t,e){if(!Jb(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n},tw=Qb,ew={}.toString,nw=function(t){return ew.call(t).replace(/^\[object /,"").replace(/]$/,"")},rw=nw,iw=Object.prototype,ow=function(t){var e=t&&t.constructor,n="function"===typeof e&&e.prototype||iw;return t===n},aw=ow,sw=Object.prototype.hasOwnProperty;function uw(t){if(Ht(t))return!0;if(Jb(t))return!t.length;var e=rw(t);if("Map"===e||"Set"===e)return!t.size;if(aw(t))return!Object.keys(t).length;for(var n in t)if(sw.call(t,n))return!1;return!0}var lw=uw,cw={};function hw(t){return cw[t]}function fw(t,e){cw[t]=e}var pw=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Cb(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return tw(this.ticks,(function(e,n){return de(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return Ht(r)||!W(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Cb(this,this.__cfg__),this.setDomain(),lw(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(qt(t)){var n=hw(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else W(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return it(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),dw=pw,vw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return I(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=it(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return it(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,Y([i],n,!1))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Ht(this.getConfig("min"))&&(this.min=0),Ht(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(dw),yw=vw,gw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return I(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&it(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(dw),mw=gw;function xw(t){if(Jb(t))return t[0]}function bw(t){if(Jb(t)){var e=t;return e[e.length-1]}}var ww=function(t,e){if(!Jb(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},kw=ww,Ew=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return I(e,t),e.prototype.scale=function(t){if(Ht(t))return NaN;var e=this.rangeMin(),n=this.rangeMax(),r=this.max,i=this.min;if(r===i)return e;var o=this.getScalePercent(t);return e+o*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=xw(e),r=bw(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),Ht(this.minLimit)||(this.min=n),Ht(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=Ub(this.values),e=t.min,n=t.max;Ht(this.min)&&(this.min=e),Ht(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=kw(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(dw),Mw=Ew,Sw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return I(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Mw),Tw=Sw;function Pw(t,e){var n,r=Math.E;return n=e>=0?Math.pow(r,Math.log(e)/t):-1*Math.pow(r,Math.log(-e)/t),n}function Ow(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function Cw(t,e,n){Ht(n)&&(n=Math.max.apply(null,t));var r=n;return gd(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var Nw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return I(e,t),e.prototype.invert=function(t){var e,n=this.base,r=Ow(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;e=Ow(n,a/n);var s=1/(r-e)*o;if(t<s)return t/s*a}else e=Ow(n,this.min);var u=(t-i)/o,l=u*(r-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=Cw(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r,i=this.base,o=this.positiveMin;return o&&(n=1*o/i),r=t<o?t/o/(Ow(i,e)-Ow(i,n)):(Ow(i,t)-Ow(i,n))/(Ow(i,e)-Ow(i,n)),r},e}(Mw),Aw=Nw,Lw=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return I(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=Pw(n,this.max),i=Pw(n,this.min),o=e*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent,i=(Pw(r,t)-Pw(r,n))/(Pw(r,e)-Pw(r,n));return i},e}(Mw),_w=Lw,Rw=function(t){return V(t,"Date")},Iw=Rw,Dw=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Fw="\\d\\d?",jw="\\d\\d",Bw="\\d{3}",Gw="\\d{4}",Yw="[^\\s]+",Ww=/\[([^]*?)\]/gm;function zw(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var Xw=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function Vw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var Uw=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Hw=["January","February","March","April","May","June","July","August","September","October","November","December"],qw=zw(Hw,3),Kw=zw(Uw,3),Zw={dayNamesShort:Kw,dayNames:Uw,monthNamesShort:qw,monthNames:Hw,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},$w=Vw({},Zw),Jw=function(t,e){void 0===e&&(e=2),t=String(t);while(t.length<e)t="0"+t;return t},Qw={D:function(t){return String(t.getDate())},DD:function(t){return Jw(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Jw(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Jw(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Jw(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Jw(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Jw(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Jw(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Jw(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Jw(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Jw(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Jw(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Jw(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Jw(Math.floor(Math.abs(e)/60),2)+":"+Jw(Math.abs(e)%60,2)}},tk=function(t){return+t-1},ek=[null,Fw],nk=[null,Yw],rk=["isPm",Yw,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],ik=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],ok=(Xw("monthNamesShort"),Xw("monthNames"),{default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"}),ak=function(t,e,n){if(void 0===e&&(e=ok["default"]),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=ok[e]||e;var r=[];e=e.replace(Ww,(function(t,e){return r.push(e),"@@@"}));var i=Vw(Vw({},$w),n);return e=e.replace(Dw,(function(e){return Qw[e](t,i)})),e.replace(/@@@/g,(function(){return r.shift()}))};function sk(t,e){return ak(t,e)}function uk(t){return qt(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Iw(t)&&(t=t.getTime()),t}var lk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return I(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):sk(n,this.mask)},e.prototype.scale=function(e){var n=e;return(qt(n)||Iw(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return uk(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Ht(e)&&it(e)||(this.min=this.translate(this.min)),Ht(n)&&it(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,o=i,a=0;gd(t,(function(t){var e=uk(t);if(isNaN(e))throw new TypeError("Invalid Time: ".concat(t," in time scale!"));i>e?(o=i,i=e):o>e&&(o=e),a<e&&(a=e),r.push(e)})),t.length>1&&(this.minTickInterval=o-i),Ht(e)&&(this.min=i),Ht(n)&&(this.max=a)}},e}(Tw),ck=lk,hk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return I(e,t),e.prototype.translate=function(t){t=uk(t);var e=this.values.indexOf(t);return-1===e&&(e=it(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):sk(r,this.mask),r}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;gd(e,(function(t,n){e[n]=uk(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(yw),fk=hk,pk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return I(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return bw(e);if(i<0)return xw(e);var o=e[i],a=e[i+1],s=i/(n-1),u=(i+1)/(n-1);return o+(r-s)/(u-s)*(a-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(bw(e)!==this.max&&e.push(this.max),xw(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<xw(e))return 0;if(t>bw(e))return 1;var n=0;return gd(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(Mw),dk=pk,vk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return I(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(dk),yk=vk,gk=function(t){var e=t.values,n=t.tickCount;if(!n)return e;if(e.length<=1)return e;for(var r=Math.floor(e.length/(n-1))||1,i=[],o=0;o<e.length;o+=r)i.push(e[o]);var a=e[e.length-1];return i[i.length-1]!==a&&(i.length>=n?i[i.length-1]=a:i.push(a)),i},mk=[1,1.2,1.5,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],xk=5,bk=function(t){var e=t||{},n=e.tickCount,r=e.tickInterval,i=t||{},o=i.min,a=i.max;o=isNaN(o)?0:o,a=isNaN(a)?0:a;var s=n&&n>=2?n:xk,u=r||Ek({tickCount:s,max:a,min:o}),l=Math.floor(o/u)*u;if(r){var c=Math.abs(Math.ceil((a-l)/r))+1;s=Math.max(s,c)}var h=0,f=Tk(u);if(o<0&&a>0&&2===s)return[Pk(l,f),Pk(Math.ceil(a/u)*u,f)];var p=[];while(h<s)p.push(Pk(l+h*u,f)),h++;return p},wk=12;function kk(t){t=Math.abs(t);var e=1;if(0===t)return e;if(t<1){var n=0;while(t<1)e/=10,t*=10,n++;return e.toString().length>wk&&(e=parseFloat(e.toFixed(n))),e}while(t>10)e*=10,t/=10;return e}function Ek(t){var e=t.tickCount,n=t.min,r=t.max;if(n===r)return 1*kk(r);for(var i=(r-n)/(e-1),o=kk(i),a=i/o,s=r/o,u=n/o,l=0,c=0;c<mk.length;c++){var h=mk[c];if(a<=h){l=c;break}}var f=n<0&&r>0&&2===e?mk[l]:Mk(l,e,u,s),p=Tk(f)+Tk(o);return Pk(f*o,p)}function Mk(t,e,n,r){for(var i=!1,o=mk[t],a=t;a<mk.length;a++)if(Sk({interval:mk[a],tickCount:e,max:r,min:n})){o=mk[a],i=!0;break}return i?o:10*Mk(0,e,n/10,r/10)}function Sk(t){var e=t.interval,n=t.tickCount,r=t.max,i=t.min,o=Math.floor(i/e)*e;return o+(n-1)*e>=r}function Tk(t){var e=t.toString(),n=e.indexOf("."),r=e.indexOf("e-"),i=r>=0?parseInt(e.substr(r+2),10):e.substr(n+1).length;return i>20&&(i=20),i}function Pk(t,e){return parseFloat(t.toFixed(e))}Zb("cat",yw),Zb("category",yw),Zb("identity",mw),Zb("linear",Tw),Zb("log",Aw),Zb("pow",_w),Zb("time",ck),Zb("timeCat",fk),Zb("quantize",dk),Zb("quantile",yk),fw("cat",gk),fw("time-cat",gk),fw("wilkinson-extended",bk);var Ok=function(){function t(t){this.data=t,this.options={},this.scales={}}return t.prototype._getType=function(t){var e=t.type,n=t.values,r=t.field;return e||(it(r)||Ht(n[0])&&r?"identity":"number"===typeof n[0]?"linear":"cat")},t.prototype._getOption=function(t){var e=t.values,n=t.field,r=t.justifyContent,i=this._getType(t);if(t.type=i,"identity"===i)return t.field=n.toString(),t.values=[n],t;if("linear"===i){"boolean"!==typeof t.nice&&(t.nice=!0);var o=Ub(e),a=o.min,s=o.max;return Ht(t.min)&&(t.min=a),Ht(t.max)&&(t.max=s),t.values=e.sort((function(t,e){return t-e})),t}if("cat"===i||"timeCat"===i){if(t.range)return t;var u=e.length,l=[0,1];if(1===u)l=[.5,1];else if(r){var c=1/u*.5;l=[c,1-c]}else{c=1/u;l=[0,1-c]}t.range=l}return t},t.prototype.createScale=function(t){var e=t.type;if(W(e))return new e(t);var n=Kb(e);return new n(t)},t.prototype.setScale=function(t,e){var n=this,r=n.options,i=n.scales;r[t]=Cb({},r[t],e),i[t]&&i[t].change(r[t])},t.prototype.create=function(t){this.update(t)},t.prototype.update=function(t){var e=this;t&&gd(t,(function(t,n){e.setScale(n,t)}))},t.prototype.changeData=function(t){this.data=t,this.scales={}},t.prototype.getData=function(){return this.data},t.prototype.getScale=function(t){var e=this,n=e.scales,r=e.options,i=e.data,o=n[t];if(o)return o;var a=r[t];if(!a)return null;var s=a.values?a.values:i?Hb(i,t):[],u=this._getOption(D(D({},a),{field:t,values:s})),l=this.createScale(u);return n[t]=l,l},t.prototype.getScales=function(){var t=this,e=this,n=e.options,r=e.scales;return gd(n,(function(e,n){t.getScale(n)})),r},t.prototype.getOptions=function(){var t=this.scales,e={};return gd(t,(function(t,n){e[n]=D({},t.__cfg__)})),e},t.prototype.adjustStartZero=function(t){var e=this.options,n=t.field,r=t.min,i=t.max,o=e[n];o&&o.min||(r>0?t.change({min:0}):i<0&&t.change({max:0}))},t.prototype.adjustPieScale=function(t){var e=this.options,n=t.field,r=e[n];if(r&&!Ht(r.nice))return null;t.change({nice:!1})},t.prototype.getZeroValue=function(t){var e,n=t.min,r=t.max;return e=n>=0?n:r<=0?r:0,t.scale(e)},t}(),Ck=Ok,Nk={labelOffset:"15px",line:{stroke:"#E8E8E8",lineWidth:"1px"},symbol:{fill:"#E8E8E8",radius:"10px"},tickLine:{stroke:"#E8E8E8"},label:{fill:"#808080",fontSize:"20px"},grid:{stroke:"#E8E8E8",lineWidth:"1px",lineDash:["4px"]}},Ak={line:{style:{stroke:"#a3a3a3",lineWidth:1},offsetX:0,offsetY:0},text:{style:{fill:"#787878",textBaseline:"middle"},offsetX:0,offsetY:0},rect:{style:{fill:"#fafafa"}},arc:{style:{stroke:"#a3a3a3"}},html:{offsetX:0,offsetY:0,alignX:"center",alignY:"middle"},tag:{offsetX:0,offsetY:0,side:4,background:{padding:5,radius:2,fill:"#1890FF"},textStyle:{fontSize:12,fill:"#fff",textAlign:"center",textBaseline:"middle"}},point:{offsetX:0,offsetY:0,style:{fill:"#fff",r:3,lineWidth:2,stroke:"#1890ff"}}},Lk={padding:["30px","30px","30px","30px"]},_k={chart:Lk,colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],shapes:{line:["line","dash","smooth"],point:["circle","hollowCircle","rect"],area:["area","smooth"],interval:["rect","pyramid","funnel"]},sizes:["4px","6px","8px","10px","12px"],shape:{line:{default:{lineWidth:"4px",lineJoin:"round",lineCap:"round"},smooth:{smooth:!0},dash:{lineDash:["8px","8px"]}},point:{default:{size:"6px"},hollowCircle:{lineWidth:"2px"}},area:{default:{fillOpacity:.1}},interval:{default:{}}},axis:Nk,guide:Ak},Rk=function(t){function e(e,n){var r=t.call(this,e)||this;r.componentsPosition=[];var i=n.theme,o=n.px2hd;n.theme=Sb(o(_k),i);var a=e.data;return r.scale=new Ck(a),r.coord=new Xb,r.coordRef=bb(),r.state={filters:{}},r}return I(e,t),e.prototype.getStyle=function(t){var e=this,n=e.context,r=e.layout,i=n.theme,o=n.px2hd,a=r.left,s=r.top,u=r.width,l=r.height,c=t.style;return o(D(D({left:a,top:s,width:u,height:l},i.chart),c))},e.prototype.willMount=function(){var t=this,e=t.props,n=t.coord,r=t.scale,i=e.scale,o=e.coord,a=this.getStyle(e);n.updateLayout(a),r.create(i),n.create(o)},e.prototype.willReceiveProps=function(t,e){var n=this,r=n.scale,i=n.coord,o=n.props,a=t.style,s=t.data,u=t.scale,l=o.style,c=o.data,h=o.scale;if(!tt(a,l)||e!==this.context){var f=this.getStyle(t);i.updateLayout(f)}s!==c&&r.changeData(s),tt(u,h)||r.update(u)},e.prototype.willUpdate=function(){this.coord.create(this.props.coord)},e.prototype.on=function(t,e){this.gesture=this.gesture?this.gesture:new vd(this.coordRef.current),this.gesture.on(t,e)},e.prototype.off=function(t,e){this.gesture.off(t,e)},e.prototype.layoutCoord=function(t){this.coord.useLayout(t)},e.prototype.resetCoordLayout=function(){var t=this,e=t.coord,n=t.props,r=this.getStyle(n);e.updateLayout(r)},e.prototype.updateCoordLayout=function(t){var e=this;U(t)?t.forEach((function(t){e.layoutCoord(t)})):this.layoutCoord(t)},e.prototype.updateCoordFor=function(t,e){var n=this;if(e){var r=this.componentsPosition,i={component:t,layout:e},o=Pb(r,(function(e){return e.component===t}));if(o>-1)return r.splice(o,1,i),this.resetCoordLayout(),void r.forEach((function(t){var e=t.layout;n.updateCoordLayout(e)}));r.push(i),this.updateCoordLayout(e)}},e.prototype.getGeometrys=function(){var t=this.children.children,e=[];return Od.toArray(t).forEach((function(t){if(!t)return!1;var n=t.component;n&&n.isGeometry&&e.push(n)})),e},e.prototype.getPosition=function(t){for(var e=this.getCoord(),n=this.getXScales()[0],r=n.field,i=this.getYScales(),o=i[0],a=o.field,s=0,u=i.length;s<u;s++){var l=i[s],c=l.field;if(t[c]){o=l,a=c;break}}var h=n.scale(t[r]),f=o.scale(t[a]);return e.convertPoint({x:h,y:f})},e.prototype.getSnapRecords=function(t,e){var n=this.getGeometrys();if(n.length)return n[0].getSnapRecords(t,e)},e.prototype.getRecords=function(t,e){var n=this.getGeometrys();if(n.length)return n[0].getRecords(t,e)},e.prototype.getLegendItems=function(t){var e=this.getGeometrys();if(e.length)return e[0].getLegendItems(t)},e.prototype.setScale=function(t,e){this.scale.setScale(t,e)},e.prototype.getScale=function(t){return this.scale.getScale(t)},e.prototype.getScales=function(){return this.scale.getScales()},e.prototype.getXScales=function(){var t=this.getGeometrys();return t.map((function(t){return t.getXScale()}))},e.prototype.getYScales=function(){var t=this.getGeometrys();return t.map((function(t){return t.getYScale()}))},e.prototype.getLayout=function(){return this.coord.layout},e.prototype.getCoord=function(){return this.coord.coord},e.prototype.filter=function(t,e){var n,r=this.state.filters;this.setState({filters:D(D({},r),(n={},n[t]=e,n))})},e.prototype._getRenderData=function(){var t=this,e=t.props,n=t.state,r=e.data,i=n.filters;if(!i||!Object.keys(i).length)return r;var o=r;return gd(i,(function(t,e){t&&(o=o.filter((function(n){return t(n[e],n)})))})),o},e.prototype.render=function(){var t=this,e=this,n=e.props,r=e.scale,i=e.layout,o=n.children,a=n.data;if(!a)return null;var s=this._getRenderData(),u=this.getLayout(),l=this.getCoord(),c=r.getOptions(),h=i.width,f=i.height;return wb("group",{ref:this.coordRef,style:{width:h,height:f,fill:"transparent"}},Od.map(o,(function(e){return Od.cloneElement(e,{data:s,chart:t,layout:u,coord:l,scaleOptions:c})})))},e}(wd),Ik=Rk;function Dk(t){if(Array.isArray(t))return t}function Fk(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw i}}return s}}function jk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bk(t,e){if(t){if("string"===typeof t)return jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jk(t,e):void 0}}function Gk(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yk(t,e){return Dk(t)||Fk(t,e)||Bk(t,e)||Gk()}function Wk(t,e,n){return{top:e[1],left:e[0],width:n[0]-t.width,height:n[1]-t.height}}function zk(t,e){var n=Yk(t,2),r=n[0],i=n[1],o=Math.min(Math.max(e.left,r),e.left+e.width),a=Math.min(Math.max(e.top,i),e.top+e.height);return[o,a]}var Xk=2,Vk=/\B(?=(?:\d{3})+$)/g,Uk=/^[+-]?\d+(?:\.\d+)?$/;function Hk(t){return Uk.test(t)}function qk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!Hk(t))return e;var n="";return t>0?n="+":t<0&&(n="-"),n}function Kk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--";if(!Hk(t))return n;var r=Number(t),i=r.toFixed(e).split(".");return i[0]=i[0].replace(Vk,","),i.join(".")}function Zk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--";if(!Hk(t))return n;var r=-1,i=Number(t);while(i>=1e4)i/=1e4,r+=1;return i.toFixed(e)+(["\u4e07","\u4ebf","\u4e07\u4ebf"][r]||"")}var $k=["\u4e07","0\u4e07","00\u4e07","000\u4e07","\u4ebf","0\u4ebf","00\u4ebf","000\u4ebf","\u4e07\u4ebf","0\u4e07\u4ebf","00\u4e07\u4ebf","000\u4e07\u4ebf"];function Jk(t,e){var n=e||{},r=n.underflow,i=void 0===r?"":r,o=n.overflow,a=void 0===o?"--":o;if(!Hk(t))return a;if(t<100)return i;if(t<1e3)return"100";if(t<1e4)return"1000";if(t>Number.MAX_SAFE_INTEGER)return console.warn("[Tango.formatter.blearNumber][overflow] \u8d85\u51fa\u6570\u503c\u5904\u7406\u8303\u56f4"),a;var s=Math.floor(Number(t)).toString(),u=s.length;return s.charAt(0).concat($k[u-5])}function Qk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--";if(!Hk(t))return e;var n=Number(t);return n.toFixed(4)}function tE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--";if(!Hk(t))return n;var r=t.toString().split("."),i=r[1]&&r[1].length||0,o=i-2>0?i-2:0,a=void 0===e?o:e,s=Number(t);return"".concat((100*s).toFixed(a),"%")}function eE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--",r=Number(t),i=qk(r),o=Hk(t),a=o?Kk(Math.abs(r),e):n;return"".concat(i).concat(a)}var nE={getSign:qk,amountFormat:Kk,amountFormatUnit:Zk,blearNumber:Jk,formatProfit:Qk,formatPercent:tE,isNumber:Hk,toSignedFormatNumber:eE},rE=function(t){return"number"===typeof t?new Date(t):new Date(t.replace(/-/gi,"/"))},iE=nE.getSign,oE=nE.isNumber,aE=nE.amountFormat,sE=nE.formatPercent,uE={normal:"#1677FF",rise:"#E62C3B",fall:"#0E9976",equal:"#999999"};function lE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Number(t),r=n>0?"+":"",i="".concat(r).concat(n.toFixed(e));return{text:i}}function cE(t,e,n){var r=oE(t);if(!r)return{text:"--",fill:uE.equal};var i,o=Number(t),a=iE(o),s=e?sE(Math.abs(o),n):aE(Math.abs(o),n),u="".concat(a).concat(s);return i=o>0?uE.rise:o<0?uE.fall:uE.equal,{text:u,fill:i}}function hE(t,e){return{text:sE(t,e)}}function fE(t,e){try{var n=rE(t),r=e||"MM-DD";return{text:ak(n,r)}}catch(i){return{text:t}}}function pE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return{text:Number(t).toFixed(e)}}function dE(t,e){return oE(t)?{text:Number(t).toString()}:e}function vE(t,e){var n=e||{},r=n.precision,i=void 0===r?2:r,o=n.prefix,a=n.suffix,s=cE(t,!1,i),u=s||{},l=u.text,c=u.fill;return{text:"--"===l?"--":"".concat(o||"").concat(l).concat(a||""),fill:c}}var yE,gE={number:dE,sign:lE,fixed:pE,percent:hE,signNum:function(t,e){return cE(t,!1,e)},signedNum:function(t,e){return cE(t,!1,e)},signPercent:function(t,e){return cE(t,!0,e)},signedPercent:function(t,e){return cE(t,!0,e)},signedText:vE,date:fE},mE=function(t,e,n){var r=gE[e];return r?r(t,n):{text:t}};function xE(t,e){var n=t.getBBox(),r=n.minX,i=n.minY,o=n.maxX,a=n.maxY;if("group"===t.get("type")){var s=t.get("attrs"),u=s.x,l=s.y,c=s.height,h=s.width;r=u,o=u+h,i=l,a=l+c}var f=e.x,p=e.y;return r<=f&&o>=f&&i<=p&&a>=p}function bE(t,e){if(!e||!t)return[];var n=[],r=e.className;r===t&&n.push(e);var i=e.children;if(i&&i.length)for(var o=0;o<i.length;o++){var a=i[o];n=n.concat(bE(t,a))}return n}function wE(t,e,n){for(var r=bE(n,t),i=0,o=r.length;i<o;i++){var a=r[i];if(xE(a,e))return a}}try{yE=parseInt(document.documentElement.style.fontSize,10)||50}catch(Hd){yE=50}var kE=yE/100;function EE(t){if(!t)return 0;if(TE(t)&&/^-?\d+px$/.test(t)){var e=t.substr(0,t.length-2);return Number((e*kE).toFixed(1))}return SE(t)?Number((t*kE).toFixed(1)):0}function ME(t){return function(e){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}}var SE=ME("Number"),TE=ME("String"),PE=ME("Array");function OE(t){if(SE(t)||TE(t))return[t,t,t,t];var e=t[0],n=t[1]?t[1]:t[0],r=t[2]?t[2]:e,i=t[3]?t[3]:n;return[e,n,r,i]}function CE(t){if(TE(t)&&/^-?\d+px$/.test(t)){var e=t.substr(0,t.length-2);return EE(Number(e))}if(PE(t))return t.map((function(t){return CE(t)}));if(sx(t)){var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=CE(t[r]);if(!i){n[r]=i;continue}if("padding"===r||"margin"===r){var o=OE(i);n["".concat(r,"Top")]=o[0],n["".concat(r,"Right")]=o[1],n["".concat(r,"Bottom")]=o[2],n["".concat(r,"Left")]=o[3];continue}n[r]=i}return n}return t}function NE(t,e,n){return t<e?e:t>n?n:t}function AE(t,e){var n=t.getBBox(),r=n.minX,i=n.minY,o=n.maxX,a=n.maxY;if("group"===t.get("type")){var s=t.get("attrs"),u=s.x,l=s.y,c=s.height,h=s.width;r=u,o=u+h,i=l,a=l+c}var f=e.x,p=e.y;return r<=f&&o>=f&&i<=p&&a>=p}function LE(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,n,r){return e+e+n+n+r+r}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function _E(t){var e=LE(t);if(!e)return!1;var n=e.r,r=e.g,i=e.b;return.299*n+.587*r+.114*i>125}function RE(t){try{return t&&sx(t)?Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("^"):""}catch(Hd){return""}}var IE=function(t){return TE(t)&&nE.isNumber(t)},DE=function(t){return!(!IE(t)||!px(Number(t)))&&(6===t.length||32===t.length)},FE=function(t,e){if("string"===typeof e)return mE(t,e);if("function"===typeof e)return e(t)||{text:t};if("object"===typeof e){var n=e.type,r=e.option;return mE(t,n,r)||{text:t}}return{text:t}};function jE(t){var e=t||{},n=e.posX,r=e.posY,i=e.height,o=e.width,a=e.coord,s=a||{},u=s.left,l=s.right,c=s.top,h=s.bottom,f=n,p=r;return n+o>l&&(f=l-o),n<u&&(f=u),r-i/2<c&&(p=c+i/2),r+i/2>h&&(p=h-i/2),{posX:f,posY:p}}var BE=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"handleChartOriginData",value:function(t){var e,n=t[0],r={};rx(n,(function(t,e){IE(t)&&!DE(t)&&(r[e]={type:"number"})})),(null===(e=Object.keys(r))||void 0===e?void 0:e.length)&&t.forEach((function(t){rx(t,(function(e,n){var i;IE(e)&&"number"===(null===(i=r[n])||void 0===i?void 0:i.type)&&(t[n]=Number(e))}))}))}},{key:"_getRenderData",value:function(){var t=this.props.autoDataType,e=void 0!==t&&t,r=xb(C(n.prototype),"_getRenderData",this).call(this);return e&&this.handleChartOriginData(r),r}}]),n}(Ik),GE=Object.prototype.hasOwnProperty;function YE(t,e){if(!e||!U(t))return{};for(var n,r={},i=W(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),GE.call(r,n)?r[n].push(a):r[n]=[a]}return r}var WE=YE;function zE(t,e){if(!e)return{0:t};if(!W(e)){var n=U(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return WE(t,e)}var XE=function(t){return Ht(t)?"":t.toString()},VE=function(t){var e=XE(t);return e.charAt(0).toUpperCase()+e.substring(1)},UE=VE,HE=function(t){if(!U(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},qE=HE,KE=function(t){return null===t},ZE=KE;function $E(t,e,n){if(t===e)return!0;for(var r=0,i=n.length;r<i;r++){var o=n[r];if(t[o]!==e[o])return!1}return!0}var JE=function(t){function e(e,n){var r=t.call(this,e,n)||this,i=e.selection;if(!i)return r;var o=i.defaultSelected;return r.state.selected=o,r}return I(e,t),e.prototype.didMount=function(){var t=this,e=this,n=e.props,r=e.state,i=n.selection,o=n.chart;if(i){var a=i.triggerOn,s=void 0===a?"click":a;o.on(s,(function(e){var n=e.points,a=e.canvasX,u=e.canvasY,l="click"===s?{x:a,y:u}:n[0],c=t.getSnapRecords(l),h=i.type,f=void 0===h?"single":h,p=i.cancelable,d=void 0===p||p;if(c&&c.length){var v=r.selected,y=c.map((function(t){return t.origin}));if(v&&v.length||t.setState({selected:y}),"single"===f){if(!d)return void t.setState({selected:y});var g=[];return c.forEach((function(e){t.isSelected(e)||g.push(e.origin)})),void t.setState({selected:g})}var m=o.getScales(),x=Object.keys(m),b={};v.forEach((function(t){var e=x.map((function(e){return t[e]})).join("-");b[e]=t})),c.forEach((function(t){var e=t.origin,n=x.map((function(t){return e[t]})).join("-");b[n]=b[n]?null:e}));var w=Object.keys(b).map((function(t){return b[t]})).filter(Boolean);t.setState({selected:w})}else d&&t.setState({selected:null})}))}},e.prototype.willReceiveProps=function(t){var e=t.selection,n=this.props.selection;if(e&&n){var r=e.defaultSelected,i=n.defaultSelected;tt(r,i)||(this.state.selected=r)}},e.prototype.getSnapRecords=function(t){return null},e.prototype.isSelected=function(t){var e=this,n=e.state,r=e.props,i=n.selected;if(!i||!i.length)return!1;for(var o=r.chart,a=o.getScales(),s=Object.keys(a),u=0,l=i.length;u<l;u++){var c=i[u];if($E(t.origin,c,s))return!0}return!1},e.prototype.getSelectionStyle=function(t){var e=this,n=e.state,r=e.props,i=n.selected;if(!i||!i.length)return null;var o=r.selection,a=o.selectedStyle,s=o.unSelectedStyle,u=this.isSelected(t);return u?W(a)?a(t):a:W(s)?s(t):s},e}(wd),QE=JE,tM=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype["delete"]=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),eM=tM,nM=function(t,e,n){var r=0,i=qt(e)?e.split("."):e;while(t&&r<i.length)t=t[i[r++]];return void 0===t||r<i.length?n:t},rM=0,iM=.5,oM=.5,aM=.05,sM=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,i=void 0===r?["x","y"]:r,o=t.dimValuesMap;this.adjustNames=i,this.xField=e,this.yField=n,this.dimValuesMap=o}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var r,i,o=this.yField,a=n.indexOf(e),s=n.length;return!o&&this.isAdjust("y")?(r=0,i=1):s>1?(r=n[0===a?0:a-1],i=n[a===s-1?s-1:a+1],0!==a?r+=(e-r)/2:r-=(i-e)/2,a!==s-1?i-=(i-e)/2:i+=(e-n[s-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);gd(t,(function(t,e){gd(r,(function(r,i){n.adjustDim(i,r,t,e)}))}))},t.prototype.groupData=function(t,e){return gd(t,(function(t){void 0===t[e]&&(t[e]=rM)})),WE(t,e)},t.prototype.adjustDim=function(t,e,n,r){},t.prototype.getDimValues=function(t){var e=this,n=e.xField,r=e.yField,i=Cb({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),r&&this.isAdjust("y")&&o.push(r),o.forEach((function(e){i&&i[e]||(i[e]=Hb(t,e).sort((function(t,e){return t-e})))})),!r&&this.isAdjust("y")){var a="y";i[a]=[rM,1]}return i},t}(),uM=sM,lM=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,i=void 0===r?["y"]:r,o=e.height,a=void 0===o?NaN:o,s=e.size,u=void 0===s?10:s,l=e.reverseOrder,c=void 0!==l&&l;return n.adjustNames=i,n.height=a,n.size=u,n.reverseOrder=c,n}return I(e,t),e.prototype.process=function(t){var e=this,n=e.yField,r=e.reverseOrder,i=n?this.processStack(t):this.processOneDimStack(t);return r?this.reverse(i):i},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,r=e.yField,i=e.reverseOrder,o=i?this.reverse(t):t,a=new eM,s=new eM;return o.map((function(t){return t.map((function(t){var e,i=nM(t,n,0),o=nM(t,[r]),u=i.toString();if(o=U(o)?o[1]:o,!Ht(o)){var l=o>=0?a:s;l.has(u)||l.set(u,0);var c=l.get(u),h=o+c;return l.set(u,h),D(D({},t),(e={},e[r]=[c,h],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,i=n.height,o=n.reverseOrder,a="y",s=o?this.reverse(t):t,u=new eM;return s.map((function(t){return t.map((function(t){var n,o=e.size,s=t[r],l=2*o/i;u.has(s)||u.set(s,l/2);var c=u.get(s);return u.set(s,c+l),D(D({},t),(n={},n[a]=c,n))}))}))},e}(uM),cM=lM,hM=function t(e){if("object"!==typeof e||null===e)return e;var n;if(U(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===typeof e[r]&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===typeof e[o]&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n},fM=hM,pM=function(t,e){if(!e)return[t];var n=zE(t,e),r=[];for(var i in n)r.push(n[i]);return r},dM=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,i=void 0===r?iM:r,o=e.dodgeRatio,a=void 0===o?oM:o,s=e.dodgeBy,u=e.intervalPadding,l=e.dodgePadding,c=e.xDimensionLength,h=e.groupNum,f=e.defaultSize,p=e.maxColumnWidth,d=e.minColumnWidth,v=e.columnWidthRatio,y=e.customOffset;return n.marginRatio=i,n.dodgeRatio=a,n.dodgeBy=s,n.intervalPadding=u,n.dodgePadding=l,n.xDimensionLegenth=c,n.groupNum=h,n.defaultSize=f,n.maxColumnWidth=p,n.minColumnWidth=d,n.columnWidthRatio=v,n.customOffset=y,n}return I(e,t),e.prototype.process=function(t){var e=fM(t),n=qE(e),r=this.dodgeBy,i=r?pM(n,r):e;return this.cacheMap={},this.adjustDataArray=i,this.mergeData=n,this.adjustData(i,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,r){var i=this,o=this.customOffset,a=this.getDistribution(t),s=this.groupData(n,t);return gd(s,(function(n,s){var u;u=1===e.length?{pre:e[0]-1,next:e[0]+1}:i.getAdjustRange(t,parseFloat(s),e),gd(n,(function(e){var n=e[t],s=a[n],l=s.indexOf(r);if(Ht(o))e[t]=i.getDodgeOffset(u,l,s.length);else{var c=u.pre,h=u.next;e[t]=W(o)?o(e,u):(c+h)/2+o}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r,i=this,o=i.dodgeRatio,a=i.marginRatio,s=i.intervalPadding,u=i.dodgePadding,l=t.pre,c=t.next,h=c-l;if(!Ht(s)&&Ht(u)&&s>=0){var f=this.getIntervalOnlyOffset(n,e);r=l+f}else if(!Ht(u)&&Ht(s)&&u>=0){f=this.getDodgeOnlyOffset(n,e);r=l+f}else if(!Ht(s)&&!Ht(u)&&s>=0&&u>=0){f=this.getIntervalAndDodgeOffset(n,e);r=l+f}else{var p=h*o/n,d=a*p;f=.5*(h-n*p-(n-1)*d)+((e+1)*p+e*d)-.5*p-.5*h;r=(l+c)/2+f}return r},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.intervalPadding,o=n.xDimensionLegenth,a=n.groupNum,s=n.dodgeRatio,u=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,h=i/o,f=(1-(a-1)*h)/a*s/(t-1),p=((1-h*(a-1))/a-f*(t-1))/t;if(p=Ht(c)?p:1/a/t*c,!Ht(u)){var d=u/o;p=Math.min(p,d)}if(!Ht(l)){var v=l/o;p=Math.max(p,v)}p=r?r/o:p,f=((1-(a-1)*h)/a-t*p)/(t-1);var y=((.5+e)*p+e*f+.5*h)*a-h/2;return y},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.dodgePadding,o=n.xDimensionLegenth,a=n.groupNum,s=n.marginRatio,u=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,h=i/o,f=1*s/(a-1),p=((1-f*(a-1))/a-h*(t-1))/t;if(p=c?1/a/t*c:p,!Ht(u)){var d=u/o;p=Math.min(p,d)}if(!Ht(l)){var v=l/o;p=Math.max(p,v)}p=r?r/o:p,f=(1-(p*t+h*(t-1))*a)/(a-1);var y=((.5+e)*p+e*h+.5*f)*a-f/2;return y},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,i=n.dodgePadding,o=n.xDimensionLegenth,a=n.groupNum,s=r/o,u=i/o,l=((1-s*(a-1))/a-u*(t-1))/t,c=((.5+e)*l+e*u+.5*s)*a-s/2;return c},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,r=n[t];return r||(r={},gd(e,(function(e,n){var i=Hb(e,t);i.length||i.push(0),gd(i,(function(t){r[t]||(r[t]=[]),r[t].push(n)}))})),n[t]=r),r},e}(uM),vM=dM;function yM(t,e){return(e-t)*Math.random()+t}var gM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.process=function(t){var e=fM(t),n=qE(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,i=this.groupData(n,t);return gd(i,(function(n,i){return r.adjustGroup(n,t,parseFloat(i),e)}))},e.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,r=(n-e)*aM;return yM(e+r,n-r)},e.prototype.adjustGroup=function(t,e,n,r){var i=this,o=this.getAdjustRange(e,n,r);return gd(t,(function(t){t[e]=i.getAdjustOffset(o)})),t},e}(uM),mM=gM,xM=function(t){return t},bM=function(t,e){void 0===e&&(e=xM);var n={};return de(t)&&!Ht(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},wM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.process=function(t){var e=qE(t),n=this,r=n.xField,i=n.yField,o=this.getXValuesMaxMap(e),a=Math.max.apply(Math,Object.keys(o).map((function(t){return o[t]})));return tw(t,(function(t){return tw(t,(function(t){var e,n,s=t[i],u=t[r];if(U(s)){var l=(a-o[u])/2;return D(D({},t),(e={},e[i]=tw(s,(function(t){return l+t})),e))}var c=(a-s)/2;return D(D({},t),(n={},n[i]=[c,s+c],n))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this,r=n.xField,i=n.yField,o=WE(t,(function(t){return t[r]}));return bM(o,(function(t){return e.getDimMaxValue(t,i)}))},e.prototype.getDimMaxValue=function(t,e){var n=tw(t,(function(t){return nM(t,e,[])})),r=qE(n);return Math.max.apply(Math,r)},e}(uM),kM=wM;function EM(t){return qt(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Iw(t)&&(t=t.getTime()),t}var MM=function(){function t(t){Cb(this,t);var e=this,n=e.scale,r=e.field,i=e.data;if(!n&&i){var o=Hb(i,r);this.scale=this.createScale({values:o,field:r})}}return t.prototype.createScale=function(t){return null},t.prototype._mapping=function(t){return t},t.prototype.update=function(t){Cb(this,t)},t.prototype.setRange=function(t){this.range=t},t.prototype.normalize=function(t){var e=this.scale;return U(t)?t.map((function(t){return e.scale(t)})):e.scale(t)},t.prototype.convert=function(t){return t},t.prototype.mapping=function(t,e){void 0===e&&(e=null);var n=W(this.callback)?this.callback(t,e):null;return Ht(n)?this._mapping(t):n},t}(),SM=MM,TM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.createScale=function(t){return new mw(t)},e.prototype._mapping=function(){var t=this,e=t.field,n=t.range;return e||n&&n[0]},e}(SM),PM=TM;function OM(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function CM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function NM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function AM(){}var LM=.7,_M=1/LM,RM="\\s*([+-]?\\d+)\\s*",IM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",DM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FM=/^#([0-9a-f]{3,8})$/,jM=new RegExp("^rgb\\("+[RM,RM,RM]+"\\)$"),BM=new RegExp("^rgb\\("+[DM,DM,DM]+"\\)$"),GM=new RegExp("^rgba\\("+[RM,RM,RM,IM]+"\\)$"),YM=new RegExp("^rgba\\("+[DM,DM,DM,IM]+"\\)$"),WM=new RegExp("^hsl\\("+[IM,DM,DM]+"\\)$"),zM=new RegExp("^hsla\\("+[IM,DM,DM,IM]+"\\)$"),XM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function VM(){return this.rgb().formatHex()}function UM(){return iS(this).formatHsl()}function HM(){return this.rgb().formatRgb()}function qM(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=FM.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?KM(e):3===n?new QM(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ZM(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ZM(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=jM.exec(t))?new QM(e[1],e[2],e[3],1):(e=BM.exec(t))?new QM(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=GM.exec(t))?ZM(e[1],e[2],e[3],e[4]):(e=YM.exec(t))?ZM(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=WM.exec(t))?rS(e[1],e[2]/100,e[3]/100,1):(e=zM.exec(t))?rS(e[1],e[2]/100,e[3]/100,e[4]):XM.hasOwnProperty(t)?KM(XM[t]):"transparent"===t?new QM(NaN,NaN,NaN,0):null}function KM(t){return new QM(t>>16&255,t>>8&255,255&t,1)}function ZM(t,e,n,r){return r<=0&&(t=e=n=NaN),new QM(t,e,n,r)}function $M(t){return t instanceof AM||(t=qM(t)),t?(t=t.rgb(),new QM(t.r,t.g,t.b,t.opacity)):new QM}function JM(t,e,n,r){return 1===arguments.length?$M(t):new QM(t,e,n,null==r?1:r)}function QM(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function tS(){return"#"+nS(this.r)+nS(this.g)+nS(this.b)}function eS(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function nS(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function rS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new aS(t,e,n,r)}function iS(t){if(t instanceof aS)return new aS(t.h,t.s,t.l,t.opacity);if(t instanceof AM||(t=qM(t)),!t)return new aS;if(t instanceof aS)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new aS(a,s,u,t.opacity)}function oS(t,e,n,r){return 1===arguments.length?iS(t):new aS(t,e,n,null==r?1:r)}function aS(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function sS(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function uS(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function lS(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return uS((n-r/e)*e,a,i,o,s)}}function cS(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return uS((n-r/e)*e,i,o,a,s)}}CM(AM,qM,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:VM,formatHex:VM,formatHsl:UM,formatRgb:HM,toString:HM}),CM(QM,JM,NM(AM,{brighter:function(t){return t=null==t?_M:Math.pow(_M,t),new QM(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?LM:Math.pow(LM,t),new QM(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tS,formatHex:tS,formatRgb:eS,toString:eS})),CM(aS,oS,NM(AM,{brighter:function(t){return t=null==t?_M:Math.pow(_M,t),new aS(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?LM:Math.pow(LM,t),new aS(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new QM(sS(t>=240?t-240:t+120,i,r),sS(t,i,r),sS(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var hS=function(t){return function(){return t}};function fS(t,e){return function(n){return t+n*e}}function pS(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dS(t){return 1===(t=+t)?vS:function(e,n){return n-e?pS(e,n,t):hS(isNaN(e)?n:e)}}function vS(t,e){var n=e-t;return n?fS(t,n):hS(isNaN(t)?e:t)}var yS=function t(e){var n=dS(e);function r(t,e){var r=n((t=JM(t)).r,(e=JM(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=vS(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function gS(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=JM(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}gS(lS),gS(cS);var mS=function(t,e){return it(e)?OM(t,e):yS(t,e)},xS=function(t){function e(e){var n=t.call(this,e)||this;return n._updateInterpolate(),n}return I(e,t),e.prototype.createScale=function(t){return new Tw(t)},e.prototype._updateInterpolate=function(){var t=this.range,e=t[0],n=t[1];this.interpolate=mS(e,n)},e.prototype.update=function(e){t.prototype.update.call(this,e),this._updateInterpolate()},e.prototype._mapping=function(t){var e=this,n=e.scale,r=e.interpolate;return U(t)?t.map((function(t){return r(n.scale(t))})):r(n.scale(t))},e.prototype.normalize=function(t){var e=this.scale;return U(t)?t.map((function(t){return e.scale(t)})):e.scale(t)},e.prototype.convert=function(t){var e=this.range,n=e[0],r=e[1];return U(t)?t.map((function(t){return n+(r-n)*t})):n+(r-n)*t},e}(SM),bS=xS,wS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.createScale=function(t){return new yw(t)},e.prototype._mapping=function(t){var e=this,n=e.scale,r=e.range;if("cat"===n.type){var i=n.translate(t);return r[i%r.length]}var o=n.scale(t),a=Math.round(o*(r.length-1));return r[a]},e}(SM),kS=wS,ES=PM,MS=bS,SS=kS,TS=["x","y","color","size","shape"],PS=["color","size","shape"];function OS(t,e){return new t.constructor(D(D({},t.__cfg__),e))}var CS=function(){function t(t,e){this.scaleController=t,this.attrsRange=e,this.options={},this.attrs={}}return t.prototype.parseOption=function(t,e){return t?qt(t)?{field:t,type:"category"}:it(t)&&"size"===e?{type:"identity",field:t}:U(t)?{field:t[0],range:t[1]}:t:{type:"identity"}},t.prototype.getAttrOptions=function(t,e){var n=this;if(!t.x||!t.y)throw new Error("x, y are required !");var r={},i=this.attrsRange;TS.forEach((function(e){if(t[e]){var o=n.parseOption(t[e],e);o.range||(o.range=i[e]),r[e]=o}}));var o=r.x,a=r.y;return o.justifyContent=e,o.type=MS,a.type=MS,r},t.prototype.getDefaultAttrValues=function(){var t=this.attrsRange,e=t.color,n=t.shape;return{color:e[0],shape:n&&n[0]}},t.prototype.getGroupScales=function(){var t=this.attrs,e=[];return gd(PS,(function(n){var r=t[n];if(r){var i=r.scale;i&&i.isCategory&&-1===e.indexOf(i)&&e.push(i)}})),e},t.prototype.createAttr=function(t){var e=t.type,n=t.field,r=t.scale;if(Ht(n)||e===ES)return new ES(t);var i=this.scaleController.getScale(n),o=D(D({},t),{data:this.scaleController.getData(),scale:r?OS(i,r):i});if(i&&"identity"===i.type)return new ES(o);var a=i.isLinear?MS:SS;return W(e)&&(a=e),qt(e)&&s[UE(e)]&&(a=s[UE(e)]),new a(o)},t.prototype.create=function(t){this.update(t)},t.prototype.update=function(t){var e=this,n=e.scaleController,r=e.options,i=e.attrs,o={};gd(t,(function(t,e){var a=r[e];tt(t,a)&&(o[e]=i[e]);var s=t.field,u=t.justifyContent;s&&n.setScale(s,{justifyContent:u})})),this.options=t,this.attrs=o},t.prototype.getAttr=function(t){var e=this,n=e.attrs,r=e.options,i=n[t];if(i)return i;var o=r[t];if(!o)return null;var a=this.createAttr(o);return n[t]=a,a},t.prototype.getAttrs=function(){var t=this,e=this,n=e.options,r=e.attrs;return gd(n,(function(e,n){t.getAttr(n)})),r},t.prototype.isGroupAttr=function(t){return-1!==PS.indexOf(t)},t.prototype.getAttrsByLinear=function(){var t=this.attrs,e=Object.keys(t),n=[],r=[];return e.forEach((function(e){if("x"!==e&&"y"!==e){var i=t[e].scale;i&&"linear"===i.type?n.push(e):r.push(e)}else n.push(e)})),{linearAttrs:n,nonlinearAttrs:r}},t}(),NS=CS,AS={Stack:cM,Dodge:vM,Jitter:mM,Symmetric:kM},LS="origin",_S=function(t){function e(e,n){var r=t.call(this,e,n)||this;r.isGeometry=!0,r.justifyContent=!1,r.startOnZero=!1,r.connectNulls=!1,r.sortable=!1,Cb(r,r.getDefaultCfg());var i=e.chart,o=e.coord,a=r._getThemeAttrsRange();r.attrController=new NS(i.scale,a);var s=r,u=s.attrController,l=s.justifyContent,c=u.getAttrOptions(e,!o.isCyclic()||l);return u.create(c),r}return I(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.willReceiveProps=function(e){var n=this,r=n.props,i=n.attrController,o=n.justifyContent,a=e.data,s=e.adjust,u=e.coord,l=e.selection,c=r.data,h=r.adjust,f=r.selection,p=!u.isCyclic()||o,d=i.getAttrOptions(r,p);i.attrsRange=this._getThemeAttrsRange();var v=i.getAttrOptions(e,p);tt(v,d)||(i.update(v),this.dataRecords=null),a!==c&&(this.dataRecords=null),s!==h&&(this.dataRecords=null),tt(l,f)||t.prototype.willReceiveProps.call(this,e)},e.prototype.willMount=function(){this._createAttrs(),this.dataRecords||this._processData()},e.prototype.willUpdate=function(){this._createAttrs(),this.dataRecords||this._processData()},e.prototype.didMount=function(){t.prototype.didMount.call(this),this.attrController.attrsRange=this._getThemeAttrsRange()},e.prototype._createAttrs=function(){var t=this.attrController;t.attrs={},this.attrs=t.getAttrs()},e.prototype._getThemeAttrsRange=function(){var t=this,e=t.context,n=t.props,r=t.geomType,i=n.coord,o=e.theme,a=o.colors,s=o.sizes,u=o.shapes;return{x:i.x,y:i.y,color:a,size:s,shape:u[r]}},e.prototype._adjustScales=function(){var t=this,e=t.attrs,n=t.props,r=t.startOnZero,i=n.chart,o=n.startOnZero,a=void 0===o?r:o,s=n.coord,u=n.adjust,l=s.isPolar,c=s.transposed,h=e.y,f=h.field;if(a){var p=e.y;i.scale.adjustStartZero(p.scale)}if(l&&c&&("stack"===u||"stack"===(null===u||void 0===u?void 0:u.type))){var d=e.y;i.scale.adjustPieScale(d.scale)}"stack"!==u&&"stack"!==(null===u||void 0===u?void 0:u.type)||this._updateStackRange(f,h.scale,this.dataArray)},e.prototype._groupData=function(t){var e=this.attrController,n=e.getGroupScales();if(!n.length)return[{children:t}];var r=[];n.forEach((function(t){var e=t.field;r.push(e)}));var i=zE(t,r),o=[];for(var a in i)o.push({key:a.replace(/^_/,""),children:i[a]});return o},e.prototype._saveOrigin=function(t){for(var e,n=t.length,r=new Array(n),i=0;i<n;i++){var o=t[i];r[i]=D(D({},o),(e={},e[LS]=o,e))}return r},e.prototype._numberic=function(t){for(var e=this.attrs,n=[e.x.scale,e.y.scale],r=0,i=t.length;r<i;r++)for(var o=t[r],a=n.length,s=0;s<a;s++){var u=n[s];if(u.isCategory){var l=u.field;o[l]=u.translate(o[l])}}},e.prototype._adjustData=function(t){var e=this,n=e.attrs,r=e.props,i=r.adjust,o=t.map((function(t){return t.children}));if(!i)return o;var a="string"===typeof i?{type:i}:i,s=UE(a.type),u=AS[s];if(!u)throw new Error("not support such adjust : "+i);if("Dodge"===s){for(var l=0,c=o.length;l<c;l++)this._numberic(o[l]);a.adjustNames=["x"]}var h=n.x,f=n.y;a.xField=h.field,a.yField=f.field;var p=new u(a),d=p.process(o);return this.adjust={type:a.type,adjust:p},t.forEach((function(t,e){t.children=d[e]})),d},e.prototype._updateStackRange=function(t,e,n){for(var r=qE(n),i=1/0,o=-1/0,a=0,s=r.length;a<s;a++){var u=r[a],l=Math.min.apply(null,u[t]),c=Math.max.apply(null,u[t]);l<i&&(i=l),c>o&&(o=c)}i===e.min&&o===e.max||e.change({min:i,max:o})},e.prototype._processData=function(){var t=this.props,e=t.data,n=this._saveOrigin(e),r=this._groupData(n),i=this._adjustData(r);this.dataArray=i,this._adjustScales(),this.sortable&&this._sortData(r),this.dataRecords=r},e.prototype._sortData=function(t){var e=this.getXScale(),n=e.field,r=e.type;"identity"!==r&&e.values.length>1&&gd(t,(function(t){var i=t.children;i.sort((function(t,i){return"timeCat"===r?EM(t[LS][n])-EM(i[LS][n]):e.translate(t[LS][n])-e.translate(i[LS][n])}))}))},e.prototype.getY0Value=function(){var t=this,e=t.attrs,n=t.props,r=n.chart,i=e.y.field,o=r.getScale(i);return r.scale.getZeroValue(o)},e.prototype._getShapeStyle=function(t,e){var n=this,r=n.context,i=n.props,o=n.geomType,a=r.theme,s=a.shape[o]||{},u=s["default"],l=s[t],c=i.style,h=D(D({},u),l);if(!c||!de(c))return h;var f=c.field,p=F(c,["field"]),d=f?e[f]:e;return gd(p,(function(t,e){W(t)?h[e]=t(d):h[e]=t})),h},e.prototype._mapping=function(t){for(var e=this,n=e.attrs,r=e.props,i=e.attrController,o=r.coord,a=i.getAttrsByLinear(),s=a.linearAttrs,u=a.nonlinearAttrs,l=i.getDefaultAttrValues(),c=[],h=0,f=t.length;h<f;h++){var p=t[h],d=p.children,v=D({},l),y=d[0];if(0!==d.length){for(var g=0,m=u.length;g<m;g++){var x=u[g],b=n[x];v[x]=b.mapping(y[b.field])}for(var w=[],k=0,E=d.length;k<E;k++){var M=d[k],S={};for(g=0;g<s.length;g++){x=s[g],b=n[x];i.isGroupAttr(x)?v[x]=b.mapping(M[b.field],M):S[x]=b.normalize(M[b.field])}var T=o.convertPoint({x:S.x,y:S.y}),P=T.x,O=T.y,C=M.origin,N=v.shape,A=this._getShapeStyle(N,C),L=this.isSelected(M);w.push(D(D(D({},M),v),{normalized:S,x:P,y:O,shapeName:N,shape:A,selected:L}))}c.push(D(D({},p),{children:w}))}else c.push(D({},p))}return c},e.prototype.mapping=function(){var t=this.dataRecords;return this.records=this._mapping(t),this.records},e.prototype.getClip=function(){var t=this.props,e=t.coord,n=t.viewClip,r=e.width,i=e.height,o=e.left,a=e.top;return n?{type:"rect",style:{x:o,y:a,width:r,height:i}}:null},e.prototype.getAttr=function(t){return this.attrController.getAttr(t)},e.prototype.getXScale=function(){return this.getAttr("x").scale},e.prototype.getYScale=function(){return this.getAttr("y").scale},e.prototype._getXSnap=function(t){var e=this.getXScale();if(e.isCategory)return e.invert(t);var n=e.invert(t),r=e.values,i=r.length;if(1===i)return r[0];if((r[0]+r[1])/2>n)return r[0];if((r[i-2]+r[i-1])/2<=n)return r[i-1];for(var o=1;o<i;o++)if((r[o-1]+r[o])/2<=n&&(r[o+1]+r[o])/2>n)return r[o];return null},e.prototype._getYSnapRecords=function(t,e){var n=this.getYScale(),r=n.field,i=n.invert(t);return n.isCategory?e.filter((function(t){return t[LS][r]===i})):e.filter((function(t){var e=t[r];return e[0]<=i&&e[1]>=i}))},e.prototype.flatRecords=function(){var t=this.records;return t.reduce((function(t,e){return t.concat(e.children)}),[])},e.prototype.getSnapRecords=function(t,e){var n=this.props,r=n.coord,i=n.adjust,o=r.invertPoint(t),a=this.getXScale(),s=this.getYScale();if(e){var u=a.range,l=s.range;o.x=Math.min(Math.max(o.x,u[0]),u[1]),o.y=Math.min(Math.max(o.y,l[0]),l[1])}var c=this.flatRecords();if("stack"===i&&r.isPolar&&r.transposed&&o.x>=0&&o.x<=1){var h=this._getYSnapRecords(o.y,c);return h}var f=[],p=this._getXSnap(o.x);if(ZE(p))return f;for(var d=a.field,v=s.field,y=0,g=c.length;y<g;y++){var m=D(D({},c[y]),{xField:d,yField:v}),x=m[LS][d];("timeCat"===a.type&&EM(x)===p||x===p)&&f.push(m)}return f},e.prototype.getRecords=function(t,e){void 0===e&&(e="xfield");for(var n=this.flatRecords(),r=this.getXScale(),i=this.getYScale(),o=r.field,a=i.field,s=t[o],u=[],l=0,c=n.length;l<c;l++){var h=D(D({},n[l]),{xField:o,yField:a}),f=h[LS]["xfield"===e?o:a];f===s&&u.push(h)}return u},e.prototype.getLegendItems=function(){var t=this.attrController,e=t.getAttr("color");if(!e)return null;var n=e.scale;if(!n.isCategory)return null;var r=n.getTicks(),i=r.map((function(t){var r=t.text,i=t.tickValue,o=e.mapping(i);return{field:n.field,color:o,name:r,tickValue:i}}));return i},e}(QE),RS=_S,IS=function(t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return I(n,e),n.prototype.getDefaultCfg=function(){return{geomType:"point"}},n.prototype.render=function(){var e=this.props,n=e.coord,r=this.mapping(),i=this.getClip();return wb(t,D({},e,{coord:n,records:r,clip:i}))},n}(RS)},DS=function(t){var e=t.records,n=t.animation,r=t.clip;return wb("group",{attrs:{clip:r}},e.map((function(t){var e=t.key,r=t.children;return wb("group",{key:e},r.map((function(t){var r=t.x,i=t.y,o=t.size,a=t.color,s=t.shapeName,u=t.shape;if(isNaN(r)||isNaN(i))return null;if("rect"===s){var l=Ht(o)?u.size:o;return wb("rect",{key:e,attrs:D(D({x:r-l,y:i-l,fill:a,stroke:a},u),{width:2*l,height:2*l}),animation:Sb({appear:{easing:"linear",duration:450},update:{easing:"linear",duration:450,property:["x","y","width","height","fill"]}},n)})}return wb("circle",{key:e,style:D(D({cx:r,cy:i,fill:"circle"===s?a:null,stroke:"hollowCircle"===s?a:null},u),{r:Ht(o)?u.size:o}),animation:Sb({appear:{easing:"linear",duration:450},update:{easing:"linear",duration:450,property:["cx","cy","r","fill"]}},n)})})))})))},FS=IS(DS),jS="https://gw.alipayobjects.com/zos/antfincdn/0zZjHIFuWQ/xiaoi.png",BS=(i(4690),CE({legendStyle:{},titleStyle:{fontSize:"20px"},markerStyle:{height:"4px",width:"20px",marginRight:"8px",borderRadius:"2.5px",marginTop:"14px"},nameStyle:{fontSize:"24px"},valueStyle:{fontSize:"24px"},toggleList:{right:"10px",maxWidth:"160px"},toggleItem:{lineHeight:2,textAlign:"center",padding:"10px",fontSize:"24px"},toggleTriangle:{width:"16px",height:"16px",marginLeft:"8px"}})),GS={spmC:"",spmParam:{},tip:{spmD:"",spmParam:{}},item:{spmD:"",spmParam:{}},arrow:{spmD:"",spmParam:{}}},YS=function(t){var e=t.valueFormat,n=void 0===e?"signPercent":e,r=t.onChange,i=t.onLegendClick,o=t.items,a=t.onTipClick,s=t.valueConfig,u=t.active,l=t.title,c=t.className,h=void 0===c?"":c,f=t.spmInfo,p=void 0===f?GS:f,d=(0,zx.useState)(-1),v=Yk(d,2),y=v[0],g=v[1],m=(0,zx.useState)(),x=Yk(m,2),b=x[0],w=x[1],k=(0,zx.useRef)();function M(t){var e=null===k||void 0===k?void 0:k.current,n=null===t||void 0===t?void 0:t.target;e&&n&&(e.contains(n)||g(-1))}if((0,zx.useEffect)((function(){var e=((null===t||void 0===t?void 0:t.options)||[]).map((function(t,e){var n=t.list,r=n[0]||{};return E(E({},t),{},{current:r.code})}));w(e)}),[null===t||void 0===t?void 0:t.options]),(0,zx.useEffect)((function(){return document.addEventListener("touchstart",M),function(){document.removeEventListener("touchstart",M)}}),[]),!b)return null;var S=p.spmC,T=p.spmParam,P=p.item,O=p.tip,C=p.arrow;return Xx().createElement("div",{ref:k,className:"pro-legend ".concat(h),style:E(E({},BS.legendStyle),u?{background:"#E7F1FF"}:{})},l?Xx().createElement("p",{className:"pro-legend-title",style:BS.titleStyle},l):null,b.map((function(t,e){var u=t.list,l=t.groupType,c=t.color,h=t.current,f=u&&u.length>1,p=y===e,d=u.find((function(t){return t.code===h})),v=d||{},m=v.name,x=v.tip,k=(v.type,(o||[]).find((function(t){return(null===t||void 0===t?void 0:t.name)===(null===d||void 0===d?void 0:d.code)}))),M=mE(null===k||void 0===k?void 0:k.value,n),N=bx(null===k||void 0===k?void 0:k.value)?"":null===s||void 0===s?void 0:s.suffix,A=function(t){"function"===typeof i&&i(e,t),g(y===e?-1:e)},L=function(t){return f?Xx().createElement("span",{"data-aspm-expo":!0,"data-aspm-param":RE(null===C||void 0===C?void 0:C.spmParam),"data-aspm-click":(null===C||void 0===C?void 0:C.spmD)?"".concat(S,"_").concat(e+1,".").concat(null===C||void 0===C?void 0:C.spmD):"",className:"toggleIcon ".concat(p?"open":"close"),style:BS.toggleTriangle,onClick:A}):lx(x)&&x?Xx().createElement("div",{"data-aspm-expo":!0,"data-aspm-param":RE(null===O||void 0===O?void 0:O.spmParam),"data-aspm-click":(null===O||void 0===O?void 0:O.spmD)?"".concat(S,"_").concat(t+1,".").concat(null===O||void 0===O?void 0:O.spmD):"",className:"info-icon-wrapper",onClick:function(t){"function"===typeof a&&d&&a(d,t)}},Xx().createElement("span",{className:"info-icon",style:{backgroundImage:"url(".concat(jS,")")}})):null};return Xx().createElement("div",{className:"pro-legend-item","data-aspm-expo":!0,"data-aspm-param":RE(T),"data-aspm-click":S?"".concat(S,"_").concat(e+1):"",key:e,style:{width:"".concat(100/b.length,"%")}},Xx().createElement("div",{className:"marker",style:E({backgroundColor:c},BS.markerStyle)}),Xx().createElement("div",{className:"content"},Xx().createElement("p",{className:"content-name",style:BS.nameStyle},Xx().createElement("span",{className:"content-name-text",onClick:A,"data-aspm-param":RE(null===C||void 0===C?void 0:C.spmParam),"data-aspm-click":(null===C||void 0===C?void 0:C.spmD)?"".concat(S,"_").concat(e+1,".").concat(null===C||void 0===C?void 0:C.spmD):""},m),L(e)),Xx().createElement("p",{className:"content-value",style:E({color:M.fill},BS.valueStyle)},M.text+(N||"")),f&&p?Xx().createElement("div",{className:"toggle",style:BS.toggleList},u.map((function(t,n){var i=t.name,o=t.code,a=t.type;return Xx().createElement("div",{style:BS.toggleItem,"data-aspm-expo":!0,"data-aspm-param":RE(null===P||void 0===P?void 0:P.spmParam),"data-aspm-click":(null===P||void 0===P?void 0:P.spmD)?"".concat(S,"_").concat(e+1,".").concat(null===P||void 0===P?void 0:P.spmD,"_").concat(n+1):"",className:"toggle-item",key:"".concat(e,"-").concat(n),onClick:function(t){g(-1);var i=Mx(b);if(i[e].current=o,w(i),Qm(r)){var s={code:o,type:a,toggleIndex:e,subIndex:n};r(l,s)}}},Xx().createElement("span",{className:h===o?"active":""},i||o))}))):null))})))};function WS(t,e){var n=(e.x-t.x)/2+t.x,r=(e.y-t.y)/2+t.y;return{x:n,y:r}}var zS={textBaseline:"middle",fill:"#808080"};function XS(t){var e,n,r,i=t.record,o=t.offsetX,a=t.offsetY,s=t.points,u=t.label,l=t.guide,c=i.origin,h=i.color;if(W(u)){var f=4===s.length?WS(s[1],s[2]):WS(s[0],s[1]);n=Cb({x:f.x+o,y:f.y+a},zS,u(c,h))}if(W(l)){f=WS(4===s.length?WS(s[0],s[1]):s[0],WS(s[2],null!==(e=s[3])&&void 0!==e?e:s[1]));r=Cb({x:f.x,y:f.y,textBaseline:"middle",textAlign:"center"},zS,l(c,h))}return wb("group",null,n&&wb("text",{attrs:n}),r&&wb("text",{attrs:r}))}var VS,US=function(t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return I(n,e),n.prototype.getDefaultCfg=function(){return{geomType:"interval",justifyContent:!0,startOnZero:!0}},n.prototype.getDefaultSize=function(){var t=this,e=t.attrs,n=t.props,r=t.adjust,i=t.records,o=n.coord,a=n.sizeRatio,s=e.x,u=s.scale,l=u.values;if(a)return 1/l.length*a;var c,h={column:.5,rose:.999999,multiplePie:3/4},f=l.length;c=o.isPolar?o.transposed&&f>1?h.multiplePie:h.rose:h.column;var p=1/l.length*c;return r&&"dodge"===r.type?p/i.length:p},n.prototype.mapping=function(){for(var t=e.prototype.mapping.call(this),n=this.props,r=n.coord,i=this.getY0Value(),o=this.getDefaultSize(),a=0,s=t.length;a<s;a++)for(var u=t[a],l=u.children,c=0,h=l.length;c<h;c++){var f=l[c],p=f.normalized,d=f.size;if(Ht(d)){var v=p.x,y=p.y,g=p.size,m=void 0===g?o:g;Cb(f,r.convertRect({x:v,y:y,y0:i,size:m}))}else{v=f.x,y=f.y;var x={size:d,x:v,y:y,y0:i};Cb(f,r.transformToRect(x))}Cb(f.shape,this.getSelectionStyle(f))}return t},n.prototype.getPointY0=function(){var t=this.props,e=t.coord,n=this.getY0Value(),r=e.convertPoint({y:n,x:0});return null===r||void 0===r?void 0:r.y},n.prototype.render=function(){var e=this,n=e.props,r=e.state,i=n.coord,o=n.shape,a=void 0===o?"rect":o,s=n.animation,l=n.showLabel,c=n.labelCfg,h=W(t)?t:t[a],f=u[a],p=Sb({label:null,offsetX:0,offsetY:0},c);if(!h)return null;var d=r.selected,v=this.mapping(),y=this.getPointY0(),g=this.getClip();return wb(h,{coord:i,records:v,selected:d,shape:a,animation:s,showLabel:l,labelCfg:p,LabelView:f,y0:y,clip:g})},n}(RS)};function HS(t){return function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=e.call.apply(e,[this].concat(i));var a=t.props.onPressStart,s=t.props.onPress,u=t.props.onPressEnd;return t.props.onPressStart=function(e){"function"===typeof a&&a(e,A(t))},t.props.onPress=function(e){var n=e||{},r=n.direction;"up"!==r&&"down"!==r&&(e.preventDefault(),"function"===typeof s&&s(e,A(t)))},t.props.onPressEnd=function(e){"function"===typeof u&&u(e,A(t))},t}return S(n)}(t)}function qS(t){return function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"willMount",value:function(){"function"===typeof xb(C(n.prototype),"willMount",this)&&xb(C(n.prototype),"willMount",this).call(this);var t=this.props.willMount;"function"===typeof t&&t(this)}},{key:"willUpdate",value:function(){"function"===typeof xb(C(n.prototype),"willUpdate",this)&&xb(C(n.prototype),"willUpdate",this).call(this);var t=this.props.willUpdate;"function"===typeof t&&t(this)}}]),n}(t)}function KS(t){return function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"getLastItems",value:function(){if(this){var t=this.getLegendItems(),e=this.dataRecords,n=this.attrController.getAttr("color")||{},r=n.field,i=this.props,o=i.y,a=i.x;if(r){var s,u,l={};return t.forEach((function(t){l[t.tickValue]=Mx(t)})),e.forEach((function(t){var e=t||{},n=e.children;(!s||s<=n.length-1)&&(s=n.length-1,u=Fx(n[s],"origin.".concat(a),null))})),e.forEach((function(t){var e=t.children,n=void 0===e?[]:e,i=n.find((function(t){return Fx(t,"origin.".concat(a),null)==u})),s=n[0][r];l[s]&&(l[s].value=i?i[o]:null)})),mx(l)}}}},{key:"getCurrentItems",value:function(t){var e=this.getLegendItems(),n=this.attrController.getAttr("color")||{},r=n.field,i=this.props.y;if(r){var o={};return e.forEach((function(t){o[t.tickValue]=Mx(t)})),t.forEach((function(t){o[t[r]].value=t[i]})),mx(o)}}},{key:"getXTextByRecords",value:function(t){var e=this.props.x,n=this.props.chart,r=n.getScale(e);if(!t||!t[0])return null;var i=t[0].origin;return i?r.getText(i[e]):null}}]),n}(t)}function ZS(t){return function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"getGeometries",value:function(){var t=this.props.chart,e=t.getGeometrys();return e}}]),n}(t)}var $S=function(t,e){var n=t.coord,r=t.records,i=void 0===r?[]:r,o=t.animation,a=t.lineWidth,s=t.space,u=void 0===s?0:s,l=t.spaceType,c=e||{},h=c.px2hd,f=n.center,p=n.radius,d=n.startAngle,v=n.endAngle,y=n.height,g=2*Math.PI-Math.abs(v-d),m=y/(1+Math.cos(g/2)),x=h(a||"20px");return Xx().createElement("group",null,i.reverse().map((function(t,e){var n=t.key,r=t.children;return Xx().createElement("group",{key:n},r.map((function(t){var n=t.key,r=t.xMin,i=t.xMax,a=t.color,s=r,c=i,v=l||"round",y="innerArc"===l;y&&(v="round"),!y&&u&&0!==e&&(c-=h(u)/p);var g=y?{}:Cx({appear:{easing:"linear",duration:500,property:["startAngle","endAngle"],start:{startAngle:d,endAngle:d}}},o);return Xx().createElement("group",{key:c},y?Xx().createElement("circle",{attrs:{cx:f.x+Math.cos(c)*(m-x),cy:m-x/2+Math.sin(c)*(m-x),r:.8*x,fill:"#fff"}}):null,Xx().createElement("arc",{key:n,attrs:{cx:f.x,cy:m-x/2,stroke:a,startAngle:s,endAngle:c,lineCap:v,r:m-x,lineWidth:x},animation:g}))})))})))},JS=KS(VS=qS(VS=function(t){O(n,t);var e=_(n);function n(t,r){var i;return T(this,n),i=e.call(this,E(E({},t),{},{adjust:"stack",x:"gauge"}),r),i.props=i.props,i}return S(n,[{key:"willReceiveProps",value:function(t){xb(C(n.prototype),"willReceiveProps",this).call(this,E(E({},t),{},{adjust:"stack",x:"gauge"}))}},{key:"render",value:function(){var t=this.mapping(),e=this.props,n=e.coord,r=e.animation;return Xx().createElement($S,Wx({},this.props,{coord:n,records:t,animation:r}))}}]),n}(US($S)))||VS)||VS,QS=function(t){return function(e){function n(t){var n=e.call(this,t)||this;n.axisStyle={};var r=t.chart,i=t.field,o=n.getScaleOption(t);return r.setScale(i,o),n}return I(n,e),n.prototype.willReceiveProps=function(t){var e=this.props,n=t.chart,r=t.field,i=this.getScaleOption(t),o=this.getScaleOption(e);tt(i,o)||n.setScale(r,i)},n.prototype.willMount=function(){this.updateCoord()},n.prototype.willUpdate=function(){this.updateCoord()},n.prototype.getScaleOption=function(t){var e=t.type,n=t.tickCount,r=t.range,i=t.mask,o=t.formatter,a=t.ticks,s=t.min,u=t.max,l=t.nice;return{type:e,tickCount:n,range:r,mask:i,formatter:o,min:s,max:u,nice:l,ticks:a}},n.prototype._getDimType=function(){var t=this.props,e=t.field,n=t.chart,r=n.getXScales(),i=r.filter((function(t){return t.field===e}));return i.length>0?"x":"y"},n.prototype.getMaxBBox=function(t,e){var n=this.context,r=n.measureText,i=e.label,o=e.labelOffset,a=0,s=0;if(t.forEach((function(t){if(i){var e=t.labelStyle,n=void 0===e?{}:e,o=t.text,u=r(n.text||o,D(D({},i),n));a=Math.max(a,u.width),s=Math.max(s,u.height)}})),!a&&!s)return{width:a,height:s};var u={width:a+o,height:s+o};return u},n.prototype._getPosition=function(){var t=this.props,e=t.position,n=t.coord;if(e)return e;var r=this._getDimType();return n.transposed?"x"===r?"left":"bottom":"x"===r?"bottom":"left"},n.prototype.getTicks=function(){var t=this.props,e=t.field,n=t.chart,r=n.getScale(e),i=r.getTicks();return i=this._setTicksStyle(i),i=this._generateGridPoints(i),i},n.prototype._generateGridPoints=function(t){var e=this.props,n=e.chart,r=e.coord;if(!r.isPolar)return t;var i=this._getDimType();if("y"!==i)return t;var o=n.getXScales()[0],a=o.getTicks();return t.forEach((function(t){var e=a.map((function(e){return r.convertPoint({x:e.value,y:t.value})}));e.push(e[0]),t.gridPoints=e})),t},n.prototype._setTicksStyle=function(t){var e=this,n=this,r=n.props,i=n.context,o=i.theme,a=i.px2hd,s=r.style,u=void 0===s?{}:s,l=o.axis;return gd(l,(function(t,n){if(null!==u[n]){var r=W(u[n])?void 0:u[n];qt(t)||it(t)?e.axisStyle[n]=a(r)||t:U(r)?e.axisStyle[n]=r.map((function(e){return a(Sb(fM(t),e))})):e.axisStyle[n]=a(Sb(fM(t),r))}})),t.map((function(e,n){var r=u.label,i=u.grid,o=l.label,s=l.grid;return W(r)&&(e.labelStyle=a(Cb({},o,r(e.text,n,t)))),W(i)&&(e.gridStyle=a(Cb({},s,i(e.text,n,t.length)))),e}))},n.prototype.convertTicks=function(t){var e=this.props,n=e.coord,r=this._getDimType(),i="x"===r?"y":"x";return t.map((function(t){var e,o,a=n.convertPoint((e={},e[r]=t.value,e[i]=0,e)),s=n.convertPoint((o={},o[r]=t.value,o[i]=1,o));return D(D({},t),{points:[a,s]})}))},n.prototype.measureLayout=function(){var t=this.props,e=t.visible,n=t.coord;if(!1===e)return null;var r=this.getTicks(),i=this.getMaxBBox(r,this.axisStyle),o=n.isPolar,a=this._getDimType(),s=i.width,u=i.height;if(o)return"y"===a?null:["top","right","bottom","left"].map((function(t){return{position:t,width:s,height:u}}));var l=this._getPosition();return{position:l,width:s,height:u}},n.prototype.updateCoord=function(){var t=this.props,e=t.chart,n=this.measureLayout();e.updateCoordFor(this,n)},n.prototype.render=function(){var e=this,n=e.props,r=e.axisStyle,i=n.visible,o=n.coord;if(!1===i)return null;var a=this.getTicks(),s=this._getPosition(),u=this._getDimType();return wb(t,D({},n,{style:r,ticks:this.convertTicks(a),coord:o,position:s,dimType:u}))},n}(wd)};function tT(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=Xr([r,i]),a=o+n,s=r/o*a,u=i/o*a;return{x:t.x+s,y:t.y+u}}function eT(t,e){var n,r,i=[e.x-t.x,e.y-t.y];return n=i[0]>0?"left":i[0]<0?"right":"center",r=i[1]>0?"top":i[1]<0?"bottom":"middle",{textAlign:n,textBaseline:r}}var nT=function(t){var e=t.line,n=t.gridType,r=t.center,i=t.radius,o=t.ticks;if(!e)return null;if("line"!==n)return wb("arc",{attrs:D({cx:r.x,cy:r.y,r:i,startAngle:0,endAngle:360},e)});var a=o.map((function(t){var e=t.points;return e[e.length-1]}));return a.push(a[0]),wb("polyline",{attrs:D({points:a.map((function(t){return[t.x,t.y]}))},e)})},rT=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.grid,o=n.center,a=r.grid,s=r.tickLine,u=r.line,l=r.labelOffset,c=r.label,h=e.filter((function(t){return!isNaN(t.value)})),f=h[0],p=f.points,d=p[p.length-1],v=Xr([d.x-o.x,d.y-o.y]);return wb("group",null,a?h.map((function(t){var e=t.points,n=t.gridStyle,r=e[e.length-1];return wb("line",{attrs:D(D({x1:o.x,y1:o.y,x2:r.x,y2:r.y},a),n)})})):null,s&&s.length?h.map((function(t){var e=t.points,n=e[e.length-1],r=tT(o,n,s.length);return wb("line",{attrs:D({x1:n.x,y1:n.y,x2:r.x,y2:r.y},s)})})):null,wb(nT,{line:u,gridType:i,center:o,radius:v,ticks:h}),c?h.map((function(t){var e=t.points,n=t.text,r=t.labelStyle,i=e[e.length-1],a=tT(o,i,l);return wb("text",{attrs:D(D(D({x:a.x,y:a.y,text:n},eT(o,i)),c),r)})})):null)},iT=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.grid,o=n.center,a=r.grid,s=r.tickLine,u=r.line,l=r.labelOffset,c=r.label,h=e.filter((function(t){return!isNaN(t.value)}));return wb("group",null,a?h.map((function(t){var e=t.points,n=t.gridStyle,r=t.gridPoints,s=e[e.length-1];return"line"!==i?wb("arc",{attrs:D(D({cx:o.x,cy:o.y,startAngle:0,endAngle:360,r:Xr([s.x-o.x,s.y-o.y])},a),n)}):wb("polyline",{attrs:D(D({points:r.map((function(t){return[t.x,t.y]}))},a),n)})})):null,s&&s.length?h.map((function(t){var e=t.points,n=e[e.length-1];return wb("line",{attrs:D({x1:n.x,y1:n.y,x2:n.x-s.length,y2:n.y},s)})})):null,u?wb("line",{attrs:D({x1:h[0].points[0].x,y1:h[0].points[0].y,x2:h[h.length-1].points[0].x,y2:h[h.length-1].points[0].y},u)}):null,c?h.map((function(t){var e=t.points,n=t.text,r=t.labelStyle,i=e[e.length-1];return wb("text",{attrs:D(D({x:i.x-l,y:i.y,text:n,textAlign:"right",textBaseline:"middle"},c),r)})})):null)},oT=function(t){var e=t.ticks,n=t.coord,r=t.style,i=n.left,o=n.top,a=n.right,s=r.grid,u=r.tickLine,l=r.line,c=r.labelOffset,h=r.label,f=r.symbol,p=e.filter((function(t){return!isNaN(t.value)})),d=U(f)?f:[f];return wb("group",null,s?p.map((function(t){var e=t.points,n=t.gridStyle,r=e[0],i=e[e.length-1];return wb("line",{attrs:D(D({x1:r.x,y1:r.y,x2:i.x,y2:i.y},s),n)})})):null,u&&u.length?p.map((function(t){var e=t.points,n=e[e.length-1];return wb("line",{attrs:D({x1:n.x,y1:n.y,x2:n.x,y2:n.y-u.length},u)})})):null,d[0]?wb("marker",{style:D(D({x:a,y:o,transform:"rotate(90deg)",transformOrigin:"50% 50%"},d[0]),{symbol:d[0].type})}):null,l?wb("line",{attrs:D({x1:i,y1:o,x2:a,y2:o},l)}):null,d[1]?wb("marker",{style:D(D({x:i,y:o,transform:"rotate(-90deg)",transformOrigin:"50% 50%"},d[0]),{symbol:d[1].type})}):null,h?p.map((function(t,e){var n=t.points,r=t.text,i=t.labelStyle,o=n[n.length-1];return wb("text",{attrs:D(D({x:o.x,y:o.y-c,textAlign:"center",textBaseline:"bottom",text:r},h),i)})})):null)},aT=function(t,e){var n=t.ticks,r=t.coord,i=t.style,o=t.animation,a=e.px2hd,s=r.left,u=r.right,l=r.bottom,c=i.grid,h=i.tickLine,f=i.line,p=i.labelOffset,d=i.label,v=i.symbol,y=n.filter((function(t){return!isNaN(t.value)})),g=U(v)?v:[v];return wb("group",null,c?y.map((function(t){var e=t.points,n=t.tickValue,r=t.gridStyle,i=e[0],o=e[e.length-1];return wb("line",{key:n,attrs:D(D({x1:i.x,y1:i.y,x2:o.x,y2:o.y},c),r)})})):null,h&&h.length?y.map((function(t){var e=t.points,n=t.tickValue,r=e[0];return wb("line",{key:n,attrs:D({x1:r.x,y1:r.y,x2:r.x,y2:r.y+a(h.length)},h)})})):null,g[0]?wb("marker",{style:D(D({x:u,y:l,transform:"rotate(90deg)",transformOrigin:"50% 50%"},g[0]),{symbol:g[0].type})}):null,f?wb("line",{attrs:D({x1:s,y1:l,x2:u,y2:l},f)}):null,g[1]?wb("marker",{style:D(D({x:s,y:l,transform:"rotate(-90deg)",transformOrigin:"50% 50%"},g[0]),{symbol:g[1].type})}):null,d?y.map((function(t,e){var r=t.points,i=t.text,a=t.tickValue,s=t.labelStyle,u=r[0],l=(s||d||{}).align,c=void 0===l?"center":l,h=D(D({x:u.x,y:u.y+p,textBaseline:"top",text:i},d),s);return"between"===c?0===e?h.textAlign="start":e===n.length-1?h.textAlign="end":h.textAlign="center":h.textAlign=c,wb("text",{key:a,attrs:h,animation:o||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})})):null)},sT=function(t){var e=t.ticks,n=t.coord,r=t.style,i=n.top,o=n.right,a=n.bottom,s=r.grid,u=r.tickLine,l=r.line,c=r.labelOffset,h=r.label,f=r.symbol,p=e.filter((function(t){return!isNaN(t.value)})),d=U(f)?f:[f];return wb("group",null,s?p.map((function(t){var e=t.points,n=t.gridStyle,r=e[0],i=e[e.length-1];return wb("line",{attrs:D(D({x1:r.x,y1:r.y,x2:i.x,y2:i.y},s),n)})})):null,u&&u.length?p.map((function(t){var e=t.points,n=e[e.length-1];return wb("line",{attrs:D({x1:n.x,y1:n.y,x2:n.x+u.length,y2:n.y},u)})})):null,d[0]?wb("marker",{style:D(D({x:o,y:i},d[0]),{symbol:d[0].type})}):null,l?wb("line",{attrs:D({x1:o,y1:i,x2:o,y2:a},l)}):null,d[1]?wb("marker",{style:D(D({x:o,y:a,transform:"rotate(180deg)",transformOrigin:"50% 50%"},d[1]),{symbol:d[1].type})}):null,h?p.map((function(t,e){var n=t.points,r=t.text,i=t.labelStyle,o=n[n.length-1];return wb("text",{attrs:D(D({x:o.x+c,y:o.y,textAlign:"left",textBaseline:"middle",text:r},h),i)})})):null)},uT=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.animation,o=n.left,a=n.top,s=n.bottom,u=r.grid,l=r.tickLine,c=r.line,h=r.labelOffset,f=r.label,p=r.symbol,d=e.filter((function(t){return!isNaN(t.value)})),v=U(p)?p:[p];return wb("group",null,u?d.map((function(t){var e=t.points,n=t.tickValue,r=t.gridStyle,i=e[0],o=e[e.length-1];return wb("line",{key:n,attrs:D(D({x1:i.x,y1:i.y,x2:o.x,y2:o.y},u),r)})})):null,l&&l.length?d.map((function(t){var e=t.points,n=t.tickValue,r=e[0];return wb("line",{key:n,attrs:D({x1:r.x,y1:r.y,x2:r.x-l.length,y2:r.y},l)})})):null,v[0]?wb("marker",{style:D(D({x:o,y:a},v[0]),{symbol:v[0].type})}):null,c?wb("line",{style:D({x1:o,y1:a,x2:o,y2:s},c)}):null,v[1]?wb("marker",{style:D(D({x:o,y:s,transform:"rotate(180deg)",transformOrigin:"50% 50%"},v[1]),{symbol:v[1].type})}):null,f?d.map((function(t,e){var n=t.tickValue,r=t.points,o=t.text,a=t.labelStyle,s=r[0];return wb("text",{key:n,attrs:D(D({x:s.x-h,y:s.y,textAlign:"right",textBaseline:"middle",text:o},f),a),animation:i||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})})):null)};function lT(t){return t.coord.isPolar}var cT=function(t){if(lT(t)){var e=t.dimType;return wb("x"===e?rT:iT,D({},t))}var n=t.position;return wb("right"===n?sT:"left"===n?uT:"top"===n?oT:aT,D({},t))},hT=QS(cT),fT={label:{fill:"#CCCCCC",fontSize:"22px",align:"between"},tickLine:{lineWidth:"1px",stroke:"#ddd",length:"10px"},grid:null,symbol:null},pT={animation:{update:{},appear:{easing:"linear",duration:250,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},leave:{easing:"linear",duration:250,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}},dT=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t}return S(n,[{key:"handleAutoYear",value:function(){var t=this.props,e=t.field,n=t.chart,r=t.autoYear,i=t.data,o=null===n||void 0===n?void 0:n.getScale(e);if("timeCat"===(null===o||void 0===o?void 0:o.type)&&r&&i&&i.length){var a=new Date(i[0][e]);a&&a.getFullYear()===(new Date).getFullYear()?null===n||void 0===n||n.setScale(e,{mask:"MM-DD"}):null===n||void 0===n||n.setScale(e,{mask:"YYYY-MM-DD"})}}},{key:"getScaleOption",value:function(t){var e=t.formatter,r=Cx({},t);if(lx(e)&&(r.formatter=function(t){var n;return(null===(n=mE(t,e))||void 0===n?void 0:n.text)||t}),ex(e)&&!Qm(e)){var i=e.type,o=e.option;r.formatter=function(t){var e;return(null===(e=mE(t,i,o))||void 0===e?void 0:e.text)||t}}return xb(C(n.prototype),"getScaleOption",this).call(this,r)}},{key:"willMount",value:function(){xb(C(n.prototype),"willMount",this).call(this),this.handleAutoYear()}},{key:"willUpdate",value:function(){xb(C(n.prototype),"willUpdate",this).call(this),this.handleAutoYear()}},{key:"render",value:function(){var t=this.axisStyle,e=Cx({},pT,this.props),n=e.visible,r=e.coord,i=e.style;if(!1===n)return null;var o=this.getTicks(),a=this._getPosition(),s=this._getDimType(),u=Cx({},t,fT,i);return Xx().createElement(cT,Wx({},e,{style:u,ticks:this.convertTicks(o),coord:r,position:a,dimType:s}))}}]),n}(QS(cT)),vT={label:{fill:"#CCCCCC",fontSize:"22px",align:"between"},grid:{stroke:"#DDD"},line:null,symbol:null},yT={animation:{update:{},appear:{easing:"linear",duration:250,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},leave:{easing:"linear",duration:250,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}},gT=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t}return S(n,[{key:"getScaleOption",value:function(t){var e=t.formatter,r=Cx({},t);if(lx(e)&&(r.formatter=function(t){var n;return(null===(n=mE(t,e))||void 0===n?void 0:n.text)||t}),ex(e)&&!Qm(e)){var i=e.type,o=e.option;r.formatter=function(t){var e;return(null===(e=mE(t,i,o))||void 0===e?void 0:e.text)||t}}return xb(C(n.prototype),"getScaleOption",this).call(this,r)}},{key:"render",value:function(){var t=this.axisStyle,e=Cx({},yT,this.props),n=e.visible,r=e.coord,i=e.style;if(!1===n)return null;var o=this.getTicks(),a=this._getPosition(),s=this._getDimType(),u=Cx({},t,vT,i);return Xx().createElement(cT,Wx({},e,{style:u,ticks:this.convertTicks(o),coord:r,position:a,dimType:s}))}}]),n}(QS(cT));function mT(t){if(Array.isArray(t))return jk(t)}function xT(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function bT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wT(t){return mT(t)||xT(t)||Bk(t)||bT()}var kT={labelOffset:"10px",labelOffsetX:"0px",labelOffsetY:"0px",grid:{stroke:"#A3CDFF",lineWidth:"1px",lineDash:["4px","4px"]},line:{fill:"#EEF6FF",lineWidth:"1px"},label:{fill:"#666666",fontWeight:400,fontSize:"28px",textAlign:"center"},desc:{fill:"#999999",fontSize:"22px",textAlign:"center"},icon:{height:"32px",width:"32px",marginX:"4px"}};function ET(t,e,n,r,i){var o,a=e.x-t.x,s=e.y-t.y,u=[a,s],l=Math.sqrt(u[0]*u[0]+u[1]*u[1]),c=l+n,h=a/l*c,f=s/l*c;return o=0!==a?a>0?r:-r:0,{x:t.x+h+o,y:t.y+f+i,length:l}}function MT(t,e,n,r,i){var o=(null===r||void 0===r?void 0:r.icon)||{},a=o.height,s=o.width,u=o.marginX,l=n.x-e.x,c=t.context.canvas._attrs||{},h=c.context,f=0;if(h){var p=EE(h.font.match(/[0-9]+px/)[0]),d=h.measureText(i),v=d.width,y=EE(null===r||void 0===r?void 0:r.label.fontSize)||1;f=v*(p/y)||0}var g,m=0;return l>0?(g=n.x,m=s+u):l<0?(g=n.x-(f+s+u+m),m=0):(g=n.x-(f+s)/2,m=s/2+u),{x:g,y:n.y-a/2,suffixOffsetX:m}}function ST(t,e){var n,r=[e.x-t.x,e.y-t.y];return n=r[0]>0?"left":r[0]<0?"right":"center",{textAlign:n,textBaseline:"middle"}}var TT=function(t){var e,n=t.ticks,r=t.coord,i=t.layout,o=t.custom,a=t.customConfig,s=void 0===a?{}:a,u=t.customStyle,l=void 0===u?{}:u,c=t.backgroundConfig,h=t.chart,f=i.height,p=i.width,d=r.center,v=c||{},y=v.type,g=v.style,m=Math.max(p,f);n&&n.length&&(m=ET(d,null===(e=n[0])||void 0===e?void 0:e.points[1]).length);var x=CE(Cx(E({},kT),l)),b=[],w=n.length>3&&"pie"!==y;return w&&(b=n.map((function(t){var e=t.points,n=e[e.length-1];return n}))),Xx().createElement("group",null,w?Xx().createElement("polyline",{attrs:E(E({points:[].concat(wT(b),[b[0]]).map((function(t){return[t.x,t.y]}))},x.line),g)}):Xx().createElement("arc",{attrs:E(E({cx:d.x,cy:d.y,r:m},x.line),g)}),n.map((function(t,e){var n,r=t.points,i=t.text,a=i,u="";o&&s[i]&&(a=s[i].alias||i,u=s[i].desc||u,n=s[i].icon);var l,c=r[r.length-1],f=ET(d,c,x.labelOffset,x.labelOffsetX,x.labelOffsetY),p=f.x;return n&&(l=MT(h,d,f,x,a),p+=l.suffixOffsetX),Xx().createElement("group",{key:e},Xx().createElement("line",{attrs:E({x1:d.x,y1:d.y,x2:c.x,y2:c.y},x.grid)}),!!n&&Xx().createElement("image",{attrs:E({src:n,x:l.x,y:l.y},x.icon)}),Xx().createElement("group",{style:{x:f.y-x.label.fontSize/2,y:p,flexDirection:"column",justifyContent:"center",alignItems:"center"}},Xx().createElement("text",{style:E(E({height:"30px",width:"40px",text:a},x.label),ST(d,c))}),lx(u)&&u?Xx().createElement("text",{style:E(E({height:"30px",width:"40px",marginTop:"5px",text:u},x.desc),ST(d,c))}):null))})))},PT=function(t){O(n,t);var e=_(n);function n(t){var r;T(this,n),r=e.call(this,t),r.props=void 0,r.props=t;var i=t||{},o=i.customStyle;return r.props.style=Cx({},o,t.style),r}return S(n)}(QS(TT)),OT=function(t){return null},CT=function(t){O(n,t);var e=_(n);function n(t){var r;return T(this,n),r=e.call(this,t),r.props=void 0,r.props=t,r}return S(n)}(QS(OT)),NT=hT;function AT(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e=e.concat(r.points)}return e}var LT,_T,RT,IT=function(t){var e=t.records,n=t.coord,r=t.animation,i=t.endView,o=t.clip,a=n,s=a.left,u=a.top,l=a.width,c=a.height,h=a.center,f=a.startAngle,p=a.endAngle,d=a.radius,v=n.isPolar?{easing:"quadraticOut",duration:450,clip:{type:"sector",property:["endAngle"],style:{cx:h.x,cy:h.y,startAngle:"".concat(f,"rad"),r:d},start:{endAngle:"".concat(f,"rad")},end:{endAngle:"".concat(p,"rad")}}}:{easing:"quadraticOut",duration:450,clip:{type:"rect",property:["width"],style:{x:s,y:u,height:c},start:{width:0},end:{width:l}}};return wb("group",{attrs:{clip:o}},e.map((function(t){var e,n=t.key,o=t.children,a=AT(o),s=bb();return wb("group",{key:n},o.map((function(t){var e=t.points,i=t.color,o=t.size,a=t.shape,u=e.filter((function(t){return!isNaN(t.x)&&!isNaN(t.y)}));if(0!==u.length)return wb("polyline",{key:n,ref:s,style:D(D({points:u.map((function(t){return[t.x,t.y]})),stroke:i},a),{lineWidth:o||a.lineWidth}),animation:Sb({update:{easing:"linear",duration:450,property:["points"]},appear:v},r)})})),i?wb("group",{style:{offset:s},animation:Sb({appear:{easing:"quadraticOut",duration:450,property:["offsetDistance"],start:{offsetDistance:0},end:{offsetDistance:1}}},r)},wb(i,{origin:null===(e=a[0])||void 0===e?void 0:e.origin})):null)})))},DT=function(t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return I(n,e),n.prototype.getDefaultCfg=function(){return{geomType:"line",sortable:!0}},n.prototype.splitPoints=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=o.x,s=o.y;e.push(D(D({},o),{x:a,y:s[1]})),n.push(D(D({},o),{x:a,y:s[0]}))}return[e,n]},n.prototype.splitNulls=function(t,e){if(e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r],a=o.y;if(U(a)){if(isNaN(a[0]))continue;n.push(o)}else isNaN(a)||n.push(o)}return n.length?[n]:[]}var s=[],u=[];for(r=0,i=t.length;r<i;r++){o=t[r],a=o.y;if(U(a)){if(isNaN(a[0])){u.length&&(s.push(u),u=[]);continue}u.push(o)}else isNaN(a)?u.length&&(s.push(u),u=[]):u.push(o)}return u.length&&s.push(u),s},n.prototype.mapping=function(){var t=this,n=e.prototype.mapping.call(this),r=this,i=r.props,o=r.connectNulls,a=i.coord,s=i.connectNulls,u=void 0===s?o:s;return n.map((function(e){var n=e.children,r=n[0]||{},i=r.size,o=r.color,s=r.shape,l=r.y,c=a.isPolar?Y(Y([],n,!0),[n[0]],!1):n,h=t.splitNulls(c,u),f=h.map((function(e){var n=U(l)?t.splitPoints(e):[e,void 0],r=n[0],a=n[1];return{size:i,color:o,shape:s,points:r,bottomPoints:a}}));return D(D({},e),{children:f})}))},n.prototype.render=function(){var e=this.props,n=e.coord,r=this.mapping(),i=this.getClip();return wb(t,D({},e,{coord:n,records:r,clip:i}))},n}(RS)},FT=HS(LT=qS(LT=KS(LT=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t}return S(n,[{key:"mapping",value:function(){var t=xb(C(n.prototype),"mapping",this).call(this);return this.updateStyle(t),t}},{key:"updateStyle",value:function(t){var e=this._findMainRecord(t);e&&rx(null===e||void 0===e?void 0:e.children,(function(t){var e=t.shape;t.shape=E(E({},e),{},{lineWidth:"3px"})}))}},{key:"_getColorRange",value:function(){var t=this.props.color;return t.range}},{key:"_getBaseY",value:function(){var t=this.getY0Value(),e=this.props,n=this.startOnZero,r=e.coord,i=e.startOnZero,o=void 0===i?n:i,a=null===r||void 0===r?void 0:r.y[0];if(o){var s=null===r||void 0===r?void 0:r.convertPoint({x:0,y:t});a=s.y}return a}},{key:"_findMainRecord",value:function(t){var e=this.props.mainKey;return e?t.find((function(t){return t.key===e})):t[0]}},{key:"_sortRecord",value:function(t){var e=this.props,n=(e.mainKey,e.zIndexOrder);if(null===n||void 0===n?void 0:n.length){var r={};return n.forEach((function(t,e){r[t]=e})),t.sort((function(t,e){var n=r[t.key],i=r[e.key];return void 0===n&&void 0===i?0:void 0===n?1:void 0===i?-1:n-i}))}var i=this._findMainRecord(t);return i?[].concat(wT(t.filter((function(t){return(null===t||void 0===t?void 0:t.key)!==(null===i||void 0===i?void 0:i.key)}))),[i]):t}},{key:"render",value:function(){var t=this.props,e=t.coord,n=t.showShadow,r=void 0===n||n,i=t.animation,o=t.mainLineShadowStyle,a=(t.zIndexOrder,e.left),s=e.top,u=e.width,l=e.height,c=this.mapping(),h=this._getBaseY(),f=this._findMainRecord(c),p=this._sortRecord(c),d=Cx({update:{duration:200}},"function"===typeof i?i(t,c):i);return Xx().createElement("group",null,Xx().createElement(IT,Wx({},t,{animation:d,coord:e,records:p})),r&&f&&f.children.map((function(t,e){var n=t.color,r=wT(t.points),c=r[0],f=r[r.length-1];return r.unshift({x:c.x,y:h}),r.unshift({x:f.x,y:h}),Xx().createElement("polyline",{key:e,style:Cx({points:r.map((function(t){return[t.x,t.y]})),fill:"l(90) 0:".concat(n," 1:#FFFFFF"),fillOpacity:.1,strokeOpacity:0},o),animation:Cx({update:{easing:"linear",duration:200,property:["points"]},appear:{easing:"linear",duration:200,clip:{type:"rect",property:["width"],attrs:{x:a,y:s,height:l},start:{width:0},end:{width:u}}}},i)})})))}}]),n}(DT(IT)))||LT)||LT)||LT,jT=function(t){var e=t.records,n=t.animation;return Xx().createElement("group",null,e.map((function(t){var e=t.key,r=t.children;return Xx().createElement("group",{key:e},r.map((function(t){var e=t.key,r=t.xMin,i=t.xMax,o=t.yMin,a=t.yMax,s=t.color,u=t.shape;return Xx().createElement("rect",{key:e,attrs:E({x:r,y:o,width:i-r,height:a-o,fill:s,radius:"3px"},u),animation:Cx({appear:{easing:"linear",duration:450,property:["y","height"],start:{y:a,height:0}},update:{easing:"linear",duration:450,property:["x","y","width","height"]}},n)})})))})))},BT=HS(_T=KS(_T=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t}return S(n,[{key:"_groupData",value:function(t){var e=xb(C(n.prototype),"_groupData",this).call(this,t),r=this.attrController,i=r.getGroupScales();if(!(null===i||void 0===i?void 0:i.length))return e;var o=i[0].values;return e.sort((function(t,e){return o.indexOf(t.key)-o.indexOf(e.key)})),e}},{key:"render",value:function(){var t=this.props,e=t.coord,n=t.animation,r=this.mapping();return Xx().createElement(jT,{coord:e,records:r,animation:n})}}]),n}(US(jT)))||_T)||_T,GT=function(t){return function(e){function n(t){var n=e.call(this,t)||this;return n._onclick=function(t){var e,r=n.props,i=r.chart,o=r.clickable,a=void 0===o||o,s=r.onClick;if(a){var u=t.currentTarget;if(u){var l=u.config["data-item"];if(l){W(s)&&s(l);var c=l.field,h=l.tickValue,f=n.state.filtered,p=D(D({},f),(e={},e[h]=!f[h],e));n.setState({filtered:p}),i.filter(c,(function(t){return!p[t]}))}}}},n.state={filtered:{},items:[]},n}return I(n,e),n.prototype.getOriginItems=function(){var t=this.props.chart;return t.getLegendItems()},n.prototype.getItems=function(){var t,e=this,n=e.props,r=e.state,i=r.filtered,o=(null===(t=n.items)||void 0===t?void 0:t.length)?n.items:this.getOriginItems();return o?o.map((function(t){var e=t.tickValue;return D(D({},t),{filtered:i[e]})})):null},n.prototype.setItems=function(t){this.setState({items:t})},n.prototype.getMaxItemBox=function(t){var e=0,n=0;return(t.children||[]).forEach((function(t){var r=t.layout,i=r.width,o=r.height;e=Math.max(e,i),n=Math.max(n,o)})),{width:e,height:n}},n.prototype._init=function(){var t=this,e=t.props,n=t.context,r=e.layout,i=e.width,o=e.height,a=e.position,s=void 0===a?"top":a,u=this.getItems();if(u&&u.length){var l=r.left,c=r.top,h=r.width,f=r.height,p=n.px2hd(i)||h,d=Zy(this,this.render()),v=this.getMaxItemBox(d),y=v.width,g=v.height,m=Math.max(1,Math.floor(p/y)),x=u.length,b=Math.ceil(x/m),w=p/m,k=g*b,E={left:l,top:c,width:p,height:void 0,flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start"};1===b&&(E.justifyContent="space-between"),"top"===s&&(E.height=o||k),"left"===s&&(E.flexDirection="column",E.justifyContent="center",E.width=y,E.height=o||f),"right"===s&&(E.flexDirection="column",E.alignItems="flex-start",E.justifyContent="center",E.width=y,E.height=o||f,E.left=l+(p-y)),"bottom"===s&&(E.top=c+(f-k),E.height=o||k),this.itemWidth=w,this.legendStyle=E}},n.prototype.updateCoord=function(){var t=this,e=t.context,n=t.props,r=t.legendStyle,i=n.position,o=void 0===i?"top":i,a=n.margin,s=void 0===a?"30px":a,u=n.chart,l=r.width,c=r.height,h=e.px2hd(s);u.updateCoordFor(this,{position:o,width:l+h,height:c+h})},n.prototype.willMount=function(){var t=this.getItems();t&&t.length&&(this._init(),this.updateCoord())},n.prototype.didMount=function(){},n.prototype.willUpdate=function(){var t=this.getItems();t&&t.length&&this.updateCoord()},n.prototype.render=function(){var e=this,n=e.props,r=e.itemWidth,i=e.legendStyle,o=this.getItems();return o&&o.length?wb(t,D({},n,{items:o,itemWidth:r,style:D(D({},i),n.style),onClick:this._onclick})):null},n}(wd)},YT=function(t){var e=t.type,n=t.color,r=t.style;return"square"===e?Xx().createElement("rect",{style:E({width:"20px",height:"20px",marginRight:"12px",fill:n},r)}):"line"===e?Xx().createElement("line",{style:E({width:"20px",height:0,marginTop:"10px",marginRight:"12px",lineWidth:"4px",stroke:n},r)}):Xx().createElement("rect",{style:{width:"20px",height:"4px",marginRight:"12px",marginTop:"12px",fill:n,radius:"2px"}})},WT=function(t){var e=t.justifyContent,n=t.name,r=t.nameStyle,i=t.value,o=t.valueStyle,a=t.color,s=t.marker,u=t.interaction,l=t.tipOption,c=t.item,h=l[null===c||void 0===c?void 0:c.name],f=function(t){var e=h||{},n=e.onClick;Qm(n)&&n(c)};return Xx().createElement("rect",{style:{display:"flex",flexDirection:"row",flex:1,alignItems:"flex-start",justifyContent:e}},YT({type:s,color:a,style:c.marker}),Xx().createElement("rect",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},Xx().createElement("group",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},Xx().createElement("text",{style:E(E({fill:"#333",fontSize:"24px",height:"36px",fontWeight:500},n),r)}),h?Xx().createElement("rect",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"6px",paddingRight:"6px",alignSelf:"center",height:"36px",fill:"#fff",fillOpacity:0},onClick:f},Xx().createElement("image",{cacheImage:!0,style:{height:"20px",width:"20px",display:"flex",src:jS}})):null),void 0!==i&&u&&Xx().createElement("group",{style:{height:(null===o||void 0===o?void 0:o.fontSize)||"24px"}},Xx().createElement("text",{style:E(E({position:"absolute",fontSize:"22px",fill:"#333333"},i),o)}))))},zT=function(t,e){var n=t.items,r=t.marker,i=t.style,o=t.nameStyle,a=t.valueStyle,s=t.active,u=t.title,l=t.showTitle,c=void 0===l||l,h=t.valueFormatter,f=t.nameFormatter,p=t.interaction,d=void 0===p||p,v=t.nameOption,y=void 0===v?{}:v,g=t.valueOption,m=void 0===g?{type:"signPercent"}:g,x=t.custom,b=t.tipOption,w=void 0===b?{}:b,k=(t.chart,t.position,i||{}),M=k.activeColor,S=e.width,T=f||y.formatter,P=h||m.formatter,O=E(E({paddingTop:"24px",paddingLeft:"24px",paddingRight:"24px",paddingBottom:d?"8px":0},i),{},{width:S}),C=function(){return s&&d?{radius:"8px",fill:M||"#E7F1FF"}:{}},N=function(t){return Qm(T)?T(t):kx(t)?"":t},A=function(t){return Qm(P)?P(t):kx(t)?"":t};return Xx().createElement("rect",{style:E(E({},O),C())},c&&u&&s&&d&&Xx().createElement("text",{style:{text:u,fill:"#999",fontSize:"16px",position:"absolute",top:"4px",left:"8px",marginLeft:"8px",height:"24px"}}),Xx().createElement("group",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-around",flex:1}},(n||[]).map((function(t,e){var n=t.color,i=N(t.name),s=A(t.value),u=x?{text:i}:mE(i,null===y||void 0===y?void 0:y.type,null===y||void 0===y?void 0:y.option),l=x?{text:s}:mE(s,null===m||void 0===m?void 0:m.type,null===m||void 0===m?void 0:m.option),c="center";return WT({justifyContent:c,color:n,name:u,value:l,nameStyle:o,valueStyle:a,marker:r,interaction:d,tipOption:w,item:t})}))))},XT=function(t){var e=t.items,n=t.active,r=t.title,i=t.showTitle,o=void 0===i||i,a=t.valueFormatter,s=t.nameFormatter,u=t.nameOption,l=void 0===u?{}:u,c=t.valueOption,h=void 0===c?{type:"signPercent"}:c,f=t.style,p=t.nameStyle,d=t.valueStyle,v=(t.layout,t.custom),y=f||{},g=y.activeColor,m=e[0]||{},x=s||l.formatter,b=a||h.formatter,w=Qm(x)?x(m.name):m.name,k=Qm(b)?a(m.value):m.value,M=v?{text:w}:mE(w,null===l||void 0===l?void 0:l.type,null===l||void 0===l?void 0:l.option),S=v?{text:k}:mE(k,null===h||void 0===h?void 0:h.type,null===h||void 0===h?void 0:h.option),T=o&&r;return Xx().createElement("rect",{style:E({position:"relative",display:"flex",width:t.layout.width,flexDirection:"row",flexWrap:"noWrap",justifyContent:T?"space-around":"flex-start",alignItems:"center",marginLeft:0,radius:"8px",fill:n?g||"#E7F1FF":null},f)},T?Xx().createElement("text",{style:{fill:"#333",fontSize:"28px",text:r}}):null,Xx().createElement("group",{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",height:"68px"}},Xx().createElement("text",{style:E(E({marginRight:"10px",fill:"#333",fontSize:"28px"},M),p)}),Xx().createElement("text",{style:E(E({fill:"#333333",fontSize:"28px"},S),d)})))},VT=function(t){var e=t.items,n=t.CustomView,r=tx(e)&&1===e.length;return n?Xx().createElement(n,t):r?Xx().createElement(XT,t):Xx().createElement(zT,t)},UT={margin:"8px",interaction:!0},HT=ZS(RT=KS(RT=function(t){O(n,t);var e=_(n);function n(t){var r;return T(this,n),r=e.call(this,E(E({},UT),t)),r.props=r.props,r.attrController=void 0,r.triggerRef=void 0,r._getRecordTextX=function(t){var e=r._getXField(),n=r.props.chart,i=n.getScale(e);if(!t)return null;var o=t.origin;return i.getText(o[e])},r._handlePress=function(t){var e=t||{},n=e.direction,i=e.points;if("up"!==n&&"down"!==n){t.preventDefault();var o=r.getOriginItems(),a=r._getRecords(i[0]);if(null===a||void 0===a?void 0:a.length){var s={},u=r._getCatField();o.forEach((function(t){s[t.tickValue]=Mx(t)})),a.forEach((function(t){s[t[u]].value=r._getRecordValueY(t)})),r.setState({active:!0,custom:!1,title:r._getRecordTextX(a[0]),records:a,items:mx(s)})}}},r._handlePressEnd=function(){r.resetItems(),r.setState({active:!1})},r.getTitle=function(){var t=r.state.title,e=r.props.title;return Qm(e)?e(t):"string"===typeof e?e:t},r.state={items:[],active:!1,custom:!1,title:null},r.triggerRef={current:null},r}return S(n,[{key:"willMount",value:function(){xb(C(n.prototype),"willMount",this).call(this);var t=this.props.chart,e=t.getGeometrys();(null===e||void 0===e?void 0:e.length)&&(this.attrController=e[0].attrController)}},{key:"didMount",value:function(){xb(C(n.prototype),"didMount",this).call(this),this.attrController&&(this.resetItems(),this._initEvent())}},{key:"_initEvent",value:function(){var t=this.props,e=t.chart,n=t.triggerOn,r=void 0===n?"press":n,i=t.triggerOff,o=void 0===i?"pressend":i;e.on(r,this._handlePress),e.on(o,this._handlePressEnd)}},{key:"willReceiveProps",value:function(t){xb(C(n.prototype),"willReceiveProps",this).call(this,E(E({},UT),t))}},{key:"getItems",value:function(){var t,e,n=this.props,r=this.state,i=r.items,o=r.active,a=this._getDefaultItems();return e=(null===i||void 0===i?void 0:i.length)?i:(null===(t=n.items)||void 0===t?void 0:t.length)?n.items:this.getOriginItems(),o?e:a}},{key:"_init",value:function(){var t=this.props,e=this.context,n=t.layout,r=t.width,i=t.height,o=t.interaction,a=void 0===o||o,s=t.position,u=void 0===s?"top":s,l=this.getItems();if(l&&l.length){n.left;var c=n.top,h=n.width,f=n.height,p=e.px2hd(r)||h,d=Zy(this,this.render()),v=this.getMaxItemBox(d),y=v.width,g=v.height,m=Math.max(1,Math.floor(p/y)),x=(l.length,1),b=p/m,w=g*x,k={top:c,width:e.width,display:"flex",height:void 0,flexDirection:"row",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",paddingTop:"24px",paddingLeft:"24px",paddingRight:"24px",paddingBottom:a?"12px":0,position:"relative"};1===x&&(k.justifyContent="space-between"),"top"===u&&(k.height=null!==i&&void 0!==i?i:w),"bottom"===u&&(k.top=c+(f-w),k.height=null!==i&&void 0!==i?i:w),this.itemWidth=b,this.legendStyle=k}}},{key:"_getCatField",value:function(){var t=this.attrController.getAttr("color");if(!t)return null;var e=t.field;return e}},{key:"_getXField",value:function(){var t=this.attrController.getAttr("x");return t.field}},{key:"_getYField",value:function(){var t=this.attrController.getAttr("y");return t.field}},{key:"_getRecords",value:function(t){var e=this.props.chart;if(t)return e.getSnapRecords(t,!0);var n=e.getGeometrys();return(null===n||void 0===n?void 0:n.length)?n[0].records:null}},{key:"_getRecordValueY",value:function(t){if(!t)return null;var e=this._getYField(),n=this.props.field,r=t.origin,i=void 0===r?{}:r;return i[n||e]}},{key:"_getDefaultItems",value:function(){var t=this.props.customItems;if(null===t||void 0===t?void 0:t.length)return t;var e=this.getGeometries();if(null===e||void 0===e?void 0:e.length){var n=e[0],r=null===n||void 0===n?void 0:n.getLastItems(),i=this.getOriginItems();return r||i}return[]}},{key:"resetItems",value:function(){var t=this.props.customItems;if(t)this.setState({items:t,title:"",custom:!0});else{var e=this._getDefaultItems();this.setState({items:e});var n=this._getRecords();if(null===n||void 0===n?void 0:n.length){var r=Math.max.apply(Math,wT(n.map((function(t){return t.children.length}))))-1,i=n[0].children[r];this.setState({title:this._getRecordTextX(i),records:[i]})}}}},{key:"render",value:function(){var t=this.props,e=(this.state,this.itemWidth),n=this.legendStyle,r=t.itemWidth,i=t.adjustItems,o=(t.coord,this.state),a=o.active,s=o.custom,u=o.records,l=Qm(i)?i(this.getItems()):this.getItems();return Xx().createElement("group",null,Xx().createElement(VT,Wx({triggerRef:this.triggerRef},t,{items:l,custom:s,active:a,title:this.getTitle(),maxItemWidth:r||e,style:E(E({},n),t.style),records:u})))}}]),n}(GT(VT)))||RT)||RT,qT=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return gd(t,(function(n,r){W(t)&&"prototype"===r||e.push(r)})),e},KT=qT;function ZT(t,e){var n=KT(e),r=n.length;if(Ht(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}var $T=ZT;function JT(t,e){if(!U(t))return null;var n;if(W(e)&&(n=e),Z(e)&&(n=function(t){return $T(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}var QT=JT,tP=function(t){return function(e){function n(t){var n=e.call(this,t)||this;return n._triggerOn=function(t){var e=t.x,r=t.y;n.show({x:e,y:r},t)},n._triggerOff=function(){var t=n.props.alwaysShow,e=void 0!==t&&t;e||n.hide()},n.state={records:null},n}return I(n,e),n.prototype.updateCoord=function(){var t=this,e=t.props,n=t.context,r=e.padding,i=void 0===r?"10px":r,o=e.chart;o.updateCoordFor(this,{position:"top",width:0,height:n.px2hd(i)})},n.prototype.willMount=function(){this.updateCoord()},n.prototype.didMount=function(){this._initShow(),this._initEvent()},n.prototype._initEvent=function(){var t=this.props,e=t.chart,n=t.triggerOn,r=void 0===n?"press":n,i=t.triggerOff,o=void 0===i?"pressend":i;e.on(r,this._triggerOn),e.on(o,this._triggerOff)},n.prototype.willReceiveProps=function(t){var e=t.defaultItem,n=t.coord,r=this.props,i=r.defaultItem,o=r.coord;tt(e,i)&&tt(n,o)||this._showByData(e)},n.prototype._initShow=function(){var t=this.props,e=t.defaultItem;this._showByData(e)},n.prototype._showByData=function(t){var e=this;if(t){var n=this.props,r=n.chart;setTimeout((function(){var n=r.getRecords(t,"xfield");e.showSnapRecords(n)}),0)}},n.prototype.show=function(t,e){var n=this.props,r=n.chart,i=r.getSnapRecords(t,!0);i&&i.length&&this.showSnapRecords(i)},n.prototype.showSnapRecords=function(t){var e=this.props,n=e.chart,r=e.onChange,i=n.getLegendItems(),o=t[0],a=o.xField,s=o.yField,u=n.getScale(a),l=n.getScale(s),c=t.map((function(t){var e=t.origin,n=t.xField,r=t.yField,o=l.getText(e[r]),a=l.alias;if(!a&&(a=u.getText(e[n]),i&&i.length)){var s=QT(i,(function(t){var n=t.field,r=t.tickValue;return e[n]===r}));s&&s.name&&(a=s.name)}return D(D({},t),{name:a,value:o})}));U(c)&&c.length&&(this.setState({records:c}),W(r)&&r(c))},n.prototype.hide=function(){this.setState({records:null})},n.prototype.render=function(){var e=this,n=e.props,r=e.state,i=n.visible;if(!1===i)return null;var o=r.records;return o&&o.length&&wb(t,D({},n,{records:o}))},n}(wd)},eP={showTitle:!1,showCrosshairs:!1,crosshairsType:"y",crosshairsStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:"2px"},showTooltipMarker:!0,tooltipMarkerStyle:{stroke:"#fff",lineWidth:"3px"},background:{radius:"2px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"]},titleStyle:{fontSize:"24px",fill:"#fff",textAlign:"start",textBaseline:"top"},nameStyle:{fontSize:"24px",fill:"rgba(255, 255, 255, 0.65)",textAlign:"start",textBaseline:"middle"},valueStyle:{fontSize:"24px",fill:"#fff",textAlign:"start",textBaseline:"middle"},itemMarkerStyle:{width:"12px",radius:"6px",symbol:"circle",lineWidth:"2px",stroke:"#fff"},layout:"horizontal",snap:!0,xTipTextStyle:{fontSize:"22px",fill:"#fff"},yTipTextStyle:{fontSize:"22px",fill:"#fff"},xTipBackground:{radius:"2px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"]},yTipBackground:{radius:"2px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"]}};function nP(t,e){return void 0===t||"string"===typeof t&&-1!==t.indexOf(e)}var rP=function(t){var e=t.records,n=t.coord,r=t.xTip,i=t.xTipTextStyle,o=t.xTipBackground,a=t.minSlideX,s=t.maxSlideX,u=t.xTipText,l=t.px2hd,c=n.bottom,h=e[0],f=h.x;return Xx().createElement("group",{style:{display:"flex",marginLeft:"-50%"}},Xx().createElement("rect",{className:"xTip",style:E(E({x:NE(f,a,s),y:c+l("10px")},eP.xTipBackground),o)},Xx().createElement("text",{style:E(E(E({},eP.xTipTextStyle),i),{},{text:Qm(r)?r(u):u})})))},iP=function(t){var e=t.records,n=t.coord,r=t.px2hd,i=t.xOffset,o=t.yTip,a=t.yTipText,s=t.yTipBackground,u=t.yTipTextStyle,l=t.yTipHeight,c=n.left,h=e[0],f=h.y;return Xx().createElement("group",{style:{display:"flex",marginLeft:"-100%"}},Xx().createElement("rect",{className:"yTip",style:E(E({left:c+r(i),top:f-l/2},eP.yTipBackground),s)},Xx().createElement("text",{style:E(E(E({},eP.yTipTextStyle),u),{},{text:Qm(o)?o(a):a})})))},oP=function(t){O(n,t);var e=_(n);function n(t){var r;return T(this,n),r=e.call(this,t),r.minSlideX=void 0,r.maxSlideX=void 0,r.rootRef=void 0,r.itemsRef=void 0,r.yTipHeight=void 0,r.rootRef={current:null},r.itemsRef={current:null},r}return S(n,[{key:"didUpdate",value:function(){var t=this.props,e=this.rootRef,n=this.itemsRef,r=e.current;if(r){var i=t.records,o=t.coord;if(!i||!i.length)return null;if(n.current){var a=i[0],s=a.x,u=o.left,l=o.width,c=r.get("attrs"),h=c.width,f=h/2,p=Math.min(Math.max(s-u-f,0),l-f);n.current.moveTo(p,0)}}}},{key:"findSnapRecord",value:function(t,e){if(!(null===t||void 0===t?void 0:t.length))return null;var n=this.props.chart,r=n.getGeometrys(),i=r[0].attrController,o=i.getGroupScales(),a=t[0];if(!(null===o||void 0===o?void 0:o.length)||!e)return a;var s=o[0].field;return t.find((function(t){return t[s]===e}))||a}},{key:"willUpdate",value:function(){var t=this.props,e=t.coord,n=t.records;if(null===n||void 0===n?void 0:n.length){var r=Zy(this,this.render()),i=bE("xTip",r),o=bE("yTip",r);if(i&&i.length){var a,s=null===(a=i[0])||void 0===a?void 0:a.layout;this.minSlideX=(null===e||void 0===e?void 0:e.left)+s.width/2,this.maxSlideX=(null===e||void 0===e?void 0:e.right)-s.width/2}else this.minSlideX=void 0,this.maxSlideX=void 0;if(o&&o.length){var u,l=null===(u=o[0])||void 0===u?void 0:u.layout;this.yTipHeight=(null===l||void 0===l?void 0:l.height)||0}}}},{key:"render",value:function(){var t=this.props,e=this.minSlideX,n=this.maxSlideX,r=this.context,i=r.px2hd,o=t.records,a=t.chart,s=t.coord,u=t.snapKey,l=t.xOffset,c=void 0===l?"-10px":l;if(!o||!o.length)return null;var h=s.left,f=s.top,p=s.right,d=s.bottom,v=t.showCrosshairs,y=void 0===v?eP.showCrosshairs:v,g=t.crosshairsStyle,m=t.crosshairsType,x=void 0===m?eP.crosshairsType:m,b=t.snap,w=void 0===b?eP.snap:b,k=t.tooltipMarkerStyle,M=void 0===k?eP.tooltipMarkerStyle:k,S=t.showXTip,T=t.showYTip,P=t.xTip,O=t.yTip,C=t.xTipTextStyle,N=void 0===C?eP.xTipTextStyle:C,A=t.yTipTextStyle,L=(void 0===A&&eP.yTipTextStyle,t.xTipBackground),_=void 0===L?eP.xTipBackground:L,R=t.yTipBackground,I=void 0===R?eP.yTipBackground:R,D=t.xField,F=t.yField,j=this.findSnapRecord(o,u),B=j.x,G=j.y,Y=j.color,W=j.shape,z=j.origin,X=lx(D)?D:null===j||void 0===j?void 0:j.xField,V=lx(F)?F:null===j||void 0===j?void 0:j.yField,U=a.getScale(V),H=a.getScale(X),q=H.getText(z[X]),K=U.getText(z[V]);return Xx().createElement("group",{ref:this.rootRef},y?Xx().createElement("group",null,nP(x,"x")?Xx().createElement("line",{style:E(E({x1:h,y1:G,x2:p,y2:G},eP.crosshairsStyle),g)}):null,nP(x,"y")?Xx().createElement("line",{style:E(E({x1:B,y1:f,x2:B,y2:d},eP.crosshairsStyle),g)}):null):null,S&&Xx().createElement(rP,{records:o,coord:s,xTip:P,xTipTextStyle:N,xTipBackground:_,minSlideX:e,maxSlideX:n,xTipText:q,px2hd:i}),T&&Xx().createElement(iP,{records:o,coord:s,px2hd:i,xOffset:c,yTip:O,yTipText:K,yTipBackground:I,yTipTextStyle:!0,yTipHeight:this.yTipHeight}),w?Xx().createElement("circle",{style:E(E({cx:B,cy:G,r:"10px",fill:Y},W),M)}):null)}}]),n}(wd),aP={xTipBackground:{radius:"4px",fill:"#1677FE",padding:"6px",marginLeft:"-50%"},yTipBackground:{radius:"4px",fill:"#1677FE",padding:"6px",marginTop:"-50%",marginLeft:"-100%"}},sP=function(t){O(n,t);var e=_(n);function n(t){var r;return T(this,n),r=e.call(this,t),r.xTipsRef=void 0,r.xTipsRef=bb(),r}return S(n,[{key:"didMount",value:function(){this._position()}},{key:"didUpdate",value:function(){this._position()}},{key:"_position",value:function(){var t=this.xTipsRef,e=this.props,n=e.coord,r=t.current;if(r){var i=r.get("attrs");if(i){var o=i.x,a=i.width,s=n.right;o+a>s&&r.moveTo(s-o-a,0)}}}},{key:"render",value:function(){var t=this.props,e=this.context,n=t.records,r=t.chart,i=t.coord,o=t.xTip,a=t.yTip,s=t.xOffset,u=void 0===s?"-16px":s,l=t.xTipBackground,c=void 0===l?aP.xTipBackground:l,h=t.yTipBackground,f=void 0===h?aP.yTipBackground:h;if(!n||!n.length)return null;var p=i.left,d=i.top,v=i.right,y=i.bottom,g=i.width,m=n[0],x=n[1]?n[1]:n[0],b=m.xField,w=m.yField,k=r.getScale(w),M=r.getScale(b),S=isNaN(m.x)?x.x:m.x,T=isNaN(m.y)?x.y:m.y,P=isNaN(x.y)?m.y:x.y,O=Math.min(T,P),C=Math.max(T,P),N=M.getText(m.origin[b]),A=k.getText(m.origin[w]),L=Qm(o)?o(N,n):N,_=Qm(a)?a(A,n):A;return Xx().createElement("group",null,Xx().createElement("rect",{attrs:{x:p,y:O,width:g,height:C-O,fill:"#1677FF",fillOpacity:.1}}),Xx().createElement("line",{attrs:{x1:S,y1:d,x2:S,y2:y,stroke:"#1677FF",lineWidth:"2px",lineDash:["3px"]}}),n.map((function(t){var e=t.x,n=t.y,r=t.color;return Xx().createElement("group",null,Xx().createElement("line",{attrs:{x1:p,y1:n,x2:v,y2:n,stroke:"#1677FF",lineWidth:"2px",lineDash:["3px"]}}),Xx().createElement("circle",{attrs:{cx:e,cy:n,r:"10px",fill:r,stroke:"#fff",lineWidth:"3px"}}))})),L?Xx().createElement("group",{ref:this.xTipsRef,style:E(E({left:S,top:y+e.px2hd("8px")},aP.xTipBackground),c),attrs:E(E({},aP.xTipBackground),c)},Xx().createElement("text",{attrs:{text:L,fill:"#fff",fontSize:"20px"}})):null,_?Xx().createElement("group",{style:E(E({left:p+e.px2hd(u),top:T+(P-T)/2},aP.yTipBackground),f),attrs:E(E({},aP.yTipBackground),f)},Xx().createElement("text",{attrs:{text:_,fill:"#fff",fontSize:"20px"}})):null)}}]),n}(wd),uP={stroke:"#1677FE",lineWidth:"1px",lineDash:["4px","6px"]},lP={showCrosshairs:!0,crosshairsType:"xy",crosshairsStyle:uP,custom:!0,showXTip:!0,showYTip:!0,xTipBackground:{fill:"#1677FF",radius:"4px"},yTipBackground:{fill:"#1677FF",radius:"4px"}},cP=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t}return S(n,[{key:"show",value:function(t,e){var n=e||{},r=n.direction;if("up"!==r&&"down"!==r){null===e||void 0===e||e.preventDefault();var i=this.props,o=i.chart,a=i.onChange,s=i.onShow,u=i.filter,l=null===o||void 0===o?void 0:o.getSnapRecords(t,!0);u&&Qm(u)&&(l=u(l)),l&&l.length&&(this._sortRecords(l),this.setState({records:l}),Qm(a)&&a(l),s&&s(l))}}},{key:"hide",value:function(){this.setState({records:[]});var t=this.props.onHide;t&&t()}},{key:"_sortRecords",value:function(t){var e=this.props.chart,n=null===e||void 0===e?void 0:e.getLegendItems();if(null===n||void 0===n?void 0:n.length){var r=n.map((function(t){return t.tickValue})),i=null===e||void 0===e?void 0:e.getGeometrys();if(null===i||void 0===i?void 0:i.length){var o=i[0].attrController,a=o.getAttr("color"),s=a.field;t.sort((function(t,e){return r.indexOf(t.origin[s])-r.indexOf(e.origin[s])}))}}}},{key:"render",value:function(){var t=this.props,e=this.state,n=t.visible,r=t.type;return!1===n?null:Xx().createElement("group",null,"range"===r?Xx().createElement(sP,Wx({},lP,t,e)):Xx().createElement(oP,Wx({},lP,t,e)))}}]),n}(tP(oP)),hP=function(t,e){var n=t.sidePadding,r=t.lineStyle,i=t.anchorStyle,o=t.labels,a=t.label1OffsetY,s=t.label2OffsetY,u={x:0,y:0,fontSize:"28px",fontWeight:500,lineHeight:"24px",fill:"#333333"};return Xx().createElement("group",null,(o||[]).map((function(t){var o=t.y,l=t.fill,c=t._inflection,h=t._anchor,f=t.origin,p=t.label1,d=t.label2,v={x:"left"===t._side?n:e.width-n,y:o},y={textAlign:"left"===t._side?"left":"right",x:"left"===t._side?n:e.width-n},g=[h,c,v];return Xx().createElement("group",null,Xx().createElement("circle",{attrs:E({r:2,cx:"left"===t._side?h.x+3:h.x-3,cy:"left"===t._side?h.y+1:h.y,stroke:"#333333",lineWidth:"2px",fill:l},i)}),Xx().createElement("polyline",{attrs:E({points:g.map((function(t){return[t.x,t.y]})),lineWidth:2,stroke:"#333333"},r)}),Xx().createElement("text",{className:"click",attrs:E(E(E({},u),{},{textBaseline:"bottom",y:o+a},y),p),data:f}),Xx().createElement("text",{className:"click",attrs:E(E(E({},u),{},{textBaseline:"top",y:o+s},y),d),data:f}))})))},fP={anchorOffset:1,inflectionOffset:0,sidePadding:10,lineHeight:40,adjustOffset:15,skipOverlapLabels:!1,triggerOn:"touchstart",label1OffsetY:0,label2OffsetY:1};function pP(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function dP(t,e){var n=e;return e<t&&(n+=2*Math.PI),(n+t)/2}var vP=function(t){return function(e){O(r,e);var n=_(r);function r(){var t;T(this,r);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),t.props=t.props,t._handleEvent=function(e){var n=t.props,r=n.chart,i=n.onClick,o={x:null===e||void 0===e?void 0:e.x,y:null===e||void 0===e?void 0:e.y},a=r.getSnapRecords(o);"function"===typeof i&&tx(a)&&a.length>0&&i(a)},t}return S(r,[{key:"willMount",value:function(){}},{key:"getLabels",value:function(){var t=this.context,e=this.props,n=e.chart,r=e.coord,i=e.label1,o=e.label2,a=e.recordName,s=e.lineHeight,u=e.anchorOffset,l=e.inflectionOffset,c=r.center,h=r.radius,f=n.getGeometrys()[0],p=f.records,d=[[],[]],v=[];p.forEach((function(t){var e=t.children,n=e[0],r=n.xMin,s=n.xMax,f=n.color,p=n.origin,v=n.name;if(v===a){var y=dP(r,s),g=pP(c,y,h+u),m=pP(c,y,h+l),x={origin:p,_anchor:g,_inflection:m,x:m.x,y:m.y,r:h+l,fill:f};"function"===typeof i&&(x.label1=i(p,f)),"function"===typeof o&&(x.label2=o(p,f)),g.x<c.x?(x._side="left",d[0].push(x)):(x._side="right",d[1].push(x))}}));var y=t.height,g=yx(y/s,10);return d.forEach((function(t){t.length>g&&t.splice(g,t.length-g),t.sort((function(t,e){return t.y-e.y})),v=v.concat(t)})),v}},{key:"didMount",value:function(){this._initEvent()}},{key:"didUpdate",value:function(){}},{key:"_initEvent",value:function(){var t=this.context,e=this.props,n=t.canvas,r=e.triggerOn;n.on(r,this._handleEvent)}},{key:"render",value:function(){this.props=Cx({},fP,this.props);var e=this.getLabels();return Xx().createElement(t,Wx({labels:wT(e)},this.props))}}]),r}(wd)},yP=vP(hP),gP={fontSize:"24px",fill:"#333",marginTop:"12px",marginBottom:"12px"},mP=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t.style=void 0,t}return S(n,[{key:"updateCoord",value:function(){var t=this.props,e=this.context,n=t.chart,r=t.style;this.style=Cx({},gP,r);var i=this.style,o=i.fontSize,a=i.marginTop,s=i.marginBottom;n.updateCoordFor(this,{position:"top",width:"100%",height:e.px2hd(o)+e.px2hd(a)+e.px2hd(s)})}},{key:"willMount",value:function(){this.updateCoord()}},{key:"render",value:function(){var t=this.context,e=this.props,n=e.content,r=e.coord,i=e.position,o=void 0===i?"left":i,a=t.theme,s=a||{},u=s.padding,l=void 0===u?0:u,c=s.chart,h=c||{},f=h.padding,p=void 0===f?0:f,d=r.width,v=OE(l)[0]+OE(p)[0],y={left:"flex-start",center:"center",right:"flex-end"},g=this.style.marginTop;return Xx().createElement("group",{style:{marginTop:t.px2hd(g),marginLeft:v,display:"flex",alignItems:y[o]||"flex-start",width:d}},Xx().createElement("text",{attrs:E({text:n},this.style)}))}}]),n}(wd),xP={fontSize:"24px",fill:"#999",marginTop:"8px",marginBottom:"12px"},bP=function(t){O(n,t);var e=_(n);function n(t){var r;T(this,n),r=e.call(this,t),r.props=r.props,r.style=void 0,r.textResult=void 0,r.textBBox=void 0;var i=t.style;return r.style=Cx({},xP,i),r}return S(n,[{key:"willMount",value:function(){this.processText(),this.updateCoord()}},{key:"processText",value:function(){for(var t="",e=this.props.content,n=this.context,r=n.theme,i=n.width,o=n.measureText,a=r||{},s=a.padding,u=void 0===s?0:s,l=a.chart,c=e.split(""),h=l||{},f=h.padding,p=void 0===f?0:f,d=OE(u)[3]+OE(p)[3],v=OE(u)[1]+OE(p)[1],y=i-d-v,g=0,m=c.length;g<m;g++){var x=c[g],b=o(t+x,this.style).width;t=b>y?"".concat(t,"\n").concat(x):t+x}this.textResult=t;var w=o(t,this.style);this.textBBox=w}},{key:"updateCoord",value:function(){var t,e=this.props,n=this.context,r=e.chart,i=this.style,o=i.marginTop,a=i.marginBottom;r.updateCoordFor(this,{position:"bottom",width:"100%",height:(null===(t=this.textBBox)||void 0===t?void 0:t.height)+n.px2hd(o)+n.px2hd(a)})}},{key:"render",value:function(){var t,e,n=this.context,r=n.theme,i=n.height,o=r||{},a=o.padding,s=void 0===a?0:a,u=o.chart,l=u||{},c=l.padding,h=void 0===c?0:c,f=OE(s)[3]+OE(h)[3],p=this.style.marginBottom,d=void 0===p?0:p;return Xx().createElement("group",{style:{display:"flex",marginTop:i-(null!==(t=null===(e=this.textBBox)||void 0===e?void 0:e.height)&&void 0!==t?t:0)-n.px2hd(d),marginLeft:f}},Xx().createElement("text",{attrs:E({text:this.textResult},this.style)}))}}]),n}(wd);function wP(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}function kP(){return this.eachAfter(wP)}function EP(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Bk(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function MP(t,e){var n,r=-1,i=EP(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.call(e,o,++r,this)}}catch(a){i.e(a)}finally{i.f()}return this}function SP(t,e){var n,r,i=this,o=[i],a=-1;while(i=o.pop())if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this}function TP(t,e){var n,r,i,o=this,a=[o],s=[],u=-1;while(o=a.pop())if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(o=s.pop())t.call(e,o,++u,this);return this}function PP(t,e){var n,r=-1,i=EP(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t.call(e,o,++r,this))return o}}catch(a){i.e(a)}finally{i.f()}}function OP(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))}function CP(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}function NP(t){var e=this,n=AP(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r}function AP(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}function LP(){var t=this,e=[t];while(t=t.parent)e.push(t);return e}function _P(){return Array.from(this)}function RP(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}function IP(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e}var DP=i(3664),FP=i.n(DP),jP=FP().mark(BP);function BP(){var t,e,n,r,i,o;return FP().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t=this,n=[t];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);a.next=2;break;case 8:if(n.length){a.next=1;break}case 9:case"end":return a.stop()}}),jP,this)}function GP(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=zP)):void 0===e&&(e=WP);var n,r,i,o,a,s=new UP(t),u=[s];while(n=u.pop())if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new UP(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(VP)}function YP(){return GP(this).eachBefore(XP)}function WP(t){return t.children}function zP(t){return Array.isArray(t)?t[1]:null}function XP(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function VP(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function UP(t){this.data=t,this.depth=this.height=0,this.parent=null}function HP(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function qP(t,e,n,r,i){var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;while(++s<u)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}function KP(t,e,n,r,i){var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;while(++s<u)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}UP.prototype=GP.prototype=w({constructor:UP,count:kP,each:MP,eachAfter:TP,eachBefore:SP,find:PP,sum:OP,sort:CP,path:NP,ancestors:LP,descendants:_P,leaves:RP,links:IP,copy:YP},Symbol.iterator,BP);var ZP=(1+Math.sqrt(5))/2;function $P(t,e,n,r,i,o){var a,s,u,l,c,h,f,p,d,v,y,g=[],m=e.children,x=0,b=0,w=m.length,k=e.value;while(x<w){u=i-n,l=o-r;do{c=m[b++].value}while(!c&&b<w);for(h=f=c,v=Math.max(l/u,u/l)/(k*t),y=c*c*v,d=Math.max(f/y,y/h);b<w;++b){if(c+=s=m[b].value,s<h&&(h=s),s>f&&(f=s),y=c*c*v,p=Math.max(f/y,y/h),p>d){c-=s;break}d=p}g.push(a={value:c,dice:u<l,children:m.slice(x,b)}),a.dice?qP(a,n,r,i,k?r+=l*c/k:o):KP(a,n,r,k?n+=u*c/k:i,o),k-=c,x=b}return g}var JP=function t(e){function n(t,n,r,i,o){$P(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ZP);function QP(t){if("function"!==typeof t)throw new Error;return t}function tO(){return 0}function eO(t){return function(){return t}}function nO(){var t=JP,e=!1,n=1,r=1,i=[0],o=tO,a=tO,s=tO,u=tO,l=tO;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(HP),t}function h(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<c&&(c=f=(c+f)/2),e.x0=r,e.y0=c,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,c+=a(e)-n,h-=s(e)-n,f-=u(e)-n,h<r&&(r=h=(r+h)/2),f<c&&(c=f=(c+f)/2),t(e,r,c,h,f))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=QP(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:eO(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:eO(+t),c):a},c.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:eO(+t),c):s},c.paddingBottom=function(t){return arguments.length?(u="function"===typeof t?t:eO(+t),c):u},c.paddingLeft=function(t){return arguments.length?(l="function"===typeof t?t:eO(+t),c):l},c}function rO(t,e,n,r,i){var o,a,s=t.children,u=s.length,l=new Array(u+1);for(l[0]=a=o=0;o<u;++o)l[o+1]=a+=s[o].value;function c(t,e,n,r,i,o,a){if(t>=e-1){var u=s[t];return u.x0=r,u.y0=i,u.x1=o,void(u.y1=a)}var h=l[t],f=n/2+h,p=t+1,d=e-1;while(p<d){var v=p+d>>>1;l[v]<f?p=v+1:d=v}f-l[p-1]<l[p]-f&&t+1<p&&--p;var y=l[p]-h,g=n-y;if(o-r>a-i){var m=n?(r*g+o*y)/n:o;c(t,p,y,r,i,m,a),c(p,e,g,m,i,o,a)}else{var x=n?(i*g+a*y)/n:a;c(t,p,y,r,i,o,x),c(p,e,g,r,x,o,a)}}c(0,u,t.value,e,n,r,i)}var iO,oO=function(t){return function(e){function n(t,n){var r=e.call(this,t,n)||this,i=t.color,o=t.data,a=t.theme,s=n.px2hd;return n.theme=Sb(s(_k),a),r.coord=new Xb,r.color=new kS(D(D({range:n.theme.colors},i),{data:o})),r}return I(n,e),n.prototype.willMount=function(){var t=this,e=t.props,n=t.coord,r=t.layout,i=e.coord;n.updateLayout(r),n.create(i)},n.prototype.treemapLayout=function(){var t=this,e=t.props,n=t.coord,r=t.color,i=n.getCoord(),o=i.width,a=i.height,s=e.data,u=e.value,l=e.space,c=void 0===l?0:l,h=GP({children:s}).sum((function(t){return t[u]})).sort((function(t,e){return e[u]-t[u]})),f=nO().tile(rO).round(!1).size([o,a]).paddingInner(c),p=f(h);return p.children.map((function(t){var e=t.data,n=t.x0,i=t.y0,o=t.x1,a=t.y1,s=r.mapping(e[r.field]),u={xMin:n,xMax:o,yMin:i,yMax:a};return D({key:e.key,origin:e,color:s},u)}))},n.prototype.render=function(){var e=this.treemapLayout(),n=this,r=n.props,i=n.coord;return wb(t,D({nodes:e},r,{coord:i.getCoord()}))},n}(wd)},aO=oO,sO={name:{fontSize:"24px",fontWeight:500,fill:"#333333"},desc:{fontSize:"24px",fontFamily:"Alibaba Sans"}},uO=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){var t=this.props,e=t.nodes,n=t.name,r=t.nameOption,i=t.nameStyle,o=t.desc,a=t.descOption,s=t.descStyle,u=t.onItemClick,l=Cx({},sO.name,i),c=Cx({},sO.desc,s),h=EE(10);return Xx().createElement("group",null,e.map((function(t){var e=t.key,i=t.xMin,s=t.xMax,f=t.yMin,p=t.yMax,d=t.color,v=t.origin,y=v[n||""],g=v[o||""];return Xx().createElement("group",{key:e,style:{x:i,y:f,display:"flex"},onClick:function(t){t.record=v,Qm(u)&&u(t)}},Xx().createElement("rect",{style:{width:s-i,height:p-f,fill:d,lineWidth:"4px",stroke:"#fff",radius:"8px",zIndex:0}}),bx(y)?null:Xx().createElement("text",{style:E(E({y:p-f-EE(c.fontSize)-2*h,x:h,text:n,zIndex:10},FE(y,r)),l)}),bx(g)?null:Xx().createElement("text",{style:E(E({zIndex:11,text:g,y:p-f-h,x:h},FE(g,a)),c)}))})))}}]),n}(wd),lO=aO(uO),cO={width:"20px",height:"20px",marginRight:"10px"},hO=function(t){var e=t.type,n=t.color;return"square"===e?Xx().createElement("rect",{style:cO,attrs:{fill:n}}):Xx().createElement("circle",{style:cO,attrs:{fill:n}})},fO=function(t){var e=t.chart,n=t.style,r=t.itemStyle,i=t.layout,o=t.marker,a=void 0===o?"circle":o,s=e.getLegendItems()||[];return Xx().createElement("group",{style:E({width:i.width,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap"},n)},s.map((function(t){var e=t.color,n=t.name,i=t.filtered;return Xx().createElement("group",{key:n,style:E({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:["6px","6px","6px",0]},r),"data-item":t},hO({color:i?"#bfbfbf":e,type:a}),Xx().createElement("text",{attrs:{fill:i?"#bfbfbf":"#333",text:n}}))})))},pO=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){return Xx().createElement(fO,this.props)}}]),n}(GT(fO)),dO=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.getDefaultCfg=function(){return{geomType:"area",startOnZero:!0,sortable:!0}},e.prototype.mapping=function(){var e=t.prototype.mapping.call(this),n=this.getY0Value(),r=this,i=r.props,o=r.startOnZero,a=i.coord,s=i.startOnZero,u=void 0===s?o:s,l=a.y[0];if(u){var c=a.convertPoint({x:0,y:n});l=c.y}for(var h=0,f=e.length;h<f;h++)for(var p=e[h],d=p.children,v=0,y=d.length;v<y;v++){var g=d[v],m=g.points,x=g.bottomPoints;x&&x.length?(x.reverse(),g.points=m.concat(x)):(m.push({x:m[m.length-1].x,y:l}),m.push({x:m[0].x,y:l}))}return e},e}(DT(t))},vO={appear:{easing:"linear",duration:450,property:["x","y","width","height","points"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,property:["points"]}},yO=function(t){var e=t.records,n=t.animation,r=t.adjust;return Xx().createElement("group",null,(e||[]).map((function(t){var e=t.key,i=t.children;return Xx().createElement("group",{key:e},i.map((function(t,e){var i=t.points,o=t.color,a=t.shape,s=(i||[]).reduce((function(t,e,n){return"stack"===r&&n>(i.length-1)/2?(t[1]||(t[1]=[]),t[1].push(e)):n<i.length-2&&t[0].push(e),t}),[[]]);return Xx().createElement("group",{key:e},s.map((function(t){return Xx().createElement("polyline",{attrs:E({points:t.map((function(t){return[t.x,t.y]})),stroke:o},a),animation:Cx(vO,n)})})),Xx().createElement("polygon",{attrs:E({points:i.map((function(t){return[t.x,t.y]})),fill:o},a)}))})))})))},gO={field:"type",range:["#FFF04A","#FF9F18","#BF4BB6","#6800B3","#00B7F4","#3C2CE6","#F4333C","#1677FF","#FFD24A","#FF7818","#A834B3","#7C10B3","#0094FF","#3142FF","#CC2734","#2C5AE6"]},mO=KS(iO=qS(iO=function(t){O(n,t);var e=_(n);function n(t,r){return T(this,n),e.call(this,E({color:gO},t),r)}return S(n,[{key:"willReceiveProps",value:function(t){xb(C(n.prototype),"willReceiveProps",this).call(this,E({color:gO},t))}},{key:"render",value:function(){var t=this.props,e=t.coord,n=t.animation,r=t.adjust,i=this.mapping();return Xx().createElement(yO,{coord:e,records:i,animation:n,adjust:r})}}]),n}(dO(yO)))||iO)||iO,xO=["#0EB188","#00D498","#FF9F18","#FF3141","#E62C3B"],bO=["https://gw.alipayobjects.com/zos/finxbff/compress-tinypng/214fce65-124b-4bab-ac52-4cfbbb70cfa4.png","https://gw.alipayobjects.com/zos/finxbff/compress-tinypng/214fce65-124b-4bab-ac52-4cfbbb70cfa4.png","https://gw.alipayobjects.com/zos/finxbff/compress-tinypng/fb424551-d815-46da-984c-f3426ab7b6de.png","https://gw.alipayobjects.com/zos/finxbff/compress-tinypng/d60f4fea-302e-4dfb-a854-e785290ba918.png","https://gw.alipayobjects.com/zos/finxbff/compress-tinypng/d60f4fea-302e-4dfb-a854-e785290ba918.png"],wO=function(t){var e,n,r=t.style,i=t.highlight,o=t.text,a=t.color,s=t.height,u=t.percent,l=void 0===u?1:u,c=t.opacity,h=t.guide,f=t.bubble,p=t.isGuide,d=t.isBubble,v=t.disOfBulletRightToClient,y=h.visible,g=void 0!==y&&y,m=h.width,x=h.height,b=h.src,w={group:{display:"flex",flexFlow:"row nowrap",alignItems:"flex-end"},itemContainer:{flex:1},itemBar:{borderRadius:"2px",display:"flex",position:"relative"},itemText:{textAlign:"center",fontSize:"26px",color:"#999",marginTop:p?"18px":"8px"}},k=f||{},M=k.visible,S=k.content,T=CE(E(E({},w.itemText),{},{color:i?a:"#999",fontWeight:i?500:300})),P=LE(a),O=CE(E(E({},w.itemBar),{},{width:"100%",marginTop:d?"70px":0,backgroundColor:"rgba(".concat(null===P||void 0===P?void 0:P.r,", ").concat(null===P||void 0===P?void 0:P.g,", ").concat(null===P||void 0===P?void 0:P.b,", ").concat(c,")")})),C=CE({width:"".concat(100*l,"%"),height:s,display:"inline-block",backgroundColor:a,borderRadius:"2px",verticalAlign:"bottom"}),N=CE({position:"absolute",width:m,height:x,left:"".concat(100*l-10,"%"),top:"50%",backgroundImage:g&&"url(".concat(b,")"),backgroundSize:"100%",backgroundRepeat:"no-repeat",borderRadius:"50%",boxShadow:g&&"0px 2px 29px 0 rgba(0,0,0,0.30)"});N.marginTop="-".concat(CE(x)/2,"px");var A=CE({position:"absolute",top:"-56px",padding:["5px","10px","5px","10px"],fontSize:"22px",borderRadius:"98px",backgroundColor:"#1677FF",color:"#fff",whiteSpace:"nowrap",transform:"tanslateX(0)",lineHeight:"normal"}),L=CE({position:"absolute",top:"-22px",left:"15px",width:0,height:0,borderTop:"".concat(CE("17px"),"px solid ").concat(null!==(e=null===f||void 0===f||null===(n=f.style)||void 0===n?void 0:n.backgroundColor)&&void 0!==e?e:"#1677FF"),borderRight:"".concat(CE("17px"),"px solid transparent"),marginLeft:"0"}),_=CE(Ix({},A,E({},null===f||void 0===f?void 0:f.style))),R=(0,zx.useRef)(null),I=function(){var t=document.body.clientWidth;if(R.current){var e=R.current.getBoundingClientRect(),n=v-2*N.width/3,r=CE(t-e.right),i=0;(r<0||r<n)&&(i=r-n),R.current.style.transform="translateX(".concat(i,"px)")}};return I(),Xx().createElement("div",{className:"item-container",style:r},Xx().createElement("div",{className:"bar-container",style:O},Xx().createElement("div",{className:"fill-part",style:C}),Xx().createElement("div",null,Xx().createElement("div",{className:"icon-guide",style:N,id:"icon-guide"},M&&Xx().createElement("div",null,Xx().createElement("div",{className:"bubble-container",style:_,ref:R},Xx().createElement("span",null,S)),Xx().createElement("div",{style:L}))))),o&&Xx().createElement("div",{style:T},o))},kO={group:{display:"flex",flexFlow:"row nowrap",alignItems:"flex-end"},itemContainer:{flex:1},itemBar:{borderRadius:"2px",display:"flex",position:"relative"},itemText:{textAlign:"center",fontSize:"26px",color:"#999",marginTop:"8px"}},EO=function(t){var e=t.percent,n=t.colors,r=void 0===n?xO:n,i=t.height,o=void 0===i?"10px":i,a=t.width,s=t.count,u=void 0===s?5:s,l=t.contents,c=void 0===l?[]:l,h=t.opacity,f=void 0===h?.2:h,p=t.guide,d=t.bubble;if(bx(e))return null;var v=Math.ceil(e*u),y=(0,zx.useRef)(null),g=(0,zx.useState)(0),m=Yk(g,2),x=m[0],b=m[1];function w(t,e,n){var r=t/e,i=(t+1)/e;return n>i?1:n<r?0:(n-r)/(1/e)}function k(t,e){return Qm(t)?t(e):hx(e)?t[e%t.length]:t[0]}function M(t){return 0===v&&0===t||t+1===v}function S(t,e,n){var r=t||{},i=r.visible,o=void 0!==i&&i,a=r.attrs,s=void 0===a?{}:a,u=r.iconList,l=s||{},c=l.width,h=l.height,f=M(e),p=u;return(!p||p.length<n)&&(p=bO),{visible:o?f:o,src:p[e],width:c||"38px",height:h||"38px"}}function T(t,e,n){var r=t||{},i=r.visible,o=void 0!==i&&i,a=M(e);return E(E({},t),{},{visible:o?a:o})}return(0,zx.useLayoutEffect)((function(){var t=document.body.clientWidth,e=CE(t-y.current.getBoundingClientRect().right);b(e)}),[]),Xx().createElement("div",{style:kO.group,className:"bullet-chart",ref:y},new Array(u).fill(1).map((function(t,n){var i=CE(Ix({},kO.itemContainer,{width:a,marginLeft:0===n?"0":"4px"})),s=k(r,Math.max(n,v-1));return Xx().createElement(wO,{key:n,style:i,text:c[n],highlight:M(n),color:s,height:o,percent:w(n,u,e),opacity:tx(f)?f[n]:f,guide:S(p,n,u),bubble:T(d,n,u),isGuide:null===p||void 0===p?void 0:p.visible,isBubble:null===d||void 0===d?void 0:d.visible,disOfBulletRightToClient:x})})))},MO=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){var t=this.props,e=t.coord,n=t.text,r=t.color,i=t.size,o=this.context.px2hd;return Xx().createElement("text",{attrs:{x:e.x[0]+o("4px"),y:e.y[0]-o("48px")/2,fontSize:i||"40px",fill:r||"#ddd",text:n}})}}]),n}(wd),SO={stepBox:{display:"flex",flexFlow:"row nowrap",alignItems:"flex-end"},stepItem:{borderRadius:"2px",marginLeft:"4px"}},TO={percent:0},PO=[8/14,10/14,12/14,1],OO=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TO,e=t.percent,n=t.color,r=t.bgColor,i=t.height,o=void 0===i?14:i,a=t.width,s=void 0===a?35:a,u=t.colorIndex,l=Math.ceil(e/.25),c=xO[(u||0)%(xO.length-1)];return n&&(c=n),Xx().createElement("div",{style:SO.stepBox},PO.map((function(t,e){var n=CE(E(E({},SO.stepItem),{backgroundColor:c,height:"".concat(t*o,"px"),width:"".concat(s,"px"),marginLeft:0===e?"0":"4px"}));return e<l?Xx().createElement("div",{key:e,style:n}):r?Xx().createElement("div",{key:e,style:E(E({},n),{},{backgroundColor:r})}):Xx().createElement("div",{key:e,style:E(E({},n),{},{opacity:.16})})})))},CO=OO,NO="tip-click",AO={color:"#604027",lineWidth:2,lineLength:"260px",slide:"24px",titleStyle:{fontSize:"32px",fill:"#333",fontWeight:600},descStyle:{fontSize:"24px",fill:"#999"},valueStyle:{fontSize:"24px",fill:"#999"},animation:{update:{easing:"linear",duration:300,property:["x","y","width","height"]}}};function LO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Yk(t,2),i=r[0],o=r[1],a=0;return i.x<e&&(a=e-i.x),o.x>n&&(a=n-o.x),t.map((function(t){return E(E({},t),{},{x:t.x+a})}))}var _O=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){var t,e,n,r,i=this.props||{},o=i.point,a=i.records,s=void 0===a?[]:a,u=i.yMin,l=void 0===u?20:u,c=i.yMax,h=i.topArrowColor,f=void 0===h?AO.color:h,p=i.bottomArrowColor,d=void 0===p?AO.color:p,v=i.lineWidth,y=void 0===v?AO.lineWidth:v,g=i.desc,m=void 0===g?"":g,x=i.titleFormatter,b=i.valueFormatter,w=i.valueOption,k=i.showTipIcon,M=i.tipOption,S=i.triggerRef,T=s[0];if(!T)return null;var P=this.context,O=P||{},C=O.height,N=O.width,A=P.px2hd((null===(t=this.props)||void 0===t?void 0:t.slide)||AO.slide),L=P.px2hd((null===(e=this.props)||void 0===e?void 0:e.lineLength)||AO.lineLength),_=Math.max(0,l-A/2),R=[{x:o.x-A/2,y:_},{x:o.x+A/2,y:_},{x:o.x,y:_+A/2}],I=Math.min(C,c+A/2),D=[{x:o.x-A/2,y:I},{x:o.x+A/2,y:I},{x:o.x,y:I-A/2}],F=o.x/N,j=LO([{x:o.x-L*F,y:_},{x:o.x+L*(1-F),y:_}],0,N),B=E(E({},AO.titleStyle),null===(n=this.props)||void 0===n?void 0:n.titleStyle),G=T[T.xField],Y=T[T.yField],W=Qm(b)?b(Y):Y,z=E(E(E({},AO.valueStyle),mE(W,null===w||void 0===w?void 0:w.type,null===w||void 0===w?void 0:w.option)),null===(r=this.props)||void 0===r?void 0:r.valueStyle);return Xx().createElement("group",null,Xx().createElement("polyline",{attrs:{points:[[0,_+1],[N,_+1]],stroke:"#ddd",lineWidth:1}}),Xx().createElement("polygon",{attrs:{points:R.map((function(t){return[t.x,t.y]})),fill:f}}),Xx().createElement("polyline",{attrs:{points:j.map((function(t){return[t.x,t.y]})),stroke:f,lineWidth:y,lineCap:"round"}}),c?Xx().createElement("polygon",{attrs:{points:D.map((function(t){return[t.x,t.y]})),fill:d}}):null,Xx().createElement("text",{attrs:E(E({},B),{},{text:"function"===typeof x?x(G):G,x:o.x<=N/2?j[0].x:j[1].x,y:_-P.px2hd(z.fontSize)-P.px2hd(B.fontSize)/2-P.px2hd("16px"),textAlign:o.x<=N/2?"left":"right"})}),Xx().createElement("group",{style:{top:_-P.px2hd(z.fontSize)-P.px2hd("8px"),left:j[0].x,width:j[1].x-j[0].x,display:"flex",flexDirection:"row",justifyContent:o.x<=N/2?"flex-start":"flex-end"},ref:S},Xx().createElement("text",{attrs:E(E({},AO.descStyle),{},{text:m,textAlign:"left"})}),Xx().createElement("text",{attrs:E(E({},z),{},{textAlign:"left"})}),k?Xx().createElement("group",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"30px",width:"30px",marginLeft:"6px"},className:NO,onClick:null===M||void 0===M?void 0:M.onClick},Xx().createElement("image",{cacheImage:!0,attrs:{height:"20px",width:"20px",src:(null===M||void 0===M?void 0:M.icon)||jS},style:{top:0,left:"5px",position:"absolute"}})):null))}}]),n}(wd),RO=function(t){O(n,t);var e=_(n);function n(t){var r;return T(this,n),r=e.call(this,t),r.props=r.props,r.triggerRef=void 0,r.listenTipClick=function(){var t=A(r),e=t.context,n=e.canvas;n.on("click",(function(t){var e=r.triggerRef.current,n={x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y},i=wE(e,n,NO);if(i&&"function"===typeof i.get("onClick")){var o=i.get("onClick");o(t)}}))},r.triggerRef={current:null},r}return S(n,[{key:"didMount",value:function(){xb(C(n.prototype),"didMount",this).call(this),this.listenTipClick()}},{key:"_initEvent",value:function(){var t=this,e=this.context,n=this.props,r=e.canvas,i=n.alwaysShow,o=void 0===i||i;r.on("click",(function(e){var n={x:null===e||void 0===e?void 0:e.x,y:null===e||void 0===e?void 0:e.y};t.show(n)})),r.on("press",(function(e){var n=e.direction,r={x:null===e||void 0===e?void 0:e.x,y:null===e||void 0===e?void 0:e.y};"up"!==n&&"down"!==n&&(e.preventDefault(),t.show(r))})),r.on("pressend",(function(e){o||t.hide()}))}},{key:"render",value:function(){var t=this.props,e=this.state,n=t.visible;if(!1===n)return null;var r=e.records;if(!r||!r.length)return null;var i=r[0],o=i;return Xx().createElement(_O,Wx({},t,{point:o,records:r,triggerRef:this.triggerRef}))}}]),n}(tP(_O)),IO=function(t){var e=t.records,n=(t.smooth,t.lineDash),r=t.isInCircle,i=t.layout,o=t.lineStyle,a=t.pointStyle,s=i.top,u=i.bottom,l=i.left,c=i.right;return Xx().createElement("group",null,e.map((function(t){var e=t.key,i=t.children;return Xx().createElement("group",{key:e},i.map((function(t,e){var h=t.points,f=t.color,p=t.size;r&&h.push(h[0]);new Array(i.length).fill({x:(c+l)/2,y:(s+u)/2});return Xx().createElement("group",null,Xx().createElement("polyline",{attrs:E({points:h.map((function(t){return[t.x,t.y]})),fill:0===e?f:"transparent",fillOpacity:.4,lineJoin:"round",lineCap:"round",lineWidth:p||"2px",stroke:f,lineDash:n},o),animation:{appear:{duration:300,delay:0,easing:"linear",property:["points"]}}}),h.map((function(t){return Xx().createElement("circle",{attrs:E({cx:t.x,cy:t.y,r:"5px",fill:f},a)})})))})))})))},DO=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n)}(DT(IO)),FO={pointSize:"12px"},jO=function(t){var e=t.items,n=t.width,r=t.height,i=t.customStyle,o=CE(Cx(E({},FO),i)),a=o.pointSize,s=.2*r;return Xx().createElement("group",{style:{top:r-s,height:s,width:n,flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap"}},(e||[]).map((function(t,e){var n=t.name,r=t.marker,i=r||{},o=i.fill;return Xx().createElement("group",{style:{height:s,marginLeft:"20px",marginRight:"20px",flexDirection:"row",alignItems:"center",justifyContent:"center"}},Xx().createElement("circle",{style:{marginRight:"10px",marginTop:s/2},attrs:{r:a/2,fill:o}}),Xx().createElement("text",{style:{marginTop:s/2},attrs:{text:n,fontSize:"24px",fill:"#999"}}))})))},BO=GT(jO),GO={offsetX:"10px",offsetY:"5px",maxWidth:"80px",maxHeight:"60px",pointSize:"12px"};function YO(t,e,n,r,i,o,a){var s={width:r,height:i},u=[t.x+e,t.y+n],l=Wk(s,[0,0],[o,a]),c=zk(u,l);return c}var WO,zO=function(t){var e=t.records,n=t.xField,r=t.yField,i=t.customConfig,o=void 0===i?{}:i,a=t.colorField,s=t.itemAlias,u=t.customStyle,l=t.valueFormat,c=void 0===l?"number":l,h=t.valueFormatOption,f=void 0===h?{}:h,p=CE(Cx(E({},GO),u)),d=p.offsetY,v=p.offsetX,y=p.pointSize;if(!e||!e.length)return null;var g=e[e.length-1],m=g[n],x=YO(g,v,d,p.maxWidth,p.maxHeight,t.width,t.height),b=Yk(x,2),w=b[0],k=b[1],M=o[m]||{},S=M.alias,T=void 0===S?"":S;return Xx().createElement("group",{style:{display:"flex"}},e.map((function(t,n){var r=e[e.length-1-n],i=r.x,o=r.y,a=r.color;return Xx().createElement("circle",{attrs:{cx:i,cy:o,r:y/2,fill:a,stroke:"#fff",lineWidth:"3px"}})})),Xx().createElement("group",{style:{top:k,left:w,flexDirection:"column",alignItems:"flex-start",paddingTop:"24px",paddingLeft:"24px",paddingRight:"24px"},attrs:{fill:"#ffffff",shadowColor:"#cccccc",shadowBlur:"14px",shadowOffsetY:"2px",strokeStyle:"#666",fillOpacity:.7,radius:"16px"}},Xx().createElement("text",{style:{height:"28px",fontWeight:"bold",marginBottom:"22px",fontSize:"30px",fill:"#333333",text:T||m,shadowColor:"transparent",shadowBlur:"0px",shadowOffsetY:"0px"}}),e.map((function(t,n){var i=e[e.length-1-n],o=i.color,u=i[r],l=i[a];return Xx().createElement("group",{style:{flexDirection:"row",flexWrap:"nowrap",alignItems:"center",marginBottom:"16px"},attrs:{shadowColor:"transparent",shadowBlur:"0px",shadowOffsetY:"0px"}},Xx().createElement("circle",{style:{marginRight:"10px"},attrs:{r:y/2,fill:o}}),Xx().createElement("text",{style:{text:"".concat(s&&s[n]||l,"\uff1a"),fontSize:"24px",fill:"#333"}}),Xx().createElement("text",{style:{text:c?mE(c,u,f).text:u,fontSize:"24px",fill:"#333"}}))}))))},XO=function(t){return function(e){O(r,e);var n=_(r);function r(){return T(this,r),n.apply(this,arguments)}return S(r,[{key:"render",value:function(){return Xx().createElement(t,this.props)}}]),r}(wd)},VO=XO(zO),UO=function(t){var e=t.type,n=t.color;return"square"===e?wb("rect",{style:{width:"16px",height:"16px",marginRight:"8px"},attrs:{fill:n}}):"line"===e?wb("line",{style:{width:"20px",height:0,marginBottom:"4px",marginRight:"12px"},attrs:{lineWidth:"6px",stroke:n,lineCap:"round"}}):wb("circle",{style:{width:"16px",height:"16px",marginRight:"8px"},attrs:{fill:n}})},HO=function(t){var e,n,r=t.items,i=t.style,o=t.itemWidth,a=t.marker,s=void 0===a?"circle":a,u=t.nameFormatter,l=t.valueFormatter,c=t.nameOption,h=void 0===c?{}:c,f=t.valueOption,p=void 0===f?{}:f,d=t.nameStyle,v=t.valueStyle,y=u||h.formatter,g=l||p.formatter,m=t.chart,x=t.data,b=m.getGeometrys()[0],w=b||{},k=w.attrController,M=null===k||void 0===k||null===(e=k.getAttr("color"))||void 0===e?void 0:e.field,S=null===k||void 0===k||null===(n=k.getAttr("y"))||void 0===n?void 0:n.field,T={};return null===x||void 0===x||x.forEach((function(t){void 0!==t[M]&&(T[t[M]]=t)})),wb("group",{style:E({display:"flex"},i)},(r||[]).map((function(t){var e,n=t.color,r=t.filtered,i=Qm(y)?y(t.name):t.name,a=Qm(g)?l(null===(e=T[i])||void 0===e?void 0:e[S],t.tickValue,T[i]):t.value,u=mE(i,null===h||void 0===h?void 0:h.type,null===h||void 0===h?void 0:h.option),c=mE(a,null===p||void 0===p?void 0:p.type,null===p||void 0===p?void 0:p.option);return r&&(u=E(E({},u),{},{fill:"#bfbfbf"}),c=E(E({},c),{},{fill:"#bfbfbf"})),wb("group",{className:"legend-item",style:{width:o,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:["8px","8px","8px",0]},"data-item":t},UO({color:r?"#bfbfbf":n,type:s}),wb("text",{attrs:E(E({fill:"#333333",fontSize:"24px"},u),d)}),void 0!==a&&wb("text",{attrs:E(E({fontSize:"28px",fontWeight:500,fill:"#333333"},c),v),style:E({},v)}))})))},qO=GT(HO),KO=function(t){var e,n=t.coord,r=t.records,i=t.animation,o=t.enableAppear,a=void 0!==o&&o,s=n.center,u=n.startAngle,l=n.endAngle,c=n.radius;return a&&(e=Cx({appear:{easing:"quadraticOut",duration:300,clip:{type:"sector",property:["endAngle"],style:{cx:s.x,cy:s.y,startAngle:"".concat(u,"rad"),r:c},start:{endAngle:"".concat(u,"rad")},end:{endAngle:"".concat(l,"rad")}}}},i)),Xx().createElement("group",{animation:{appear:E(E({},e&&e.appear),i&&i.appear)}},(r||[]).map((function(t,e){var n=t.key,r=t.children;return Xx().createElement("group",{key:n},(r||[]).map((function(t){var e=t.name,n=t.xMin,r=t.xMax,o=t.yMin,a=t.yMax,u=t.shape,l=t.color;return Xx().createElement("sector",{key:e,style:E({cx:s.x,cy:s.y,fill:l,startAngle:"".concat(n," rad"),endAngle:"".concat(r," rad"),r0:o,r:a},u),animation:Cx({update:{easing:"linear",duration:200,property:["cx","cy","startAngle","endAngle","r0","r"]}},{update:E({},i&&i.update)})})})))})))},ZO={rect:KO},$O={field:"name",range:["#FFF04A","#FFD24A","#FF9F18","#FF7818","#FF5117","#E62C3B","#BF4B68","#CC5098","#BF4BB6","#A834B3","#8E22B3","#7C10B3","#6800B3","#542EF2","#3C2CE6","#3142FF","#3164FF","#1677FF","#0094FF"]},JO=KS(WO=qS(WO=function(t){O(n,t);var e=_(n);function n(t,r){return T(this,n),e.call(this,E({color:$O},t),r)}return S(n,[{key:"willReceiveProps",value:function(t){xb(C(n.prototype),"willReceiveProps",this).call(this,E({color:$O},t))}},{key:"render",value:function(){var t=this.mapping();return Xx().createElement(KO,Wx({records:t},this.props,this.state))}}]),n}(US(ZO)))||WO)||WO,QO=function(t){return function(e){function n(t){return e.call(this,t)||this}return I(n,e),n.prototype.getGuideBBox=function(){var t=Zy(this,this.render()),e=t.layout;if(e)return e},n.prototype.parseReplaceStr=function(t,e){var n={min:0,max:1,median:.5};if(!Ht(n[t]))return n[t];if(qt(t)&&-1!=t.indexOf("%")&&!isNaN(Number(t.slice(0,-1)))){var r=Number(t.slice(0,-1)),i=r/100;return i}return e.scale(t)},n.prototype.parsePoint=function(t){var e=this.props,n=e.chart,r=e.coord,i=n.getXScales()[0],o=n.getYScales()[0],a=this.parseReplaceStr(t[i.field],i),s=this.parseReplaceStr(t[o.field],o);return r.convertPoint({x:a,y:s})},n.prototype.convertPoints=function(t){var e=this;return t.map((function(t){return e.parsePoint(t)}))},n.prototype.getGuideTheme=function(){var t=this.context,e=t.theme;return e.guide},n.prototype.render=function(){var e=this,n=e.props,r=e.context,i=n.coord,o=n.records,a=void 0===o?[]:o,s=n.animation,u=n.chart,l=n.style,c=n.onClick,h=r.width,f=r.height,p=this.convertPoints(a),d=this.getGuideTheme();return wb("group",{onClick:function(t){c&&c(t)}},wb(t,D({points:p,theme:d,coord:i},n,{canvasWidth:h,canvasHeight:f,style:W(l)?l(p,u):l,animation:W(s)?s(p,u):s})))},n}(wd)},tC={style:{fill:"#1677FE",r:"5px",lineWidth:"2px",stroke:"#fff"},animation:{appear:{delay:100,easing:"linear",duration:150,property:["opacity"],start:{opacity:0},end:{opacity:1}},update:{delay:100,easing:"linear",duration:150,property:["opacity"],start:{opacity:0},end:{opacity:1}}}},eC={purchase:{fill:"#E73645"},redeem:{fill:"#1677FE"},rise:{fill:"#E73645"},fall:{fill:"#279E0D"},normal:{}},nC=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){var t=this.context,e=this.props,n=e.style,r=Cx({},tC,e),i=r.points,o=r.offsetX,a=r.offsetY,s=r.animation,u=r.type,l=void 0===u?"normal":u,c=t.px2hd(o),h=t.px2hd(a);return Xx().createElement("group",null,(i||[]).map((function(t){var e=t||{},r=e.x,i=e.y,o=r+(c||0),a=i+(h||0);return Xx().createElement("circle",{style:E(E(E({cx:o,cy:a},tC.style),eC[l||"normal"]),n),animation:s})})))}}]),n}(wd),rC=QO(nC),iC=i(5156),oC=i.n(iC);function aC(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}var sC=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t.divContainer=void 0,t}return S(n,[{key:"appendContainer",value:function(){var t=this.context,e=this.props,n=e||{},r=n.overflowHidden,i=void 0===r||r,o=t.root.getCanvasEl(),a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width="".concat(null===o||void 0===o?void 0:o.clientWidth,"px"),a.style.height="".concat(null===o||void 0===o?void 0:o.clientHeight,"px"),!0===i&&(a.style.overflow="hidden"),a.style.pointerEvents="none";var s=null===o||void 0===o?void 0:o.parentNode;return s=aC(s,{position:"relative"}),s.appendChild(a),a}},{key:"willMount",value:function(){this.divContainer=this.appendContainer(),this.props.divContainer=this.divContainer,xb(C(n.prototype),"willMount",this).call(this)}},{key:"didUpdate",value:function(){this.props.divContainer=this.divContainer,xb(C(n.prototype),"didUpdate",this).call(this)}},{key:"didUnmount",value:function(){var t=this.context,e=t.root.getCanvasEl();null===e||void 0===e||e.parentNode.removeChild(null===this||void 0===this?void 0:this.divContainer),xb(C(n.prototype),"didUnmount",this).call(this)}}]),n}(QO((function(t,e){var n=t.children,r=t.render,i=t.points,o=void 0===i?[]:i,a=t.offsetX,s=void 0===a?0:a,u=t.offsetY,l=void 0===u?0:u,c=t.animation,h=e.px2hd;if(!t.divContainer)return Xx().createElement("group",null);var f=null===t||void 0===t?void 0:t.divContainer;if(Qm(r)){var p=function(n){var i=r(E(E({},t),n),e);tx(i)||(i=[i]),i.forEach((function(t){jx(t,"props.style.position","absolute")})),oC().render(i,f)};return c?Xx().createElement("group",null,o.map((function(t){return Xx().createElement("group",{animation:Cx(c,{appear:{onFrame:function(t){p({time:t})},end:E({},t)},update:{onFrame:function(t){p({time:t})},end:E({},t)},leave:{onFrame:function(t){p({time:t})},end:E({},t)}})})}))):(p(),Xx().createElement("group",null))}if(n){var d=o.map((function(t,e){var r,i=t.x,o=t.y,a=tx(n)?n[0]:n,u=(null===a||void 0===a||null===(r=a.props)||void 0===r?void 0:r.style)||{},c=Xx().cloneElement(n,{key:e,style:E(E({},u),{},{position:"absolute",left:"".concat(h(s)+i,"px"),top:"".concat(h(l)+o,"px"),pointerEvents:"auto"})});return c}));return oC().render(d,f),Xx().createElement("group",null)}}))),uC={milestone:{direct:"tr"},default:{offsetX:0,offsetY:0,side:EE(12),direct:"tc",autoAdjust:!0,iconUrl:"https://gw.alipayobjects.com/zos/antfincdn/me8wkSJO%26e/arrow12.png",showIcon:!1,animation:{appear:{delay:100,easing:"linear",duration:150,property:["opacity","fillOpacity"],start:{opacity:0,fillOpacity:0},end:{opacity:1}}}}},lC={container:{fill:"#1677FF",radius:"4px",fillOpacity:.8,padding:["4px","8px"],margin:["0px","0px"]},text:{fontSize:"20px"}},cC={purchase:{container:{fill:"#E73645"},text:{fill:"#fff"}},redeem:{container:{fill:"#1677FE"},text:{fill:"#fff"}},rise:{container:{fill:"#E73645"},text:{fill:"#fff"}},fall:{container:{fill:"#279E0D"},text:{fill:"#fff"}},milestone:{container:{fill:"#FE8259"},text:{fill:"#fff"},stroke:"#FE8259"},normal:{text:{fill:"#fff"}}},hC="onClick";function fC(t,e){var n={tl:2,cl:null,bl:1,bc:null,br:0,cr:null,tr:3,tc:null},r=OE(e),i=n[t];return null!==i&&(r[i]=0),r}function pC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=t.x,a=t.y;return"milestone"===r?{x:o+e,y:(isNaN(a)?null===i||void 0===i?void 0:i.bottom:a)+n}:{x:o+e,y:a+n}}function dC(t){return _E(t)?"#333":"#fff"}var vC=function(t,e){var n,r,i=t.triggerRef,o=t.type,a=t.valueField,s=t.valueOption,u=t.records,l=E(E({},uC["default"]),uC[o]),c=u[0]||{},h=c[a]||"",f=mE(h,null===s||void 0===s?void 0:s.type,null===s||void 0===s?void 0:s.option),p=Cx({},l,t),d=p.points,v=p.content,y=p.offsetX,g=p.offsetY,m=p.direct,x=p.autoAdjust,b=p.canvasWidth,w=p.side,k=p.canvasHeight,M=p.innerGuideBBox,S=p.background,T=p.textStyle,P=p.coord,O=p.showIcon,C=p.onClick,N=p.iconUrl,A=p.iconStyle,L=p.animation,_=p.width,R=p.height,I=d[0]||{},D=I.x,F=I.y;if(!d[0])return Xx().createElement("group",null);var j=CE(_)||(null===M||void 0===M?void 0:M.width),B=CE(R)||(null===M||void 0===M?void 0:M.height),G=e.px2hd(y),Y=e.px2hd(g),W=pC({x:D,y:F},G,Y,o,P),z=W.x,X=W.y,V=(null===P||void 0===P?void 0:P.bottom)||k,U=(null===P||void 0===P?void 0:P.width)||b,H=(null===P||void 0===P?void 0:P.left)||0,q=e.px2hd("".concat((null===S||void 0===S?void 0:S.radius)||lC.container.radius))/2,K=function(t){var e=m,n=t.x,r=t.y,i=e[0],o=e[1];"t"===i&&r-w-B<0?i="b":"b"===i&&r+w+B>V&&(i="t");var a="c"===i?w:0;return"l"===o&&n-a-j<H?o="r":"r"===o&&n+a+j>U?o="l":"c"===o&&(j/2+n+a>U?o="l":n-j/2-a<H&&(o="r")),e=i+o,e},Z=function(t){var e=[];return"tl"===t?(e=[{x:j,y:B-1},{x:j,y:B+w},{x:j-w,y:B-1}],z-=j||0,X=X-(B||0)-w):"cl"===t?(e=[{x:j-1,y:B/2-w},{x:j-1,y:B/2+w},{x:j+w-1,y:B/2}],z=z-(j||0)-w,X-=B/2||0):"bl"===t?(e=[{x:j,y:-w},{x:j,y:1},{x:j-w,y:1}],z-=j||0,X+=w):"bc"===t?(e=[{x:j/2,y:-w},{x:j/2-w,y:1},{x:j/2+w,y:1}],z-=j/2||0,X+=w):"br"===t?(e=[{x:0,y:-w},{x:0,y:1},{x:w,y:1}],X+=w,z-=q):"cr"===t?(e=[{x:1-w,y:B/2},{x:1,y:B/2-w},{x:1,y:B/2+w}],z+=w,X-=B/2||0):"tr"===t?(e=[{x:0,y:B+w},{x:0,y:B-1},{x:w,y:B-1}],X=X-(B||0)-w,z-=q):"tc"===t&&(e=[{x:j/2,y:B+w},{x:j/2-w,y:B-1},{x:j/2+w,y:B-1}],z-=j/2||0,X=X-B-w),e},$=x?K(d[0]):m,J=Z($),Q=Cx({},lC,cC[o]),tt=Q.text.fill||dC((null===S||void 0===S?void 0:S.fill)||Q.container.fill);return Xx().createElement("group",{style:{display:"flex"}},Xx().createElement("rect",{className:hC,onClick:C,ref:i,style:E(E({fill:Q.container.fill,fillOpacity:Q.container.fillOpacity,width:_||j,height:R||B,x:z,y:X,display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",padding:Q.container.padding},S),{},{radius:fC($,null!==(n=null===S||void 0===S?void 0:S.radius)&&void 0!==n?n:Q.container.radius)}),animation:L},Xx().createElement("text",{style:E({text:v,fontSize:Q.text.fontSize,fill:tt},T)}),h?Xx().createElement("text",{style:E(E(E({fontSize:Q.text.fontSize,fill:tt},T),f),{},{text:null!==(r=null===f||void 0===f?void 0:f.text)&&void 0!==r?r:h})}):null,M?Xx().createElement("polygon",{style:{points:J.map((function(t){return[t.x,t.y]})),fill:(null===S||void 0===S?void 0:S.fill)||Q.container.fill,fillOpacity:(null===S||void 0===S?void 0:S.fillOpacity)||Q.container.fillOpacity},animation:L}):null,O?Xx().createElement("image",{cacheImage:!0,style:E({height:"12px",width:"12px",src:N,marginLeft:"5px",marginRight:"5px"},A)}):null),"milestone"===o?Xx().createElement("line",{style:E({x1:D,x2:D,y1:null===P||void 0===P?void 0:P.bottom,y2:null===P||void 0===P?void 0:P.top,lineWidth:"1px",lineDash:["5px","4px"]},cC[o])}):null)},yC=vC,gC="onClick",mC=function(t){O(n,t);var e=_(n);function n(t){var r;return T(this,n),r=e.call(this,t),r.props=r.props,r.guideBBox={},r.triggerRef={current:null},r.hideGuideElement=function(t){var e=t||{},n=e.direction;"up"!==n&&"down"!==n&&r.setState({visible:!1})},r.showGuideElement=function(){r.setState({visible:!0})},r.state={visible:!0},r}return S(n,[{key:"didMount",value:function(){var t=this,e=this.context,n=this.props,r=n||{},i=r.chart,o=(e.canvas,n.isHideOnPress),a=void 0===o||o;a&&(i.on("pressstart",this.hideGuideElement),i.on("pressend",this.showGuideElement)),i.on("click",(function(e){var n,r=null===(n=t.triggerRef)||void 0===n?void 0:n.current,i={x:null===e||void 0===e?void 0:e.x,y:null===e||void 0===e?void 0:e.y},o=wE(r,i,gC);if(o&&"function"===typeof o.get("onClick")){var a=o.get("onClick");a(e)}}))}},{key:"didUnmount",value:function(){var t=this.context,e=this.props,n=t.canvas,r=e.isHideOnPress,i=void 0===r||r;i&&(n.off("pressstart",this.hideGuideElement),n.off("pressend",this.showGuideElement))}},{key:"render",value:function(){var t=this.state.visible;if(!1===t)return null;var e=Zy(this,xb(C(n.prototype),"render",this).call(this)),r=e.layout,i=r.width,o=r.height;return this.props.innerGuideBBox={width:i,height:o},xb(C(n.prototype),"render",this).call(this)}}]),n}(QO(yC)),xC={style:{fill:"#D0E4FF"},animation:{},titleStyle:{fill:"#333333",fontSize:"24px"}},bC={H2:{fill:"#FFD5D5"},H1:{fill:"#FFEDEE"},M:{fill:"#FFFAEE"},L1:{fill:"#E2FFF6"},L2:{fill:"#CBFFEF"},normal:{}},wC=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"getRectPoints",value:function(){var t,e,n,r,i=this.context,o=this.props,a=o.points,s=o.range,u=o.xRange,l=o.yRange,c=o.coord,h=o.offsetX,f=void 0===h?"0px":h,p=o.offsetY,d=void 0===p?"0px":p,v=l||s||[],y=Yk(v,2),g=y[0],m=void 0===g?0:g,x=y[1],b=void 0===x?1:x,w=u||[],k=Yk(w,2),E=k[0],M=void 0===E?0:E,S=k[1],T=void 0===S?1:S;if(2===(null===a||void 0===a?void 0:a.length))return{startX:(null===(t=a[0])||void 0===t?void 0:t.x)+i.px2hd(f||0),startY:(null===(e=a[0])||void 0===e?void 0:e.y)+i.px2hd(d||0),endX:(null===(n=a[1])||void 0===n?void 0:n.x)+i.px2hd(f||0),endY:(null===(r=a[1])||void 0===r?void 0:r.y)+i.px2hd(d||0)};var P=c.convertPoint({x:0,y:m}),O=P.y,C=c.convertPoint({x:0,y:b}),N=C.y,A=c.convertPoint({x:M,y:0}),L=A.x,_=c.convertPoint({x:T,y:0}),R=_.x;return{startX:L+i.px2hd(f||0),startY:O+i.px2hd(d||0),endX:R+i.px2hd(f||0),endY:N+i.px2hd(d||0)}}},{key:"render",value:function(){var t,e,n=this.props,r=n.title,i=n.titlePosition,o=n.type,a=void 0===o?"normal":o,s=Cx({},xC,{style:bC[a]||bC.normal},n),u=s.style,l=s.animation,c=s.innerGuideBBox,h=s.titleStyle,f=this.getRectPoints(),p=f.startX,d=f.startY,v=f.endX,y=f.endY,g=null===c||void 0===c?void 0:c.width,m=null===c||void 0===c?void 0:c.height,x=EE(8);switch(i){case"tl":t=Math.min(p,v)+x,e=Math.min(d,y)+x+m/2;break;case"tr":t=Math.max(p,v)-x-g,e=Math.min(d,y)+x+m/2;break;case"bl":t=Math.min(p,v)+x,e=Math.max(d,y)-x-m/2;break;case"br":t=Math.max(p,v)-x-g,e=Math.max(d,y)-x-m/2;break;default:t=Math.max(p,v)-x-g,e=Math.min(d,y)+x+m/2;break}return Xx().createElement("group",null,Xx().createElement("rect",{attrs:E({x:Math.min(p,v),width:Math.abs(p-v),y:Math.min(d,y),height:Math.abs(d-y)},u),animation:l}),r?Xx().createElement("text",{attrs:E({x:t,y:e,text:r},h)}):null)}}]),n}(wd),kC=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t.guideBBox={},t}return S(n,[{key:"willUpdate",value:function(){var t=this.getGuideBBox();this.props.innerGuideBBox=t}},{key:"getGuideBBox",value:function(){var t=this.props,e=this.context,n=t.title,r=t.titleStyle,i=r||{},o=i.fontSize,a=e.measureText(n,{x:0,y:0,fontSize:o||"24px"}),s=a.width,u=a.height,l={height:u,width:s};return this.guideBBox=l,this.props.innerGuideBBox=l,l}}]),n}(QO(wC)),EC=function(t){var e=t.type,n=t.points,r=t.highColor,i=t.lowColor,o=t.opacity,a=t.highClipPoints,s=t.lowClipPoints;return"all"===e?Xx().createElement("group",null,Xx().createElement("polygon",{style:{points:n.map((function(t){return[t.x,t.y]})),fill:r,fillOpacity:o,clip:{type:"polygon",style:{points:a.map((function(t){return[t.x,t.y]}))}}}}),Xx().createElement("polygon",{style:{points:n.map((function(t){return[t.x,t.y]})),fill:i,fillOpacity:o,clip:{type:"polygon",style:{points:s.map((function(t){return[t.x,t.y]}))}}}})):Xx().createElement("polygon",{style:{points:n.map((function(t){return[t.x,t.y]})),fill:"high"===e?r:i,fillOpacity:o,clip:{type:"polygon",style:{points:("high"===e?a:s).map((function(t){return[t.x,t.y]}))}}}})},MC={create:function(){return[0,0]},length:function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},normalize:function(t,e){var n=this.length(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},direction:function(t,e){return t[0]*e[1]-e[0]*t[1]},angle:function(t,e){var n=this.dot(t,e)/(this.length(t)*this.length(e));return Math.acos(n)},angleTo:function(t,e,n){var r=this.angle(t,e),i=this.direction(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},zero:function(t){return 0===t[0]&&0===t[1]},distance:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},clone:function(t){return[t[0],t[1]]},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},transformMat2d:function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}};function SC(t){return[t.x,t.y]}function TC(t,e,n,r){var i,o,a,s,u,l,c,h,f=[],p=!!r;if(p){for(a=[1/0,1/0],s=[-1/0,-1/0],h=0,c=t.length;h<c;h++)u=SC(t[h]),MC.min(a,a,u),MC.max(s,s,u);MC.min(a,a,r[0]),MC.max(s,s,r[1])}for(h=0,l=t.length;h<l;h++){if(u=SC(t[h]),n)i=SC(t[h?h-1:l-1]),o=SC(t[(h+1)%l]);else{if(0===h||h===l-1){f.push([u[0],u[1]]);continue}i=SC(t[h-1]),o=SC(t[h+1])}var d=MC.sub([],o,i);MC.scale(d,d,e);var v=MC.distance(u,i),y=MC.distance(u,o),g=v+y;0!==g&&(v/=g,y/=g);var m=MC.scale([],d,-v),x=MC.scale([],d,y),b=MC.add([],u,m),w=MC.add([],u,x);p&&(MC.max(b,b,a),MC.min(b,b,s),MC.max(w,w,a),MC.min(w,w,s)),f.push([b[0],b[1]]),f.push([w[0],w[1]])}return n&&f.push(f.shift()),f}function PC(t,e,n){for(var r,i,o,a=!!e,s=TC(t,.4,a,n),u=t.length,l=[],c=0;c<u-1;c++)r=s[2*c],i=s[2*c+1],o=t[c+1],l.push(["C",r[0],r[1],i[0],i[1],o.x,o.y]);return a&&(r=s[u],i=s[u+1],o=t[0],l.push(["C",r[0],r[1],i[0],i[1],o.x,o.y])),l}MC.create(),MC.create(),MC.create();function OC(t,e){if(0!==t.length){for(var n=t[0],r=n.x,i=n.x,o=n.y,a=n.y,s=t.length,u=1;u<s;u++)n=t[u],r=Math.min(r,n.x),i=Math.max(i,n.x),o=Math.min(o,n.y),a=Math.max(a,n.y);return e=e/2||0,{minX:r-e,minY:o-e,maxX:i+e,maxY:a+e}}}var CC=function(t){var e=t.type,n=t.points,r=t.highColor,i=t.lowColor,o=t.opacity,a=t.highClipPoints,s=t.lowClipPoints,u=t.pointsA,l=t.pointsB,c=[[0,0],[1,1]],h=PC(u,!1,c),f=wT(l).reverse(),p=PC(f,!1,c);if("all"===e)return Xx().createElement("custom",{attrs:{points:n.map((function(t){return[t.x,t.y]})),fill:r,fillOpacity:o},createPath:function(t){t.beginPath(),t.moveTo(u[0].x,u[0].y);var e,n=EP(h);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.bezierCurveTo(r[1],r[2],r[3],r[4],r[5],r[6])}}catch(s){n.e(s)}finally{n.f()}t.lineTo(f[0].x,f[0].y);var i,o=EP(p);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.bezierCurveTo(a[1],a[2],a[3],a[4],a[5],a[6])}}catch(s){o.e(s)}finally{o.f()}t.closePath()},calculateBox:function(){return OC(n)}});var d="high"===e?a:s;return Xx().createElement("group",null,Xx().createElement("custom",{attrs:{points:n.map((function(t){return[t.x,t.y]})),fill:"high"===e?r:i,fillOpacity:o,clip:{type:"custom",style:{points:d.map((function(t){return[t.x,t.y]}))},createPath:function(t){t.beginPath();var e=PC(d.slice(0,d.length-2),!1,c);t.moveTo(d[0].x,d[0].y);var n,r=EP(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.bezierCurveTo(i[1],i[2],i[3],i[4],i[5],i[6])}}catch(o){r.e(o)}finally{r.f()}t.lineTo(d[d.length-2].x,d[d.length-2].y),t.lineTo(d[d.length-1].x,d[d.length-1].y),t.closePath()},calculateBox:function(){return OC(d)}}},createPath:function(t){t.beginPath(),t.moveTo(u[0].x,u[0].y);var e,n=EP(h);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.bezierCurveTo(r[1],r[2],r[3],r[4],r[5],r[6])}}catch(s){n.e(s)}finally{n.f()}t.lineTo(f[0].x,f[0].y);var i,o=EP(p);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.bezierCurveTo(a[1],a[2],a[3],a[4],a[5],a[6])}}catch(s){o.e(s)}finally{o.f()}t.closePath()},calculateBox:function(){return OC(n)}}))},NC=function(t){O(n,t);var e=_(n);function n(){var t;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),t.props=t.props,t}return S(n,[{key:"getPoints",value:function(){var t,e=this.props,n=e.chart,r=e.diffKeys,i=void 0===r?[]:r;if(!(null===i||void 0===i?void 0:i.length))return console.warn("[wcc] diffKeys is required for DiffAreaGuide"),null;var o=null===n||void 0===n?void 0:n.getGeometrys();if(!(null===o||void 0===o?void 0:o.length))return null;var a=o[0],s=a.records,u=null===s||void 0===s||null===(t=s.filter((function(t){return i.includes(t.key)})))||void 0===t?void 0:t.sort((function(t,e){return i.indexOf(t.key)-i.indexOf(e.key)}));return!(null===u||void 0===u?void 0:u.length)||u.length<2?(console.warn("[wcc] diffKeys must be at least 2 for DiffAreaGuide"),null):u.map((function(t){return t.children}))}},{key:"parseColor",value:function(t){return"string"===typeof t?{high:t,low:t}:t}},{key:"render",value:function(){var t=this.props,e=t.type,n=void 0===e?"high":e,r=t.color,i=void 0===r?"red":r,o=t.opacity,a=void 0===o?1:o,s=t.smooth,u=this.getPoints()||[],l=Yk(u,2),c=l[0],h=l[1];if(!(null===c||void 0===c?void 0:c.length)||!h.length)return null;var f=[].concat(wT(c),wT(wT(h).reverse())),p=wT(c),d=wT(h);p.push({x:Math.max.apply(Math,wT(c.map((function(t){return t.x})))),y:0},{x:Math.min.apply(Math,wT(c.map((function(t){return t.x})))),y:0}),d.push({x:Math.max.apply(Math,wT(h.map((function(t){return t.x})))),y:0},{x:Math.min.apply(Math,wT(h.map((function(t){return t.x})))),y:0});var v=this.parseColor(i),y=v.high,g=v.low;return s?Xx().createElement(CC,Wx({},this.props,{points:f,type:n,opacity:a,smooth:s,pointsA:c,pointsB:h,highColor:y,lowColor:g,lowClipPoints:p,highClipPoints:d})):Xx().createElement(EC,Wx({},this.props,{points:f,type:n,opacity:a,smooth:s,highColor:y,lowColor:g,lowClipPoints:p,highClipPoints:d}))}}]),n}(wd),AC={offsetX:0,offsetY:0,points:[],src:""},LC=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){var t=Cx({},AC,this.props),e=t.points,n=t.style,r=t.attrs,i=t.offsetX,o=t.offsetY,a=t.src,s=t.animation,u=t.coord,l=t.isAutoAdjust,c=void 0!==l&&l,h=e[0]||{},f=h.x,p=h.y,d=E(E({},r),n),v=d.height,y=void 0===v?0:v,g=d.width,m=void 0===g?0:g,x=this.context.px2hd("".concat(y,"px")),b=this.context.px2hd("".concat(m,"px")),w=this.context.px2hd(i),k=this.context.px2hd(o),M=f+(w||0)-b/2,S=p+(k||0)-x/2;if(c){var T=jE({posX:M,posY:S,height:y,width:m,coord:u});M=T.posX,S=T.posY}return Xx().createElement("group",null,Xx().createElement("image",{style:E(E(E({},r),n),{},{height:x,width:b,x:M,y:S,src:a}),cacheImage:!0,animation:s}))}}]),n}(wd),_C=QO(LC),RC=function(t){O(n,t);var e=_(n);function n(){return T(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){var t=this.props.theme,e=void 0===t?{}:t,n=Cx(E({},e.text),this.props),r=n.points,i=n.style,o=n.offsetX,a=n.offsetY,s=n.content,u=n.animation,l=n.coord,c=n.isAutoAdjust,h=void 0!==c&&c,f=r[0]||{},p=f.x,d=f.y,v=this.context.px2hd(o),y=this.context.px2hd(a),g=p+(v||0),m=d+(y||0),x=function(t,e){return Xx().createElement("text",{style:E({text:"".concat(s),x:t,y:e},i),animation:u})},b=Zy(this,x(g,m)),w=b.layout,k=w.height,M=w.width;if(h){var S=jE({posX:g,posY:m,height:k,width:M,coord:l});g=S.posX,m=S.posY}return x(g,m)}}]),n}(wd),IC=QO(RC),DC=function(t,e){var n=t.theme,r=void 0===n?{}:n,i=Sb(D({},r.text),t),o=i.points,a=i.style,s=i.offsetX,u=i.offsetY,l=i.content,c=i.animation,h=o[0]||{},f=h.x,p=h.y,d=e.px2hd(s),v=e.px2hd(u),y=f+(d||0),g=p+(v||0);return wb("text",{attrs:D({text:"".concat(l),x:y,y:g},a),animation:Sb({update:{easing:"linear",duration:450,property:["x","y"]}},c)})},FC=function(t,e){var n=t.theme,r=Sb(D({},n.point),t),i=r.points,o=r.style,a=r.offsetX,s=r.offsetY,u=r.animation,l=i[0]||{},c=l.x,h=l.y,f=e.px2hd(a),p=e.px2hd(s),d=c+(f||0),v=h+(p||0);return wb("group",null,wb("circle",{style:D({cx:d,cy:v},o),animation:u}))},jC=function(t,e){var n=t.theme,r=void 0===n?{}:n,i=Sb(D({},r.line),t),o=i.points,a=i.style,s=i.offsetX,u=i.offsetY,l=i.animation,c=o[0]||{},h=c.x,f=c.y,p=o[1]||{},d=p.x,v=p.y,y=e.px2hd(s),g=e.px2hd(u),m=h+(U(y)?y[0]||0:y||0),x=f+(U(g)?g[0]||0:g||0),b=d+(U(y)?y[1]||0:y||0),w=v+(U(g)?g[1]||0:g||0);return wb("group",null,wb("line",{style:D({x1:m,y1:x,x2:b,y2:w},a),animation:l}))},BC=function(t){var e=t.theme,n=void 0===e?{}:e,r=Sb(D({},n.line),t),i=r.coord,o=r.points,a=r.style,s=r.animation,u=o[0]||{},l=o[1]||{},c=i.center,h=Math.sqrt((u.x-c.x)*(u.x-c.x)+(u.y-c.y)*(u.y-c.y)),f=Math.atan2(u.y-c.y,u.x-c.x),p=Math.atan2(l.y-c.y,l.x-c.x);return wb("group",null,wb("arc",{style:D({cx:c.x,cy:c.y,r:h,startAngle:"".concat(f,"rad"),endAngle:"".concat(p,"rad")},a),animation:s}))},GC=function(t){var e=t.theme,n=void 0===e?{}:e,r=Sb(D({},n.rect),t),i=r.points,o=r.style,a=r.animation,s=i[0]||{},u=i[1]||{};return wb("group",null,wb("rect",{style:D({x:Math.min(s.x,u.x),y:Math.min(s.y,u.y),width:Math.abs(u.x-s.x),height:Math.abs(s.y-u.y)},o),animation:a}))},YC={offsetX:0,offsetY:0,points:[],src:""},WC=function(t,e){var n=Sb({},YC,t),r=n.points,i=n.style,o=n.attrs,a=n.offsetX,s=n.offsetY,u=n.src,l=n.animation,c=r[0]||{},h=c.x,f=c.y,p=D(D({},o),i),d=p.height,v=void 0===d?0:d,y=p.width,g=void 0===y?0:y,m=e.px2hd(v+"px"),x=e.px2hd(g+"px"),b=e.px2hd(a),w=e.px2hd(s),k=h+(b||0)-x/2,E=f+(w||0)-m/2;return wb("group",null,wb("image",{style:D(D(D({},o),i),{height:m,width:x,x:k,y:E,src:u}),animation:Sb({update:{easing:"linear",duration:450,property:["x","y"]}},l)}))},zC={offsetX:0,offsetY:0,points:[],direct:"tl",side:"8px",autoAdjust:!0},XC={container:{fill:"#1677FF",radius:"4px",padding:["4px","8px"]},text:{fontSize:"22px",fill:"#fff"},arrow:{fill:"#1677FF"}},VC=function(t){var e=t.content,n=t.background,r=t.textStyle;return wb("rect",{style:D({display:"flex",fill:XC.container.fill,padding:XC.container.padding,radius:XC.container.radius},n)},wb("text",{style:D({text:e,fontSize:XC.text.fontSize,fill:XC.text.fill},r)}))},UC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.render=function(){var t=this,e=t.props,n=t.context,r=n.px2hd,i=D(D({},zC),e),o=r(i),a=o.points,s=o.content,u=o.offsetX,l=o.offsetY,c=o.direct,h=o.side,f=o.autoAdjust,p=o.canvasWidth,d=o.canvasHeight,v=o.background,y=o.textStyle,g=a[0]||{},m=g.x,x=g.y,b=n.px2hd(u),w=n.px2hd(l),k=m+(b||0),E=x+(w||0),M=Zy(this,wb(VC,{content:s,background:v,textStyle:y})).layout,S=M.width,T=M.height,P=function(t){var e=c,n=t.x,r=t.y,i=e[0],o=e[1];"t"===i&&r-h-T<0?i="b":"b"===i&&r+h+T>d&&(i="t");var a="c"===i?h:0;return"l"===o&&n-a-S<0?o="r":"r"===o&&n+a+S>p?o="l":"c"===o&&(S/2+n+a>p?o="l":n-S/2-a<0&&(o="r")),e=i+o,e},O=function(t){var e=[];return"tl"===t?(e=[{x:S,y:T-1},{x:S,y:T+h},{x:S-h,y:T-1}],k-=S||0,E=E-(T||0)-h):"cl"===t?(e=[{x:S,y:T/2-h},{x:S,y:T/2+h},{x:S+h,y:T/2}],k=k-(S||0)-h,E-=T/2||0):"bl"===t?(e=[{x:S,y:-h},{x:S,y:1},{x:S-h,y:1}],k-=S||0,E+=h):"bc"===t?(e=[{x:S/2,y:-h},{x:S/2-h,y:1},{x:S/2+h,y:1}],k-=S/2||0,E+=h):"br"===t?(e=[{x:0,y:-h},{x:0,y:1},{x:+h,y:1}],E+=h):"cr"===t?(e=[{x:-h,y:T/2},{x:0,y:T/2-h},{x:0,y:T/2+h}],k+=h,E-=T/2||0):"tr"===t?(e=[{x:0,y:T+h},{x:0,y:T-1},{x:h,y:T-1}],E=E-(T||0)-h):"tc"===t&&(e=[{x:S/2,y:T+h},{x:S/2-h,y:T-1},{x:S/2+h,y:T-1}],k-=S/2||0,E=E-T-h),e},C=f?P(a[0]):c,N=O(C);return wb("group",{style:{x:k,y:E}},wb(VC,{content:s,background:v,textStyle:y}),wb("polygon",{style:{points:N.map((function(t){return[t.x,t.y]})),fill:(null===v||void 0===v?void 0:v.fill)||XC.arrow.fill}}))},e}(wd),HC=UC;function qC(t,e){if("off"===e)return ht(t);var n="number"===typeof e&&e>=1?Math.pow(10,e):1;return t.map((function(t){var r=t.slice(1).map(Number).map((function(t){return e?Math.round(t*n)/n:Math.round(t)}));return[t[0]].concat(r)}))}function KC(t,e){return void 0===e&&(e="off"),qC(t,e).map((function(t){return t[0]+t.slice(1).join(" ")})).join("")}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZC.apply(this,arguments)}function $C(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var JC=["offset","easing"],QC=["ignore","easing","offset"],tN=1e-4,eN=function(){function t(t,e,n,r){var i=this;this.width=void 0,this.height=void 0,this.elements=void 0,this.context=void 0,this.displayObjects=void 0,this.keyframeAnimationMap=new WeakMap,this.displayObjectElementMap=new WeakMap,this.animations=[],this.isPaused=!1,this.direction=1,this.width=t,this.height=e,this.elements=n,this.context=r,this.displayObjects=n.map((function(t){return i.buildHierachy(t)}))}var e=t.prototype;return e.generateTransform=function(t,e,n,r,i){var o="";return 0===t&&0===e||(o+="translate("+t+", "+e+")"),1===n&&1===r||(o+=" scale("+(0===n?tN:n)+", "+(0===r?tN:r)+")"),0!==i&&(o+=" rotate("+i+"deg)"),o},e.buildHierachy=function(t){var e,n=this,r=t.type,i=t.name,o=t.anchorX,a=void 0===o?0:o,s=t.anchorY,u=void 0===s?0:s,l=t.rotation,c=void 0===l?0:l,h=t.scaleX,f=void 0===h?1:h,p=t.scaleY,d=void 0===p?1:p,v=t.x,y=void 0===v?0:v,g=t.y,m=void 0===g?0:g,x=t.children,b=t.shape,w=t.style,k=t.keyframeAnimation,E=this.generateTransform(y-a,m-u,f,d,c);if(r===_a.GROUP)e=new uc({style:{transformOrigin:a+"px "+u+"px",transform:E}});else if(r===_a.ELLIPSE){var M=b.cx,S=b.cy,T=b.rx,P=b.ry;e=new ac({style:{cx:M,cy:S,rx:T,ry:P,transformOrigin:a-M+T+"px "+(u-S+P)+"px",transform:E}})}else if(r===_a.PATH){var O=this.generatePathFromShape(b);e=new gc({style:{d:O,transformOrigin:a+"px "+u+"px",transform:E}})}else if(r===_a.RECT){var C=b.x,N=b.y,A=b.width,L=b.height,_=b.r;e=new Ec({style:{x:C,y:N,width:A,height:L,anchor:[.5,.5],radius:_,transformOrigin:a-C+A/2+"px "+(u-N+L/2)+"px",transform:E}})}else if(r===_a.IMAGE){var R=b.width,I=b.height,D=b.src;e=new fc({style:{x:0,y:0,width:R,height:I,src:D,transformOrigin:a+"px "+u+"px",transform:E}})}if(i&&(e.name=i),w&&e.attr(w),k&&this.keyframeAnimationMap.set(e,k),x){var F,j=x.map((function(t){return n.buildHierachy(t)}));(F=e).append.apply(F,j)}return this.displayObjectElementMap.set(e,t),e},e.getAnimations=function(){return this.animations},e.getDuration=function(t){return void 0===t&&(t=!1),(t?this.fps():1)*(this.context.endFrame-this.context.startFrame)*this.context.frameTime/1e3},e.fps=function(){return this.context.fps},e.isSameKeyframeOptions=function(t,e){return t.delay===e.delay&&t.duration===e.duration&&t.easing===e.easing},e.isSameKeyframes=function(t,e){return t.offset===e.offset&&t.easing===e.easing},e.generatePathFromShape=function(t){var e=t.close,n=t.v,r=t["in"],i=t.out,o=[];o.push(["M",n[0][0],n[0][1]]);for(var a=1;a<n.length;a++)o.push(["C",i[a-1][0],i[a-1][1],r[a][0],r[a][1],n[a][0],n[a][1]]);return e&&(o.push(["C",i[n.length-1][0],i[n.length-1][1],r[0][0],r[0][1],n[0][0],n[0][1]]),o.push(["Z"])),o},e.render=function(t){var e=this,n=new uc;if(n.append.apply(n,this.displayObjects),Sh(t))t.appendChild(n);else{if(!Vl(t))throw new Error("[g-lottie-player]: We should render Lottie to a mounted DisplayObject or Canvas.");if(!t.isConnected)throw new Error("[g-lottie-player]: Cannot render Lottie to an unmounted DisplayObject.");t.appendChild(n)}return this.displayObjects.forEach((function(t){t.forEach((function(t){var n=e.keyframeAnimationMap.get(t),r=e.displayObjectElementMap.get(t);if(r&&r.clipPath){var i=r.clipPath,o=i.shape,a=i.keyframeAnimation,s=new gc;if(t.parentElement.appendChild(s),t.style.clipPath=s,o&&(s.style.d=e.generatePathFromShape(o)),a&&a.length){var u=a[0],l=u.delay,c=u.duration,h=u.easing,f=u.keyframes,p=s.animate(f.map((function(t){var n=t.offset,r=t.shape,i=t.easing;return{offset:n,d:KC(e.generatePathFromShape(r)),easing:i}})),{delay:l,duration:c,easing:h,iterations:e.context.iterations});e.animations.push(p)}}var d=r.visibilityStartOffset,v=r.visibilityEndOffset,y=r.visibilityFrame;if(!y||n&&n.length||(n=[{duration:e.context.frameTime*y,keyframes:[{offset:0,style:{opacity:1}},{offset:1,style:{opacity:1}}]}]),n&&n.length){var g,m=[];n.map((function(t){var n=t.delay,r=void 0===n?0:n,i=t.duration,o=t.easing,a=t.keyframes,s=a.map((function(t){return Mo(t)})),u=Mo({delay:r,duration:i,easing:o,iterations:e.context.iterations,fill:e.context.fill});m.push([s,u])}));for(var x=[m[0]],b=function(){var t=m[w],n=t[0],r=t[1],i=x.find((function(t){var i=t[0],o=t[1];return i.length===n.length&&e.isSameKeyframeOptions(r,o)}));i?n.forEach((function(t){var n=i[0].find((function(n){return e.isSameKeyframes(t,n)}));if(n){t.offset,t.easing;var r=$C(t,JC);Object.assign(n,r)}else i[0].push(t)})):x.push(m[w])},w=1;w<m.length;w++)b();(g=e.animations).push.apply(g,x.map((function(n){var r=n[0],i=n[1],o=e.formatKeyframes(r,t);if(o.length){var a=t.animate(o,i);return Ht(d)||Ht(v)||(t.style.visibility="hidden",a.onframe=function(){var e=a.effect.getComputedTiming(),n=e.progress;t.style.visibility=n>=d&&n<v?"visible":"hidden"}),e.context.autoplay||a.pause(),a}})).filter((function(t){return!!t})))}}))})),n},e.formatKeyframes=function(t,e){return t.forEach((function(t){t.transform=e.style.transform||"","scaleX"in t&&(t.transform=(t.transform||"")+" scaleX("+(0===t.scaleX?tN:t.scaleX)+")",delete t.scaleX),"scaleY"in t&&(t.transform=(t.transform||"")+" scaleY("+(0===t.scaleY?tN:t.scaleY)+")",delete t.scaleY),"rotation"in t&&(t.transform=(t.transform||"")+" rotate("+t.rotation+"deg)",delete t.rotation),"x"in t&&(t.transform=(t.transform||"")+" translateX("+t.x+"px)",delete t.x),"y"in t&&(t.transform=(t.transform||"")+" translateY("+t.y+"px)",delete t.y),"style"in t&&(Object.keys(t.style).forEach((function(e){t[e]=t.style[e]})),delete t.style)})),t=t.filter((function(t){t.ignore,t.easing;var e=t.offset,n=$C(t,QC);return e>=0&&Object.keys(n).length>0})),t.length&&1!==t[t.length-1].offset&&t.push(ZC({},t[t.length-1],{offset:1})),t.sort((function(t,e){return t.offset-e.offset})),t.forEach((function(t){Object.keys(t).forEach((function(e){""===t[e]&&delete t[e]}))})),t},e.destroy=function(){this.displayObjects.forEach((function(t){t.destroy()}))},e.size=function(t){return{width:this.width,height:this.height}},e.version=function(){return this.context.version},e.play=function(){this.isPaused=!1,this.animations.forEach((function(t){t.play()}))},e.playSegments=function(t){var e=this,n=t[0],r=t[1];this.isPaused=!1,this.animations.forEach((function(t){t.currentTime=n/e.fps()*1e3;var i=t.onframe;t.onframe=function(n){i&&i(n),t.currentTime>=r/e.fps()*1e3&&(t.finish(),t.onframe=i||null)},t.play()}))},e.pause=function(){this.isPaused=!0,this.animations.forEach((function(t){t.pause()}))},e.togglePause=function(){this.isPaused?this.play():this.pause()},e.goTo=function(t,e){var n=this;void 0===e&&(e=!1),e?this.animations.forEach((function(e){e.currentTime=t/n.fps()*1e3})):this.animations.forEach((function(e){e.currentTime=1e3*t}))},e.stop=function(){this.animations.forEach((function(t){t.finish()}))},e.setSpeed=function(t){var e=this;this.animations.forEach((function(n){n.playbackRate=t*e.direction}))},e.setDirection=function(t){this.direction=t,this.animations.forEach((function(e){e.playbackRate*=t}))},t}();function nN(t,e){var n,r,i,o,a,s,u=t.length;for(r=0;r<u;r+=1)if(n=t[r],"ks"in n&&!n.completed){if(n.completed=!0,n.tt&&(t[r-1].td=n.tt),n.hasMask){var l=n.masksProperties;for(o=l.length,i=0;i<o;i+=1)if(l[i].pt.k.i)sN(l[i].pt.k);else for(s=l[i].pt.k.length,a=0;a<s;a+=1)l[i].pt.k[a].s&&sN(l[i].pt.k[a].s[0]),l[i].pt.k[a].e&&sN(l[i].pt.k[a].e[0])}0===n.ty?(n.layers=oN(n.refId,e),nN(n.layers,e)):4===n.ty?aN(n.shapes):5===n.ty&&NN(n)}}function rN(t,e){if(t){var n=0,r=t.length;for(n=0;n<r;n+=1)1===t[n].t&&(t[n].data.layers=oN(t[n].data.refId,e),nN(t[n].data.layers,e))}}function iN(t,e){var n=0,r=e.length;while(n<r){if(e[n].id===t)return e[n];n+=1}return null}function oN(t,e){var n=iN(t,e);return n?n.layers.__used?JSON.parse(JSON.stringify(n.layers)):(n.layers.__used=!0,n.layers):null}function aN(t){var e,n,r,i=t.length;for(e=i-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)sN(t[e].ks.k);else for(r=t[e].ks.k.length,n=0;n<r;n+=1)t[e].ks.k[n].s&&sN(t[e].ks.k[n].s[0]),t[e].ks.k[n].e&&sN(t[e].ks.k[n].e[0]);else"gr"===t[e].ty&&aN(t[e].it)}function sN(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function uN(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&null))}var lN,cN,hN,fN,pN,dN,vN,yN,gN,mN,xN,bN,wN,kN,EN,MN=function(){var t=[4,4,14];function e(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)5===t[n].ty&&e(t[n])}return function(e){if(uN(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),SN=function(){var t=[4,7,99];return function(e){if(e.chars&&!uN(t,e.v)){var n,r=e.chars.length;for(n=0;n<r;n+=1){var i=e.chars[n];i.data&&i.data.shapes&&(aN(i.data.shapes),i.data.ip=0,i.data.op=99999,i.data.st=0,i.data.sr=1,i.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[n].t||(i.data.shapes.push({ty:"no"}),i.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),TN=function(){var t=[5,7,15];function e(t){var e=t.t.p;"number"===typeof e.a&&(e.a={a:0,k:e.a}),"number"===typeof e.p&&(e.p={a:0,k:e.p}),"number"===typeof e.r&&(e.r={a:0,k:e.r})}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)5===t[n].ty&&e(t[n])}return function(e){if(uN(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),PN=function(){var t=[4,1,9];function e(t){var n,r,i,o=t.length;for(n=0;n<o;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(i=t[n].c.k.length,r=0;r<i;r+=1)t[n].c.k[r].s&&(t[n].c.k[r].s[0]/=255,t[n].c.k[r].s[1]/=255,t[n].c.k[r].s[2]/=255,t[n].c.k[r].s[3]/=255),t[n].c.k[r].e&&(t[n].c.k[r].e[0]/=255,t[n].c.k[r].e[1]/=255,t[n].c.k[r].e[2]/=255,t[n].c.k[r].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(uN(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),ON=function(){var t=[4,4,18];function e(t){var n,r,i,o=t.length;for(n=o-1;n>=0;n-=1)if("sh"===t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(i=t[n].ks.k.length,r=0;r<i;r+=1)t[n].ks.k[r].s&&(t[n].ks.k[r].s[0].c=t[n].closed),t[n].ks.k[r].e&&(t[n].ks.k[r].e[0].c=t[n].closed);else"gr"===t[n].ty&&e(t[n].it)}function n(t){var n,r,i,o,a,s,u=t.length;for(r=0;r<u;r+=1){if(n=t[r],n.hasMask){var l=n.masksProperties;for(o=l.length,i=0;i<o;i+=1)if(l[i].pt.k.i)l[i].pt.k.c=l[i].cl;else for(s=l[i].pt.k.length,a=0;a<s;a+=1)l[i].pt.k[a].s&&(l[i].pt.k[a].s[0].c=l[i].cl),l[i].pt.k[a].e&&(l[i].pt.k[a].e[0].c=l[i].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(uN(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}();function CN(t){t.__complete||(PN(t),MN(t),SN(t),TN(t),ON(t),nN(t.layers,t.assets),rN(t.chars,t.assets),t.__complete=!0)}function NN(t){0===t.t.a.length&&t.t.p}(function(t){t[t["Normal"]=0]="Normal",t[t["Multiply"]=1]="Multiply",t[t["Screen"]=2]="Screen",t[t["Overlay"]=3]="Overlay",t[t["Darken"]=4]="Darken",t[t["Lighten"]=5]="Lighten",t[t["ColorDodge"]=6]="ColorDodge",t[t["ColorBurn"]=7]="ColorBurn",t[t["HardLight"]=8]="HardLight",t[t["SoftLight"]=9]="SoftLight",t[t["Difference"]=10]="Difference",t[t["Exclusion"]=11]="Exclusion",t[t["Hue"]=12]="Hue",t[t["Saturation"]=13]="Saturation",t[t["Color"]=14]="Color",t[t["Luminosity"]=15]="Luminosity",t[t["Add"]=16]="Add",t[t["HardMix"]=17]="HardMix"})(lN||(lN={})),function(t){t[t["Normal"]=0]="Normal",t[t["Alpha"]=1]="Alpha",t[t["InvertedAlpha"]=2]="InvertedAlpha",t[t["Luma"]=3]="Luma",t[t["InvertedLuma"]=4]="InvertedLuma"}(cN||(cN={})),function(t){t[t["Off"]=0]="Off",t[t["On"]=1]="On"}(hN||(hN={})),function(t){t[t["Off"]=0]="Off",t[t["On"]=1]="On"}(fN||(fN={})),function(t){t[t["Number"]=0]="Number",t[t["Color"]=2]="Color",t[t["MultiDimensional"]=3]="MultiDimensional",t[t["Boolean"]=7]="Boolean"}(pN||(pN={})),function(t){t[t["Transform"]=5]="Transform",t[t["DropShadow"]=25]="DropShadow"}(dN||(dN={})),function(t){t[t["precomp"]=0]="precomp",t[t["solid"]=1]="solid",t[t["image"]=2]="image",t[t["null"]=3]="null",t[t["shape"]=4]="shape",t[t["text"]=5]="text",t[t["audio"]=6]="audio",t[t["pholderVideo"]=7]="pholderVideo",t[t["imageSeq"]=8]="imageSeq",t[t["video"]=9]="video",t[t["pholderStill"]=10]="pholderStill",t[t["guide"]=11]="guide",t[t["adjustment"]=12]="adjustment",t[t["camera"]=13]="camera",t[t["light"]=14]="light",t[t["data"]=15]="data"}(vN||(vN={})),function(t){t[t["Left"]=0]="Left",t[t["Right"]=1]="Right",t[t["Center"]=2]="Center"}(yN||(yN={})),function(t){t[t["Top"]=0]="Top",t[t["Center"]=1]="Center",t[t["Bottom"]=2]="Bottom"}(gN||(gN={})),function(t){t["Rectangle"]="rc",t["Ellipse"]="el",t["PolyStar"]="sr",t["Path"]="sh",t["Fill"]="fl",t["Stroke"]="st",t["GradientFill"]="gf",t["GradientStroke"]="gs",t["NoStyle"]="no",t["Group"]="gr",t["Transform"]="tr",t["Repeater"]="rp",t["Trim"]="tm",t["RoundedCorners"]="rd",t["PuckerOrBloat"]="pb",t["Merge"]="mm",t["Twist"]="tw",t["OffsetPath"]="op",t["ZigZag"]="zz"}(mN||(mN={})),function(t){t[t["NonZero"]=1]="NonZero",t[t["EvenOdd"]=2]="EvenOdd"}(xN||(xN={})),function(t){t[t["Miter"]=1]="Miter",t[t["Round"]=2]="Round",t[t["Bevel"]=3]="Bevel"}(bN||(bN={})),function(t){t[t["Butt"]=1]="Butt",t[t["Round"]=2]="Round",t[t["Square"]=3]="Square"}(wN||(wN={})),function(t){t[t["Linear"]=1]="Linear",t[t["Radial"]=2]="Radial"}(kN||(kN={})),function(t){t[t["CssUrl"]=1]="CssUrl",t[t["ScriptUrl"]=2]="ScriptUrl",t[t["FontUrl"]=3]="FontUrl"}(EN||(EN={}));var AN=function(){this.fps=void 0,this.frameTime=1e3/30,this.startFrame=0,this.endFrame=void 0,this.version=void 0,this.autoplay=!1,this.fill="auto",this.iterations=0,this.assetsMap=new Map,this.layerOffsetTime=void 0};function LN(t){return Array.isArray(t)&&"number"===typeof t[0]}function _N(t){return LN(null===t||void 0===t?void 0:t.k)}function RN(t){var e=null===t||void 0===t?void 0:t.k;return Array.isArray(e)&&void 0!==e[0].t&&LN(e[0].s)}function IN(t){return"number"===typeof(null===t||void 0===t?void 0:t.k)}function DN(t){var e=null===t||void 0===t?void 0:t.k;return Array.isArray(e)&&void 0!==e[0].t&&"number"===typeof e[0].s}function FN(t){var e=jN(t,3);return"rgba("+[Math.round(255*jN(t,0)),Math.round(255*jN(t,1)),Math.round(255*jN(t,2)),Ht(e)?1:e].join(",")+")"}function jN(t,e){return null!=t?"number"===typeof t?t:t[e||0]:NaN}function BN(t,e,n){var r,i,o,a,s=[];if(s.push((null===(r=t.o)||void 0===r?void 0:r.x)&&(jN(t.o.x,n)||jN(t.o.x,0))||0,(null===(i=t.o)||void 0===i?void 0:i.y)&&(jN(t.o.y,n)||jN(t.o.y,0))||0,(null===(o=t.i)||void 0===o?void 0:o.x)&&(jN(t.i.x,n)||jN(t.i.x,0))||1,(null===(a=t.i)||void 0===a?void 0:a.y)&&(jN(t.i.y,n)||jN(t.i.y,0))||1),0!==s[0]||0!==s[1]||1!==s[2]||1!==s[3])return"cubic-bezier("+s.join(",")+")"}function GN(t,e,n,r){for(var i,o=t.length,a=n.endFrame-n.startFrame,s={duration:0,delay:0,keyframes:[]},u=0;u<o;u++){var l,c=t[u],h=t[u+1],f=1===c.h,p=(c.t+n.layerOffsetTime-n.startFrame)/a,d={offset:p};f||(d.easing=BN(c,h,e));var v=c.s||(null===(l=i)||void 0===l?void 0:l.e);if(v&&r(d,v),d.offset>0&&0===u){var y={offset:0};v&&r(y,v),s.keyframes.push(y)}if(s.keyframes.push(d),f&&h){var g={offset:Math.max((h.t+n.layerOffsetTime-n.startFrame)/a,0)};r(g,v),s.keyframes.push(g)}i=c}return o&&(s.duration=n.frameTime*a),s}function YN(t,e,n,r,i,o){for(var a=function(a){var s=n[a],u=GN(t,a,i,(function(t,n){var r=jN(n,a);o&&(r=o(r)),(e?t[e]={}:t)[s]=r})),l=t.some((function(t){return t.ti&&t.to}));if(l){var c=[];t.forEach((function(t,e){u.keyframes[e].offsetPath=c,t.ti&&t.to&&(0===e&&c.push(["M",t.s[0],t.s[1]]),u.keyframes[e].segmentLength=Ft(c),c.push(["C",t.s[0]+t.to[0],t.s[1]+t.to[1],t.s[0]+t.ti[0],t.s[1]+t.ti[1],t.e[0],t.e[1]]))}));var h=Ft(c);u.keyframes.forEach((function(t){t.offsetDistance=Ht(t.segmentLength)?1:t.segmentLength/h,delete t.segmentLength}))}u.keyframes.length&&r.push(u)},s=0;s<n.length;s++)a(s)}function WN(t,e,n,r,i){var o=GN(t,0,i,(function(t,r){(e?t[e]={}:t)[n]=FN(r)}));o.keyframes.length&&r.push(o)}function zN(t,e,n,r,i,o,a){n&&(e[n]=e[n]||{});var s=n?e[n]:e;if(IN(t)){var u=t.k;s[r[0]]=a?a(u):u}else if(DN(t))YN(t.k,n,r,i,o,a);else if(_N(t))for(var l=0;l<r.length;l++){var c=jN(t.k,l);s[r[l]]=a?a(c):c}else RN(t)&&YN(t.k,n,r,i,o,a)}function XN(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o={x:"x",y:"y",rotation:"rotation",scaleX:"scaleX",scaleY:"scaleY",anchorX:"anchorX",anchorY:"anchorY",skew:"skew",skewAxis:"skewAxis"}),t.p.s?(zN(t.p.x,e,i,[o.x],n,r),zN(t.p.y,e,i,[o.y],n,r)):zN(t.p,e,i,[o.x,o.y],n,r),zN(t.s,e,i,[o.scaleX,o.scaleY],n,r,(function(t){return t/100})),zN(t.r,e,i,[o.rotation],n,r),zN(t.a,e,i,[o.anchorX,o.anchorY],n,r),zN(t.sk,e,i,[o.skew],n,r),zN(t.sa,e,i,[o.skewAxis],n,r)}function VN(t){return t.g&&t.s&&t.e}function UN(t,e){for(var n=[],r=0;r<4*e;){var i=t[r++],o=Math.round(255*t[r++]),a=Math.round(255*t[r++]),s=Math.round(255*t[r++]);n.push({offset:i,color:"rgb("+o+", "+a+", "+s+")"})}return n}function HN(t){return""+t.map((function(t){var e=t.offset,n=t.color;return n+" "+100*e+"%"})).join(", ")}function qN(t){var e=t.g.k.k,n=UN(e,t.g.p);if(t.t===kN.Linear){var r=pa(Math.atan2(t.e.k[1]-t.s.k[1],t.e.k[0]-t.s.k[0]));return"linear-gradient("+r+"deg, "+HN(n)+")"}if(t.t===kN.Radial){var i=ot(t.e.k,t.s.k);return"radial-gradient(circle "+i+"px at "+t.s.k[0]+"px "+t.s.k[1]+"px, "+HN(n)+")"}return"#000"}function KN(t,e,n,r){e.style=e.style||{},VN(t)?e.style.fill=qN(t):_N(t.c)?e.style.fill=FN(t.c.k):RN(t.c)&&WN(t.c.k,"style","fill",n,r),e.style.fillRule=t.r===xN.EvenOdd?"evenodd":"nonzero",zN(t.o,e,"style",["fillOpacity"],n,r,(function(t){return t/100}))}function ZN(t,e,n,r){switch(e.style=e.style||{},VN(t)?e.style.stroke=qN(t):_N(t.c)?e.style.stroke=FN(t.c.k):RN(t.c)&&WN(t.c.k,"style","stroke",n,r),zN(t.o,e,"style",["strokeOpacity"],n,r,(function(t){return t/100})),zN(t.w,e,"style",["lineWidth"],n,r),t.lj){case bN.Bevel:e.style.lineJoin="bevel";break;case bN.Round:e.style.lineJoin="round";break;case bN.Miter:e.style.lineJoin="miter";break}switch(t.lc){case wN.Butt:e.style.lineCap="butt";break;case wN.Round:e.style.lineCap="round";break;case wN.Square:e.style.lineCap="square";break}var i=[],o=0;t.d&&(t.d.forEach((function(t){"o"!==t.n?i.push(t.v.k):o=t.v.k})),e.style.lineDash=i,e.style.lineDashOffset=o)}function $N(t){return t&&t.i&&t.o&&t.v}function JN(t,e,n){var r={type:_a.PATH,style:{fill:"none",stroke:"none"}};if($N(t.ks.k))r.shape={in:t.ks.k.i,out:t.ks.k.o,v:t.ks.k.v,close:t.ks.k.c};else if(Array.isArray(t.ks.k)){var i=GN(t.ks.k,0,n,(function(t,e){t.shape={in:e[0].i,out:e[0].o,v:e[0].v,close:e[0].c}}));i.keyframes.length&&e.push(i)}return r}function QN(t,e,n){var r={type:_a.RECT,style:{fill:"none",stroke:"none"},shape:{}};return zN(t.p,r,"shape",["x","y"],e,n),zN(t.s,r,"shape",["width","height"],e,n),zN(t.r,r,"shape",["r"],e,n),r}function tA(t,e){var n={type:_a.IMAGE,style:{},shape:{width:0,height:0,src:""}},r=e.assetsMap.get(t.refId);return r&&(n.shape.width=r.w,n.shape.height=r.h,n.shape.src=r.p),n}function eA(t,e,n){var r={type:_a.ELLIPSE,style:{fill:"none",stroke:"none"},shape:{}};return zN(t.p,r,"shape",["cx","cy"],e,n),zN(t.s,r,"shape",["rx","ry"],e,n,(function(t){return t/2})),r}function nA(t,e){function n(t,n){var r;switch(t.ty){case mN.Path:r=JN(t,n,e);break;case mN.Ellipse:r=eA(t,n,e);break;case mN.Rectangle:r=QN(t,n,e);break;case mN.PolyStar:break}return r}function r(t,n){t.forEach((function(t){if(!t.hd)switch(t.ty){case mN.Repeater:zN(t.c,n.attrs,"shape",["repeat"],n.keyframeAnimations,e),XN(t.tr,n.attrs,n.keyframeAnimations,e,"shape",{x:"repeatX",y:"repeatY",rotation:"repeatRot",scaleX:"repeatScaleX",scaleY:"repeatScaleY",anchorX:"repeatAnchorX",anchorY:"repeatAnchorY",skew:"repeatSkew",skewAxis:"repeatSkewAxis"});break;case mN.Trim:zN(t.s,n.attrs,"shape",["trimStart"],n.keyframeAnimations,e),zN(t.e,n.attrs,"shape",["trimEnd"],n.keyframeAnimations,e);break}}))}function i(t,o){var a=[],s={},u=[];return t=t.slice().reverse(),r(t,o),t.forEach((function(t){if(!t.hd){var r;switch(t.ty){case mN.Group:r={type:_a.GROUP,children:i(t.it,o)};break;case mN.Fill:case mN.GradientFill:KN(t,s,u,e);break;case mN.Stroke:case mN.GradientStroke:ZN(t,s,u,e);break;case mN.Transform:XN(t,s,u,e);break;default:r=n(t,u)}r&&(r.name=t.nm,a.push(r))}})),a.forEach((function(t,e){t=ZC({},t,Mo(o.attrs),s),(u.length||o.keyframeAnimations.length)&&(t.keyframeAnimation=[].concat(o.keyframeAnimations,u)),a[e]=t})),a}return{type:_a.GROUP,children:i(t.shapes,{attrs:{},keyframeAnimations:[]})}}function rA(t,e){var n;(e(t),t.type===_a.GROUP)&&(null===(n=t.children)||void 0===n||n.forEach((function(t){rA(t,e)})))}function iA(t,e,n){var r,i,o={},a=[];(null===(r=t.ks)||void 0===r?void 0:r.o)&&(zN(t.ks.o,o,"style",["opacity"],a,n,(function(t){return t/100})),((null===(i=o.style)||void 0===i?void 0:i.opacity)||a.length)&&rA(e,(function(t){t.type!==_a.GROUP&&t.style&&(Object.assign(t.style,o.style),a.length&&(t.keyframeAnimation=(t.keyframeAnimation||[]).concat(a)))})))}function oA(t){return{type:_a.RECT,shape:{x:0,y:0,width:t.sw,height:t.sh},style:{fill:t.sc}}}function aA(t,e,n){var r,i=[];t=t.slice().reverse();var o=new Map,a=(null===n||void 0===n?void 0:n.st)||0;return null===(r=t)||void 0===r||r.forEach((function(t){var n,r,s=a+t.ip,u=a+t.op,l=a+t.st;switch(e.layerOffsetTime=a,t.ty){case vN.shape:r=nA(t,e);break;case vN["null"]:r={type:_a.GROUP,children:[]};break;case vN.solid:r={type:_a.GROUP,children:[]},t.sc&&r.children.push(oA(t));break;case vN.precomp:r={type:_a.GROUP,children:aA((null===(n=e.assetsMap.get(t.refId))||void 0===n?void 0:n.layers)||[],e,{st:l})};break;case vN.text:break;case vN.image:r=r={type:_a.GROUP,children:[tA(t,e)]};break}if(r){var c,h=[],f={name:t.nm};if(t.ks&&XN(t.ks,f,h,e),Object.assign(r,f),null!=t.ind&&o.set(t.ind,r),r.extra={layerParent:t.parent},t.hasMask&&(null===(c=t.masksProperties)||void 0===c?void 0:c.length)){var p=[],d=JN({ks:t.masksProperties[0].pt},p,e);r.clipPath=ZC({type:_a.PATH},d),p.length&&(r.clipPath.keyframeAnimation=p)}if(iA(t,r,e),null!=s&&null!=u&&(s>e.startFrame||u<e.endFrame)){var v=e.endFrame-e.startFrame,y=(s-e.startFrame)/v,g=(u-e.startFrame)/v;r.visibilityStartOffset=y,r.visibilityEndOffset=g,r.visibilityFrame=v}h.length&&(r.keyframeAnimation=h),i.push(r)}})),i.filter((function(t){var e,n,r=o.get(null===(e=t.extra)||void 0===e?void 0:e.layerParent);return!r||(null===(n=r.children)||void 0===n||n.push(t),!1)}))}var sA={loop:!0,autoplay:!1,fill:"both"};function uA(t,e){var n;CN(t);var r=ZC({},sA,e),i=r.loop,o=r.autoplay,a=r.fill,s=new AN;s.fps=t.fr||30,s.frameTime=1e3/s.fps,s.startFrame=t.ip,s.endFrame=t.op,s.version=t.v,s.autoplay=!!o,s.fill=a,s.iterations=it(i)?i:i?1/0:1,null===(n=t.assets)||void 0===n||n.forEach((function(t){s.assetsMap.set(t.id,t)}));var u=aA(t.layers||[],s);return{width:t.w,height:t.h,elements:u,context:s}}function lA(t,e){var n=uA(t,e),r=n.width,i=n.height,o=n.elements,a=n.context;return new eN(r,i,o,a)}var cA=function(t){function e(e){var n=t.call(this,e)||this;return n.addLottie=function(){var t=n,e=t.props,r=t.context,i=e.data,o=e.options,a=e.play,s=r.canvas;i&&s.ready.then((function(){if(n.animation=n.animation?n.animation:lA(i,o),n.animation.render(n.ref.current),n.size=n.animation.size(),n.updateSize(),a){var t=a.speed,e=void 0===t?1:t,r=a.start,s=void 0===r?0:r,u=a.end,l=void 0===u?n.animation.getDuration(!0):u;n.animation.setSpeed(e),n.animation.playSegments([s,l])}}))},n.updateSize=function(){var t=n.size,e=t.width,r=t.height,i=n.props.style;if(i){var o=i.width,a=void 0===o?e:o,s=i.height,u=void 0===s?r:s;n.ref.current.scale(a/e,u/r),n.size={width:a,height:u}}},n.ref=bb(),n}return I(e,t),e.prototype.didMount=function(){this.addLottie()},e.prototype.willUpdate=function(){this.addLottie()},e.prototype.render=function(){var t=this.props,e=t.style,n=t.animation;return wb("group",{ref:this.ref,style:e,animation:n})},e}(wd),hA=cA,fA={offsetX:0,offsetY:0,points:[],data:"",animation:null,options:{loop:!0,autoplay:!0}},pA=function(t,e){var n=Sb({},fA,t),r=n.points,i=n.style,o=n.offsetX,a=n.offsetY,s=n.lottieJson,u=n.animation,l=n.options,c=r[0]||{},h=c.x,f=c.y,p=i.height,d=void 0===p?0:p,v=i.width,y=void 0===v?0:v,g=e.px2hd(o),m=e.px2hd(a),x=h+(g||0)-y/2,b=f+(m||0)-d/2;return wb(hA,{data:s,options:l,style:{x:x,y:b,width:y,height:d},animation:Sb({update:{easing:"linear",duration:450,property:["x","y"]}},u)})},dA=function(){return null},vA=QO(DC),yA=QO(FC),gA=QO(jC),mA=QO(BC),xA=QO(GC),bA=QO(WC),wA=QO(HC),kA=QO(pA),EA=QO(dA),MA=gA,SA=(i(229),[{label:"\u8fd11\u6708",key:"lastMonth"},{label:"\u8fd13\u6708",key:"lastQuarter"},{label:"\u8fd16\u6708",key:"lastHalfYear"},{label:"\u8fd11\u5e74",key:"lastYear"},{label:"\u8fd13\u5e74",key:"yield3Year"}]),TA=function(t){var e=t.onChange,n=t.tabs,r=void 0===n?SA:n,i=t.focusKey,o=void 0===i?"lastMonth":i,a=t.className,s=void 0===a?"":a,u=t.spmInfo;if(!(null===r||void 0===r?void 0:r.length))return null;var l=u||{},c=l.spmParam,h=l.spm;return Xx().createElement("div",{className:"tab-wrapper ".concat(s)},r.filter((function(t){return t.label&&t.key})).map((function(t,n){var r=t.label,i=t.key,a=i===o?"focus":"";return Xx().createElement("div",{key:i,"data-aspm-expo":!0,"data-aspm-param":RE(c),"data-aspm-click":h?"".concat(h,"_").concat(n+1):"",className:"tab ".concat(a),onClick:function(){"function"===typeof e&&e({key:i,index:n})}},r)})))},PA=function(t){return t.children},OA=function(t){function e(e){var n=t.call(this,e)||this;n.next=function(){var t=n,e=t.state,r=t.props,i=e.index,o=e.count,a=e.delay,s=r.loop,u=s?(i+1)%o:i+1;u<o&&setTimeout((function(){n.setState({index:u})}),a||0)};var r=e.delay,i=e.start,o=void 0===i?0:i,a=e.children,s=Od.toArray(a).length;return n.state={delay:r,count:s,index:o},n}return I(e,t),e.prototype.didMount=function(){this.animator.on("end",this.next)},e.prototype.didUnmount=function(){this.animator.off("end",this.next)},e.prototype.render=function(){var t=this,e=t.state,n=t.props,r=n.children,i=e.index,o=Od.toArray(r);return o[i]},e}(wd),CA=OA,NA=DT(IT),AA=function(t){var e=t.coord,n=t.records,r=t.shape,i=t.animation,o="smooth"===r,a=e,s=a.left,u=a.top,l=a.width,c=a.height,h=a.center,f=a.startAngle,p=a.endAngle,d=a.radius,v=e.isPolar?{easing:"quadraticOut",duration:450,clip:{type:"sector",property:["endAngle"],style:{cx:h.x,cy:h.y,startAngle:"".concat(f,"rad"),r:d},start:{endAngle:"".concat(f,"rad")},end:{endAngle:"".concat(p,"rad")}}}:{easing:"quadraticOut",duration:450,clip:{type:"rect",property:["width"],style:{x:s,y:u,height:c},start:{width:0},end:{width:l}}};return wb("group",null,n.map((function(t){var e=t.key,n=t.children;return wb("group",{key:e},n.map((function(t){var e=t.points,n=t.bottomPoints,r=t.color,a=t.shape;if(o){var s=function(){var t=[],r=[[0,0],[1,1]],i=(null===n||void 0===n?void 0:n.length)||0,o=e.slice(0,e.length-i),a=Ad(o,!1,r);t.push(["M",o[0].x,o[0].y]);for(var s=0,u=a.length;s<u;s++){var l=a[s];t.push(["C",l[1],l[2],l[3],l[4],l[5],l[6]])}if(i){var c=Ad(n,!1,r);t.push(["L",n[0].x,n[0].y]);for(s=0,u=c.length;s<u;s++){l=c[s];t.push(["C",l[1],l[2],l[3],l[4],l[5],l[6]])}}return t};return wb("path",{style:D({path:s(),lineWidth:"2px",fill:r},a)})}return wb("polygon",{attrs:D({points:e.map((function(t){return[t.x,t.y]})),lineWidth:"2px",fill:r},a),animation:Sb({appear:v,update:{easing:"linear",duration:450,property:["points"]}},i)})})))})))},LA=dO(AA),_A=function(t){var e=t.records,n=t.animation,r=t.y0,i=t.clip,o=t.onClick;return wb("group",{attrs:{clip:i}},e.map((function(t){var e=t.key,i=t.children;return wb("group",{key:e},i.map((function(t){var e=t.key,i=t.xMin,a=t.xMax,s=t.yMin,u=t.yMax,l=t.color,c=t.shape;return isNaN(i)||isNaN(a)||isNaN(s)||isNaN(u)?null:wb("rect",{key:e,attrs:D({x:i,y:s,width:a-i,height:u-s,fill:l},c),onClick:o,animation:Sb({appear:{easing:"linear",duration:450,property:["y","height"],start:{y:r,height:0}},update:{easing:"linear",duration:450,property:["x","y","width","height"]}},n)})})))})))},RA=function(t){var e=t.coord,n=t.records,r=t.animation,i=t.onClick,o=e.center,a=e.startAngle,s=e.endAngle,u=e.radius;return wb("group",{animation:{appear:D({easing:"quadraticOut",duration:450,clip:{type:"sector",property:["endAngle"],style:{cx:o.x,cy:o.y,startAngle:"".concat(a,"rad"),r:u},start:{endAngle:"".concat(a,"rad")},end:{endAngle:"".concat(s,"rad")}}},r&&r.appear)}},n.map((function(t){var e=t.key,n=t.children;return wb("group",{key:e},n.map((function(t){var e=t.key,n=t.xMin,a=t.xMax,s=t.yMin,u=t.yMax,l=t.color,c=t.shape;return wb("sector",{key:e,attrs:D({cx:o.x,cy:o.y,fill:l,lineWidth:1,startAngle:"".concat(n,"rad"),endAngle:"".concat(a,"rad"),r0:s,r:u},c),onClick:i,animation:Sb({update:{easing:"linear",duration:450,property:["x","y","startAngle","endAngle","r0","r"]}},r)})})))})))},IA=function(t){var e=t.coord,n=e.type;return wb("rect"===n?_A:RA,D({},t))};function DA(t){var e=t.xMin,n=t.xMax,r=t.yMin,i=t.yMax;return[{x:e,y:r},{x:n,y:r},{x:n,y:i},{x:e,y:i}]}var FA=function(t){var e=t.records,n=t.shape,r=t.showLabel,i=t.labelCfg,o=t.LabelView,a=!1;return wb("group",null,e.map((function(t,s){var u=t.key,l=t.children,c=s===e.length-1,h=c?t:e[s+1],f=h.children,p=DA(f[0]),d=DA(f[f.length-1]);a||(a=f[0].yMax>l[0].yMax),a&&(p.reverse(),d.reverse());var v=l.map((function(t,e){var r=DA(t);return a&&r.reverse(),c?"pyramid"===n&&(r=[WS(r[0],r[1]),r[2],r[3]]):(0===e&&(r[0]=p[3]),e===l.length-1&&(r[1]=d[2])),D(D({},t),{points:r})}));return wb("group",{key:u},v.map((function(t){var e=t.points,n=t.color,a=t.shape;return wb("group",null,wb("polygon",{attrs:D({points:e.map((function(t){return[t.x,t.y]})),fill:n},a)}),r&&o?wb(o,D({record:t,points:e},i)):null)})))})))},jA=US(y),BA=function(t){var e=t.type,n=t.color;return"square"===e?wb("rect",{style:{width:"12px",height:"12px",marginRight:"10px"},attrs:{fill:n}}):"line"===e?wb("line",{style:{width:"19px",marginRight:"10px"},attrs:{stroke:n,lineCap:"round",lineWidth:"4px"}}):wb("circle",{style:{width:"12px",height:"12px",marginRight:"10px",fill:n}})},GA=function(t){var e=t.items,n=t.itemWidth,r=t.itemFormatter,i=t.style,o=t.marker,a=void 0===o?"circle":o,s=t.itemStyle,u=t.nameStyle,l=t.valueStyle,c=t.valuePrefix,h=t.onClick,f=function(t,e){return void 0===e&&(e=": "),"".concat(e).concat(t)};return wb("group",{style:D({display:"flex"},i)},e.map((function(t){var e=t.color,i=t.name,o=t.value,p=t.filtered,d=t.tickValue,v=W(r)?r(o,d):o;return wb("group",{className:"legend-item",style:D({width:n,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:["6px","6px","6px",0]},s),"data-item":t,onClick:h},BA({color:p?"#bfbfbf":e,type:a}),wb("text",{attrs:D({fill:p?"#bfbfbf":"#808080",text:i},u)}),v?wb("text",{attrs:D({fill:"#808080",text:f(v,c)},l)}):null)})))},YA=GT(GA),WA={showTitle:!1,showCrosshairs:!1,crosshairsType:"y",crosshairsStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:"2px"},showTooltipMarker:!1,markerBackgroundStyle:{fill:"#CCD6EC",opacity:.3,padding:"6px"},tooltipMarkerStyle:{fill:"#fff",lineWidth:"3px"},background:{radius:"4px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"]},titleStyle:{fontSize:"24px",fill:"#fff",textAlign:"start",textBaseline:"top"},nameStyle:{fontSize:"24px",fill:"rgba(255, 255, 255, 0.65)",textAlign:"start",textBaseline:"middle"},valueStyle:{fontSize:"24px",fill:"#fff",textAlign:"start",textBaseline:"middle"},joinString:": ",showItemMarker:!0,itemMarkerStyle:{width:"12px",radius:"6px",symbol:"circle",lineWidth:"2px",stroke:"#fff"},layout:"horizontal",snap:!1,xTipTextStyle:{fontSize:"24px",fill:"#fff"},yTipTextStyle:{fontSize:"24px",fill:"#fff"},xTipBackground:{radius:"4px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"],marginLeft:"-50%",marginTop:"6px"},yTipBackground:{radius:"4px",fill:"rgba(0, 0, 0, 0.65)",padding:["6px","10px"],marginLeft:"-100%",marginTop:"-50%"}};function zA(t,e){return void 0===t||"string"===typeof t&&-1!==t.indexOf(e)}var XA=function(t){var e=t.records,n=t.coord,r=t.context,i=t.markerBackgroundStyle,o=n.convertPoint({x:1,y:1}),a=r.px2hd(i.padding||"6px"),s=Y(Y([],e.map((function(t){return t.xMin})),!0),e.map((function(t){return t.xMax})),!0),u=Y(Y([],e.map((function(t){return t.yMin})),!0),e.map((function(t){return t.yMax})),!0);n.transposed?s.push(o.x):u.push(o.y);var l=Math.min.apply(null,s),c=Math.max.apply(null,s),h=Math.min.apply(null,u),f=Math.max.apply(null,u),p=n.transposed?l:l-a,d=n.transposed?h-a:h,v=n.transposed?c-l:c-l+2*a,y=n.transposed?f-h+2*a:f-h;return wb("rect",{style:D({x:p,y:d,width:v,height:y},i)})},VA=function(t){var e=t.records,n=t.coord,r=t.chart,i=t.crosshairsType,o=t.crosshairsStyle,a=n.left,s=n.top,u=n.right,l=n.bottom,c=n.center,h=e[0],f=h.x,p=h.y,d=h.origin,v=h.xField;if(n.isPolar){var y=r.getScale(v),g=y.getTicks(),m=QT(g,(function(t){return d[v]===t.tickValue})),x=n.convertPoint({x:m.value,y:1});return wb("line",{style:D({x1:c.x,y1:c.y,x2:x.x,y2:x.y},o)})}return wb("group",null,zA(i,"x")?wb("line",{style:D({x1:a,y1:p,x2:u,y2:p},o)}):null,zA(i,"y")?wb("line",{style:D({x1:f,y1:s,x2:f,y2:l},o)}):null)},UA=function(t){var e=t.records,n=t.coord,r=t.xTip,i=t.xTipTextStyle,o=t.xTipBackground,a=n.bottom,s=e[0],u=s.x,l=s.name;return wb("rect",{style:D({display:"flex",left:u,top:a},o)},wb("text",{style:D(D({},i),{text:W(r)?r(l):l})}))},HA=function(t){var e=t.records,n=t.coord,r=t.yTip,i=t.yTipTextStyle,o=t.yTipBackground,a=n.left,s=e[0],u=s.y,l=s.value;return wb("rect",{style:D({display:"flex",left:a,top:u},o)},wb("text",{style:D(D({},i),{text:W(r)?r(l):l})}))},qA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.render=function(){var t=this.props,e=t.records,n=t.background,r=t.showItemMarker,i=t.itemMarkerStyle,o=t.customText,a=t.nameStyle,s=t.valueStyle,u=t.joinString,l=t.arrowWidth,c=t.x,h=t.coord,f=function(t,h){return wb("group",{style:{display:"flex"}},wb("group",{style:D({display:"flex",flexDirection:"row",flexWrap:"wrap",padding:[0,0,0,"6px"],left:t,top:h},n)},e.map((function(t){var e=t.name,n=t.value;return wb("group",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:[0,"6px",0,0]}},r?wb("marker",{style:D(D({width:i.width,marginRight:"6px"},i),{fill:t.color})}):null,o&&W(o)?o(t):wb("group",{style:{display:"flex",flexDirection:"row"}},wb("text",{style:D(D({},a),{text:n?"".concat(e).concat(u):e})}),wb("text",{style:D(D({},s),{text:n})})))}))),wb("group",null,wb("polygon",{style:{points:[[c-l,h],[c+l,h],[c,h+l]],fill:n.fill}})))},p=Zy(this,f(0,0)).layout,d=h.left,v=h.top,y=h.right,g=p.width,m=p.height,x=g/2,b=c-x,w=v-m,k=b<d?d:b>y-g?y-g:b,E=w<0?0:w;return f(k,E)},e}(wd),KA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.render=function(){var t=this,e=t.props,n=t.context,r=e.records,i=e.coord,o=r[0],a=o.x,s=e.chart,u=e.background,l=e.showTooltipMarker,c=void 0===l?WA.showTooltipMarker:l,h=e.markerBackgroundStyle,f=void 0===h?WA.markerBackgroundStyle:h,p=e.showItemMarker,d=void 0===p?WA.showItemMarker:p,v=e.itemMarkerStyle,y=e.nameStyle,g=e.valueStyle,m=e.joinString,x=void 0===m?WA.joinString:m,b=e.showCrosshairs,w=void 0===b?WA.showCrosshairs:b,k=e.crosshairsStyle,E=e.crosshairsType,M=void 0===E?WA.crosshairsType:E,S=e.snap,T=void 0===S?WA.snap:S,P=e.tooltipMarkerStyle,O=void 0===P?WA.tooltipMarkerStyle:P,C=e.showXTip,N=e.showYTip,A=e.xTip,L=e.yTip,_=e.xTipTextStyle,R=void 0===_?WA.xTipTextStyle:_,I=e.yTipTextStyle,F=void 0===I?WA.yTipTextStyle:I,j=e.xTipBackground,B=void 0===j?WA.xTipBackground:j,G=e.yTipBackground,Y=void 0===G?WA.yTipBackground:G,W=e.custom,z=void 0!==W&&W,X=e.customText,V=D(D({},v),WA.itemMarkerStyle),U=D(D({},WA.background),u),H=n.px2hd("6px");return wb("group",null,c?wb(XA,{coord:i,context:n,records:r,markerBackgroundStyle:f}):null,w?wb(VA,{chart:s,coord:i,records:r,crosshairsType:M,crosshairsStyle:D(D({},WA.crosshairsStyle),k)}):null,T?r.map((function(t){var e=t.x,n=t.y,r=t.color,i=t.shape;return wb("circle",{style:D(D({cx:e,cy:n,r:"6px",stroke:r,fill:r},i),O)})})):null,C&&wb(UA,{records:r,coord:i,xTip:A,xTipTextStyle:D(D({},WA.xTipTextStyle),{xTipTextStyle:R}),xTipBackground:D(D({},WA.xTipBackground),{xTipBackground:B})}),N&&wb(HA,{records:r,coord:i,yTip:L,yTipTextStyle:D(D({},WA.yTipTextStyle),{yTipTextStyle:F}),yTipBackground:D(D({},WA.yTipBackground),{yTipBackground:Y})}),!z&&wb(qA,{records:r,coord:i,itemMarkerStyle:V,customText:X,showItemMarker:d,x:a,arrowWidth:H,background:U,nameStyle:D(D({},WA.nameStyle),{nameStyle:y}),valueStyle:D(D({},WA.valueStyle),{valueStyle:g}),joinString:x}))},e}(wd),ZA=KA,$A=tP(ZA),JA=function(t){var e=t.nodes,n=t.coord,r=t.onClick,i=t.label,o=void 0!==i&&i;if(n.isPolar){var a=n.center,s=a.x,u=a.y;return wb("group",null,e.map((function(t){var e=t.xMin,n=t.xMax,i=t.yMin,o=t.yMax,a=t.color;return wb("sector",{style:{cx:s,cy:u,lineWidth:"1px",stroke:"#fff",startAngle:e,endAngle:n,r0:i,r:o,fill:a},onClick:r?function(){return r(t)}:null})})))}return wb("group",null,e.map((function(t){var e=t.key,n=t.xMin,i=t.xMax,a=t.yMin,s=t.yMax,u=t.color;return wb("group",null,wb("rect",{key:e,style:{x:n,y:a,width:i-n,height:s-a,fill:u,lineWidth:"4px",stroke:"#fff",radius:"8px"},animation:{appear:{easing:"linear",duration:450,property:["fillOpacity","strokeOpacity"],start:{fillOpacity:0,strokeOpacity:0},end:{fillOpacity:1,strokeOpacity:1}},update:{easing:"linear",duration:450,property:["x","y","width","height","radius","lineWidth"]}},onClick:r?function(){return r(t)}:null}),o&&wb("text",{style:D({x:(n+i)/2,y:(a+s)/2,text:t.origin.name,fill:"white",textAlign:"center",textBaseline:"middle"},o)}))})))},QA=aO(JA);function tL(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(o(e,a)),r&&i.eachBefore(HP),i}function o(t,e){return function(r){r.children&&qP(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}function eL(t){var e=t;while(e.depth>1)e=e.parent;return e}var nL=function(t){return function(e){function n(t,n){var r=e.call(this,t,n)||this,i=t.color,o=t.data;return r.coord=new Xb,r.color=new kS(D(D({range:_k.colors},i),{data:o})),r}return I(n,e),n.prototype.willMount=function(){var t=this,e=t.props,n=t.coord,r=t.layout,i=e.coord;n.updateLayout(r),n.create(i)},n.prototype.didMount=function(){},n.prototype._mapping=function(t){for(var e=this,n=e.color,r=e.coord,i=0,o=t.length;i<o;i++){var a=t[i],s=eL(a),u=n.mapping(s.data[n.field]);a.color=u;var l=a.x0,c=a.x1,h=a.y0,f=a.y1,p=r.getCoord().convertRect({x:[l,c],y:[h,f]});Cb(a,p),a.children&&a.children.length&&this._mapping(a.children)}},n.prototype.sunburst=function(){var t=this.props,e=t.data,n=t.value,r=t.sort,i=void 0===r||r,o=GP({children:e}).sum((function(t){return t[n]}));if(!0===i||W(i)){var a=W(i)?i:function(t,e){return e[n]-t[n]};o.sort(a)}var s=tL()(o),u=s.children;return this._mapping(u),s},n.prototype.render=function(){var e=this.sunburst(),n=this,r=n.coord,i=n.props;return wb(t,D({},i,{coord:r.getCoord(),node:e,triggerRef:this.triggerRef}))},n}(wd)},rL=function(t){var e=t.coord,n=t.node,r=t.onClick,i=n.children,o=e.center,a=o.x,s=o.y,u=function t(e){return wb("group",null,e.map((function(e){var n=e.xMin,i=e.xMax,o=e.yMin,u=e.yMax,l=e.color,c=e.children;return wb("group",{onClick:r},wb("sector",{attrs:{cx:a,cy:s,lineWidth:"1px",stroke:"#fff",startAngle:"".concat(n," rad"),endAngle:"".concat(i," rad"),r0:o,r:u,fill:l}}),c&&c.length?t(c):null)})))};return u(i)},iL=function(t){var e=t.node,n=t.onClick,r=e.children,i=function t(e){return wb("group",null,e.map((function(e){var r=e.xMin,i=e.xMax,o=e.yMin,a=e.yMax,s=e.color,u=e.children;return wb("group",{onClick:n},wb("rect",{attrs:{x:r,y:o,width:i-r,height:a-o,lineWidth:"1px",stroke:"#fff",fill:s}}),u&&u.length?t(u):null)})))};return i(r)},oL=function(t){var e=t.coord;return"polar"===e.type?wb(rL,D({},t)):wb(iL,D({},t))},aL=nL(oL),sL={anchorOffset:"10px",inflectionOffset:"30px",sidePadding:"15px",height:"64px",adjustOffset:"30",triggerOn:"click",label1OffsetY:"-4px",label2OffsetY:"4px"};function uL(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function lL(t,e){return e<t&&(e+=2*Math.PI),(e+t)/2}function cL(t,e,n,r){var i=r.x,o=t.sort((function(t,e){var n=Math.abs(t.x-i),r=Math.abs(e.x-i);return r-n}));return[o.slice(0,o.length-n),o.slice(o.length-n).concat(e)]}function hL(t){return t>=-Math.PI/2&&t<0}function fL(t){return t>=0&&t<Math.PI/2}function pL(t){return t>=Math.PI/2&&t<Math.PI}function dL(t){return t>=Math.PI&&t<3*Math.PI/2}var vL=function(t){return function(e){function n(t){return e.call(this,t)||this}return I(n,e),n.prototype.willMount=function(){},n.prototype.didMount=function(){},n.prototype.getLabels=function(t){var e=t.chart,n=t.coord,r=t.anchorOffset,i=t.inflectionOffset,o=t.label1,a=t.label2,s=t.height,u=t.sidePadding,l=n.center,c=n.radius,h=n.width,f=n.height,p=n.left,d=n.right,v=n.top,y=Math.floor(f/s),g=2*y,m=e.getGeometrys()[0],x=m.flatRecords().sort((function(t,e){var n=t.xMax-t.xMin,r=e.xMax-e.xMin;return r-n})).slice(0,g),b=[[],[]];if(x.forEach((function(t){var e=t.xMin,n=t.xMax,s=t.color,u=t.origin,h=lL(e,n),f=uL(l,h,c+r),p=uL(l,h,c+i),d=f.x<l.x?"left":"right",v={origin:u,angle:h,anchor:f,inflection:p,side:d,x:p.x,y:p.y,r:c+i,color:s,label1:W(o)?o(u,t):o,label2:W(a)?a(u,t):a};"left"===d?b[0].push(v):b[1].push(v)})),b[0].length>y)b=cL(b[0],b[1],b[0].length-y,l);else if(b[1].length>y){var w=cL(b[1],b[0],b[1].length-y,l),k=w[0],E=w[1];b=[E,k]}var M=h/2-c-r-i-2*u,S=[];return b.forEach((function(t,e){var n=0===e?"left":"right";t.sort((function(t,e){var r=t.angle,i=e.angle;return"left"===n?(r=hL(r)?r+2*Math.PI:r,i=hL(i)?i+2*Math.PI:i,i-r):(r=dL(r)?r-2*Math.PI:r,i=dL(i)?i-2*Math.PI:i,r-i)}));var r=t.map((function(t){return t.y})),i=Math.max.apply(null,r),o=Math.min.apply(null,r),a=t.length,s=f/a,l=s/2,c=2;"left"===n?t.forEach((function(t,e){var r=t.anchor,h=t.inflection,f=t.angle,d=t.x,y=t.y,g=[r,h],m=p+u,x=v+l+s*e,b={x:m+M+c*e,y:x},w={x:m,y:x};if(hL(f)){var k=o-c*(a-e);g.push({x:d,y:k}),g.push({x:b.x,y:k})}else if(pL(f)||dL(f))g.push({x:b.x,y:y});else if(fL(f)){k=i+c*e;g.push({x:d,y:k}),g.push({x:b.x,y:k})}g.push(b),g.push(w),t.points=g,t.side=n,S.push(t)})):t.forEach((function(t,e){var r=t.anchor,h=t.inflection,f=t.angle,p=t.x,y=t.y,g=[r,h],m=d-u,x=v+l+s*e,b={x:m-M-c*e,y:x},w={x:m,y:x};if(dL(f)){var k=o-c*(a-e);g.push({x:p,y:k}),g.push({x:b.x,y:k})}else if(hL(f)||fL(f))g.push({x:b.x,y:y});else if(pL(f)){k=i+c*e;g.push({x:p,y:k}),g.push({x:b.x,y:k})}g.push(b),g.push(w),t.points=g,t.side=n,S.push(t)}))})),S},n.prototype.render=function(){var e=this.context,n=e.px2hd(Sb({},sL,this.props)),r=this.getLabels(n);return wb(t,D({labels:r},n))},n}(wd)},yL=function(t){var e=t.lineStyle,n=t.anchorStyle,r=t.labels,i=t.label1OffsetY,o=t.label2OffsetY,a=t.triggerRef,s=t.onClick;return wb("group",{ref:a},r.map((function(t){var r=t.origin,a=t.anchor,u=t.side,l=t.color,c=t.label1,h=t.label2,f=t.points,p=f[f.length-1];return wb("group",{onClick:s},wb("circle",{attrs:D({r:"4px",cx:a.x,cy:a.y,fill:l},n)}),wb("polyline",{attrs:D({points:f.map((function(t){return[t.x,t.y]})),lineWidth:"2px",stroke:l},e)}),wb("text",{className:"click",attrs:D({x:p.x,y:p.y+i,fontSize:"24px",lineHeight:"24px",fill:l,textBaseline:"bottom",textAlign:"left"===u?"left":"right"},c),data:r}),wb("text",{className:"click",attrs:D({x:p.x,y:p.y+o,fontSize:"24px",lineHeight:"24px",fill:"#808080",textBaseline:"top",textAlign:"left"===u?"left":"right"},h),data:r}))})))},gL=vL(yL),mL=function(t,e,n){var r=t.x+Math.cos(e)*n,i=t.y+Math.sin(e)*n;return{x:r,y:i}},xL=function(t,e,n,r,i,o,a){for(var s=[],u=e-t,l=0;l<=n;l++){var c=t+u*l/n,h=mL(r,c,i+o-a),f=mL(r,c,i+o);s.push({tickValue:c,start:h,end:f})}return s},bL=function(t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return I(n,e),n.prototype.render=function(){var e=this,n=e.props,r=e.context,i=n.startAngle,o=n.endAngle,a=n.tickCount,s=n.center,u=n.r,l=n.tickOffset,c=n.tickLength,h=xL(i,o,a,s,r.px2hd(u),r.px2hd(l),r.px2hd(c));return wb(t,D({},n,{ticks:h}))},n}(wd)},wL=bL,kL=function(t){var e=t.center,n=t.startAngle,r=t.endAngle,i=t.r,o=t.percent,a=t.ticks,s=e.x,u=e.y,l=r-n;return wb("group",null,wb("arc",{attrs:{cx:s,cy:u,r:i,startAngle:"".concat(n," rad"),endAngle:"".concat(r," rad"),lineWidth:"20px",lineCap:"round",stroke:"#e7e7e7"}}),wb("arc",{attrs:{cx:s,cy:u,r:i,startAngle:"".concat(n," rad"),endAngle:"".concat(n," rad"),lineWidth:"40px",lineCap:"round",stroke:"#0075ff"},animation:{appear:{easing:"linear",duration:500,property:["endAngle"],start:{endAngle:"".concat(n," rad")},end:{endAngle:"".concat(n+l*o," rad")}}}}),a.map((function(t){var e=t.start,n=t.end;return wb("line",{attrs:{x1:e.x,y1:e.y,x2:n.x,y2:n.y,lineWidth:"6px",lineCap:"round",stroke:"#e7e7e7"}})})))},EL=wL(kL);function ML(t,e){if(t.length!==e.length)return!1;var n=t.length-1;return t[0]===e[0]&&t[n]===e[n]}function SL(t,e,n){var r=t.values,i=t.ticks,o=t.tickMethod,a=t.tickCount,s=e.values,u=n[0],l=n[1],c=s.length,h=u*c,f=l*c,p=Math.round(f-h),d=Math.round(h),v=s.slice(d,d+p),y=Math.round(a*s.length/v.length),g=hw(o),m=g({tickCount:y,values:s});if(!ML(r,v)||!ML(i,m))return t.change({values:v,ticks:m}),t}function TL(t,e,n){var r=e.min,i=e.max,o=n[0],a=n[1],s=r+(i-r)*o,u=r+(i-r)*a;t.change({min:s,max:u,nice:!1})}function PL(t,e){var n=t.isLinear;if(n){var r=Ub(e),i=r.min,o=r.max;return t.change({min:i,max:o,nice:!0})}}function OL(t,e,n){var r=t.isCategory,i=t.isLinear;return r?SL(t,e,n):i?TL(t,e,n):void 0}function CL(t,e,n){var r=e.field,i=e.type,o=e.values,a={};return o.forEach((function(t){a[t]=!0})),t.map((function(t){var e=t.field,o=[];return n.forEach((function(t){var n="timeCat"===i?EM(t[r]):t[r];a[n]&&o.push(t[e])})),PL(t,o)}))}function NL(t,e,n){return(e-t)*n+t}function AL(t,e){for(var n in t)if(!Yt(t[n],e[n]))return!1;return!0}function LL(t,e){return new t.constructor(D(D({},t.__cfg__),e))}var _L=function(t){return function(e){function n(t){var n=this,r={onPanStart:function(){},onPinchStart:function(){},onPan:function(){},onPinch:function(){},onInit:function(){},onPanEnd:function(){},onPinchEnd:function(){},minCount:10};n=e.call(this,D(D({},r),t))||this,n.scale={},n.originScale={},n.swipeEnd={startX:0,startY:0,endX:0,endY:0},n.onStart=function(){var t=n.state,e=t.range;n.startRange=e,n.loop&&cancelAnimationFrame(n.loop)},n.onPan=function(t){var e=n.dims,r={};gd(e,(function(e){"x"!==e?"y"!==e||(r["y"]=n._doYPan(t)):r["x"]=n._doXPan(t)})),AL(r,n.state.range)||n.setState({range:r})},n.onSwipe=function(t){var e=n.props.swipe;if(!(n.props.mode.length<2)&&e){var r=t.velocityX,i=void 0===r?0:r,o=t.velocityY,a=void 0===o?0:o,s=t.points,u=n.state.range,l=s[0],c=l.x,h=l.y;Math.abs((null===u||void 0===u?void 0:u.x[0])-0)<5e-4&&i>0||Math.abs((null===u||void 0===u?void 0:u.x[1])-1)<5e-4&&i<0||Math.abs((null===u||void 0===u?void 0:u.y[0])-0)<5e-4&&a<0||Math.abs((null===u||void 0===u?void 0:u.x[1])-1)<5e-4&&a>0||(n.swipeEnd={startX:c,startY:h,endX:c+50*i,endY:h-50*a},n.onStart(),n.update())}},n.onPinch=function(t){var e=n.dims,r={};gd(e,(function(e){"x"!==e?"y"!==e||(r["y"]=n._doYPinch(t)):r["x"]=n._doXPinch(t)})),AL(r,n.state.range)||n.setState({range:r})},n.onEnd=function(){n.startRange=null};var i=t.mode;return n.dims=U(i)?i:[i],n}return I(n,e),n.prototype.didMount=function(){var t=this.scale,e=this.props.onInit;e({scale:t}),this._bindEvents()},n.prototype.willReceiveProps=function(t){var e=t.range,n=this.props.range;if(!tt(e,n)){var r={};gd(this.dims,(function(t){r[t]=e})),this.state={range:r}}},n.prototype.willMount=function(){var t=this,e=this,n=e.props,r=e.dims,i=n.minCount,o=n.range,a=Number.MIN_VALUE,s={};gd(r,(function(e){var n=t._getScale(e),r=n.values;a=r.length>a?r.length:a,t.scale[e]=n,t.originScale[e]=LL(n),t.updateRange(o,e),s[e]=o})),this.minScale=i/a,this.state={range:s}},n.prototype.didUnmount=function(){this.loop&&cancelAnimationFrame(this.loop)},n.prototype._bindEvents=function(){var t=this,e=this.scale,n=this.props,r=n.chart,i=n.onPinchStart,o=n.onPanStart,a=n.onPanEnd,s=n.pan,u=n.pinch,l=n.swipe,c=n.onPan,h=n.onPinch,f=n.onPinchEnd;!1!==s&&(r.on("panstart",(function(){t.onStart(),o({scale:e})})),r.on("pan",(function(e){t.onPan(e),c(e)})),r.on("panend",(function(){t.onEnd(),a({scale:e})}))),!1!==u&&(r.on("pinchstart",(function(){t.onStart(),i()})),r.on("pinch",(function(e){t.onPinch(e),h(e)})),r.on("pinchend",(function(){t.onEnd(),f({scale:e})}))),!1!==l&&r.on("swipe",this.onSwipe)},n.prototype.update=function(){var t=this,e=this.swipeEnd,n=e.startX,r=e.startY,i=e.endX,o=e.endY,a=NL(n,i,.05),s=NL(r,o,.05);this.swipeEnd={startX:a,startY:s,endX:i,endY:o};var u=this.props,l=u.coord,c=l.width,h=l.height,f={};f["x"]=this._doPan((a-n)/c,"x"),f["y"]=this._doPan((s-r)/h,"y"),this.setState({range:f}),this.startRange=f,this.loop=requestAnimationFrame((function(){return t.update()})),Math.abs(a-i)<5e-4&&Math.abs(s-o)<5e-4&&(this.onEnd(),cancelAnimationFrame(this.loop))},n.prototype._doXPan=function(t){var e=t.direction,n=t.deltaX;if(1===this.props.mode.length&&("up"===e||"down"===e))return this.state.range["x"];t.preventDefault&&t.preventDefault();var r=this.props,i=r.coord,o=r.panSensitive,a=void 0===o?1:o,s=i.width,u=n/s*a,l=this._doPan(u,"x");return l},n.prototype._doYPan=function(t){var e=t.direction,n=t.deltaY;if(1===this.props.mode.length&&("left"===e||"right"===e))return this.state.range["y"];t.preventDefault&&t.preventDefault();var r=this.props,i=r.coord,o=r.panSensitive,a=void 0===o?1:o,s=i.height,u=-n/s*a,l=this._doPan(u,"y");return l},n.prototype._doPan=function(t,e){var n=this.startRange,r=n[e],i=r[0],o=r[1],a=o-i,s=a*t,u=i-s,l=o-s,c=this.updateRange([u,l],e);return c},n.prototype._doXPinch=function(t){t.preventDefault&&t.preventDefault();var e=t.zoom,n=t.center,r=this.props,i=r.coord,o=i.width,a=i.left,s=i.right,u=Math.abs(n.x-a),l=Math.abs(s-n.x),c=u/o,h=l/o,f=this._doPinch(c,h,e,"x");return f},n.prototype._doYPinch=function(t){t.preventDefault&&t.preventDefault();var e=t.zoom,n=t.center,r=this.props,i=r.coord,o=i.height,a=i.top,s=i.bottom,u=Math.abs(n.y-a),l=Math.abs(s-n.y),c=u/o,h=l/o,f=this._doPinch(c,h,e,"y");return f},n.prototype._doPinch=function(t,e,n,r){var i=this,o=i.startRange,a=i.minScale,s=i.props,u=s.pinchSensitive,l=void 0===u?1:u,c=o[r],h=c[0],f=c[1],p=n<1?(1/n-1)*l:(1-n)*l,d=f-h,v=d*p,y=v*t,g=v*e,m=Math.max(0,h-y),x=Math.min(1,f+g),b=[m,x];return x-m<a?this.state.range[r]:this.updateRange(b,r)},n.prototype.updateRange=function(t,e){if(t){var n,r=t[0],i=t[1],o=i-r;n=r<0?[0,o]:i>1?[1-o,1]:t;var a=this,s=a.props,u=a.scale,l=a.originScale,c=a.state,h=s.chart,f=s.data,p=s.autoFit,d=c.range;if(d&&AL(n,d[e]))return n;if(OL(u[e],l[e],n),p){var v=this._getFollowScales(e);this.updateFollow(v,u[e],f)}var y=h.animate;return h.setAnimate(!1),h.forceUpdate((function(){h.setAnimate(y)})),n}},n.prototype.updateFollow=function(t,e,n){CL(t,e,n)},n.prototype._getScale=function(t){var e=this.props,n=e.coord,r=e.chart;return"x"===t?n.transposed?r.getYScales()[0]:r.getXScales()[0]:n.transposed?r.getXScales()[0]:r.getYScales()[0]},n.prototype._getFollowScales=function(t){var e=this.props,n=e.coord,r=e.chart;return"x"===t?n.transposed?r.getXScales():r.getYScales():"y"===t?n.transposed?r.getYScales():r.getXScales():void 0},n.prototype.render=function(){return wb(t,D({},this.props,this.state))},n}(wd)},RL=function(t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return I(n,e),n.prototype.willMount=function(){e.prototype.willMount.call(this);var t=this,n=t.context,r=t.props,i=r.visible,o=r.position,a=void 0===o?"bottom":o,s=r.margin,u=void 0===s?"16px":s,l=r.chart,c=n.px2hd(u);if(!1===i)return null;l.updateCoordFor(this,{position:a,width:"left"===a||"right"===a?c:0,height:"bottom"===a||"top"===a?c:0})},n.prototype.render=function(){var e=this,n=e.props,r=e.state,i=n.visible;return!1===i?null:wb(t,D({position:"bottom"},n,r))},n}(wd)},IL=function(t,e){var n=t.coord,r=t.range,i=t.position,o=t.layout,a=n.left,s=n.width,u=o.top,l=o.height,c=(null===r||void 0===r?void 0:r.x)||(null===r||void 0===r?void 0:r.y),h=c[0],f=c[1],p=s*h,d=s*(f-h);if(!isNaN(d))return wb("group",{style:{display:"flex",left:a,top:"top"===i?u-e.px2hd("8px"):u+l}},wb("line",{style:{display:"flex",position:"absolute",left:0,width:s,height:0,stroke:"rgba(202, 215, 239, .2)",lineCap:"round",lineWidth:"8px"}}),wb("line",{style:{display:"flex",position:"absolute",left:p,width:d,height:0,stroke:"rgba(202, 215, 239, .5)",lineCap:"round",lineWidth:"8px"}}))},DL=function(t,e){var n=t.coord,r=t.range,i=t.position,o=t.layout,a=n.top,s=n.height,u=o.left,l=o.width,c=(null===r||void 0===r?void 0:r.y)||(null===r||void 0===r?void 0:r.x),h=c[0],f=c[1],p=s*h,d=s*(f-h);return wb("group",{style:{display:"flex",top:a,left:"left"===i?u-e.px2hd("8px"):u+l}},wb("line",{style:{position:"absolute",top:0,left:0,width:0,height:s,stroke:"rgba(202, 215, 239, .2)",lineCap:"round",lineWidth:"8px"}}),wb("line",{style:{position:"absolute",top:p,width:0,height:d,stroke:"rgba(202, 215, 239, .5)",lineCap:"round",lineWidth:"8px"}}))},FL=function(t){var e=t.position,n=t.mode;return n.length>1?wb("group",null,wb(DL,D({},t)),wb(IL,D({},t))):wb("left"===e||"right"===e?DL:IL,D({},t))},jL=_L(RL(FL)),BL=(i(3449),E(E(E({Canvas:Yx,ReactCanvas:gb,Chart:BE,Point:FS,ProLegend:YS,Gauge:JS,Axis:NT,AxisX:dT,AxisY:gT,PolarAxisX:PT,PolarAxisY:CT,Line:FT,Bar:BT,Legend:HT,Tooltip:cP,PieLabel:yP,Title:mP,Description:bP,Treemap:lO,Area:l,Widgets:c,Helpers:h,Radar:f,Ring:p},v),d),{},{px2hd:EE,F2:g,jsx:wb,version:qx,Util:a}))}(),o}()}));